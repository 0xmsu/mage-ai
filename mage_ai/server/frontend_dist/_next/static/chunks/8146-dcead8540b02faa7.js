"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8146],{58146:function(e,n,r){var t=r(21831),s=r(75582),i=r(82394),l=r(21764),c=r(82684),d=r(83455),o=r(34376),u=r(71180),a=r(70652),x=r(15338),h=r(97618),j=r(55485),m=r(85854),f=r(65956),Z=r(36288),p=r(44085),g=r(28274),v=r(38276),P=r(75499),_=r(30160),b=r(35576),I=r(17488),S=r(69650),y=r(5332),C=r(8193),O=r(72473),E=r(70515),k=r(24755),N=r(48277),T=r(81728),M=r(3917),w=r(76417),A=r(86735),D=r(42122),H=r(72619),R=r(95924),B=r(28598);function W(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function L(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?W(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var U,F=2*E.iI;!function(e){e.ROLES="Roles",e.USERS="Users"}(U||(U={})),n.Z=function(e){var n,r=e.contained,i=e.onCancel,W=e.slug,z=(0,o.useRouter)(),G=(0,c.useState)(!0),K=G[0],V=G[1],Y=(0,c.useState)(null),q=Y[0],$=Y[1],J=(0,c.useState)({}),Q=J[0],X=J[1],ee=(0,c.useState)(null),ne=ee[0],re=ee[1],te=(0,c.useCallback)((function(e,n,r){re(L(L({},e),{},{rolesMapping:(0,A.HK)(n||[],(function(e){return e.id})),usersMapping:(0,A.HK)(r||[],(function(e){return e.id}))}))}),[re]),se=(0,c.useCallback)((function(e){X((function(n){return L(L({},n),e)})),re((function(n){return L(L({},n),e)}))}),[X,re]),ie=y.ZP.permissions.detail(W,{},{revalidateOnFocus:!1}).data,le=(0,c.useMemo)((function(){return null==ie?void 0:ie.permission}),[ie]);(0,c.useEffect)((function(){le&&te(le,null==le?void 0:le.roles,null==le?void 0:le.users)}),[te,le]);var ce=y.ZP.permissions.list({_format:"with_only_entity_options",only_entity_options:!0},{},{pauseFetch:!!le}).data,de=(0,c.useMemo)((function(){var e;return null==ce||null===(e=ce.permissions)||void 0===e?void 0:e[0]}),[ce]),oe=(0,c.useMemo)((function(){var e;return(null===(e=le||de)||void 0===e?void 0:e.entity_names)||[]}),[le,de]),ue=(0,c.useMemo)((function(){var e;return(null===(e=le||de)||void 0===e?void 0:e.entity_types)||[]}),[le,de]),ae=(0,d.Db)(le?y.ZP.permissions.useUpdate(null==le?void 0:le.id):y.ZP.permissions.useCreate(),{onSuccess:function(e){return(0,H.wD)(e,{callback:function(e){var n=e.permission;X({}),te(n,null==n?void 0:n.roles,null==n?void 0:n.users),le||z.push("/settings/workspace/permissions/".concat(null==n?void 0:n.id)),l.Am.success(le?"Permission successfully updated.":"New permission created successfully.",{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:"permission-mutate-success-".concat(n.id)})},onErrorCallback:function(e){var n=e.error,r=n.errors,t=n.exception,s=n.message,i=n.type;l.Am.error((null==r?void 0:r.error)||t||s,{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:i})}})}}),xe=(0,s.Z)(ae,2),he=xe[0],je=xe[1].isLoading,me=(0,d.Db)(y.ZP.permissions.useDelete(null==le?void 0:le.id),{onSuccess:function(e){return(0,H.wD)(e,{callback:function(){z.push("/settings/workspace/permissions"),l.Am.success("Permission successfully delete.",{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:"permission-delete-success-".concat(null==le?void 0:le.id)})},onErrorCallback:function(e){var n=e.error,r=n.errors,t=n.exception,s=n.message,i=n.type;l.Am.error((null==r?void 0:r.error)||t||s,{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:i})}})}}),fe=(0,s.Z)(me,2),Ze=fe[0],pe=fe[1].isLoading,ge=(0,c.useMemo)((function(){return(null==ne?void 0:ne.access)||0}),[ne]),ve=(0,c.useCallback)((function(e){return e.map((function(e,n){var r=Z.K4[e],t=Boolean(ge&Number(e)),s=(0,N.fD)(ge),i=(0,N.fD)(e);return(0,B.jsx)(v.Z,{mt:n>=1?1:0,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(S.Z,{checked:t,compact:!0,onCheck:function(e){return se({access:(0,N.$P)(e(t)?(0,N.vN)(s,i):(0,N.VJ)(s,i))})}}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(_.ZP,{default:!t,children:r})]})},r)}))}),[ge,se]),Pe=(0,c.useMemo)((function(){return(null==ne?void 0:ne.conditions)||[]}),[ne]),_e=(0,c.useMemo)((function(){var e=Z.WG.DISABLE_UNLESS_CONDITIONS,n=(0,N.fD)(ge),r=(0,N.fD)(e),s=Boolean(ge&Number(e)),i=new Set((0,t.Z)(Pe)),l=i.has(Z.m_.HAS_NOTEBOOK_EDIT_ACCESS),c=i.has(Z.m_.HAS_PIPELINE_EDIT_ACCESS),d=i.has(Z.m_.USER_OWNS_ENTITY),o=s&&l,u=s&&c,a=s&&d;return(0,B.jsxs)(j.ZP,{flexDirection:"column",children:[(0,B.jsx)(v.Z,{mt:1,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(S.Z,{checked:o,compact:!0,onCheck:function(e){var l=n;e(o)?(s||(l=(0,N.vN)(n,r)),i.add(Z.m_.HAS_NOTEBOOK_EDIT_ACCESS)):(c||d||(l=(0,N.VJ)(n,r)),i.delete(Z.m_.HAS_NOTEBOOK_EDIT_ACCESS)),se({access:(0,N.$P)(l),conditions:(0,t.Z)(i)})}}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(_.ZP,{default:!o,children:Z.ND[Z.m_.HAS_NOTEBOOK_EDIT_ACCESS]})]})}),(0,B.jsx)(v.Z,{mt:1,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(S.Z,{checked:u,compact:!0,onCheck:function(e){var c=n;e(u)?(s||(c=(0,N.vN)(n,r)),i.add(Z.m_.HAS_PIPELINE_EDIT_ACCESS)):(l||d||(c=(0,N.VJ)(n,r)),i.delete(Z.m_.HAS_PIPELINE_EDIT_ACCESS)),se({access:(0,N.$P)(c),conditions:(0,t.Z)(i)})}}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(_.ZP,{default:!u,children:Z.ND[Z.m_.HAS_PIPELINE_EDIT_ACCESS]})]})}),(0,B.jsx)(v.Z,{mt:1,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(S.Z,{checked:a,compact:!0,onCheck:function(e){var c=n;e(a)?(s||(c=(0,N.vN)(n,r)),i.add(Z.m_.USER_OWNS_ENTITY)):(l||l||(c=(0,N.VJ)(n,r)),i.delete(Z.m_.USER_OWNS_ENTITY)),se({access:(0,N.$P)(c),conditions:(0,t.Z)(i)})}}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(_.ZP,{default:!a,children:Z.ND[Z.m_.USER_OWNS_ENTITY]})]})})]})}),[ge,Pe,se]),be=y.ZP.roles.list({},{},{pauseFetch:!le}).data,Ie=(0,c.useMemo)((function(){return(0,A.YC)((null==be?void 0:be.roles)||[],"name")}),[be]),Se=(0,c.useMemo)((function(){return(null==ne?void 0:ne.rolesMapping)||{}}),[ne]),ye=(0,c.useMemo)((function(){return(0,A.YC)(Object.values(Se),"name")}),[Se]),Ce=y.ZP.users.list({},{},{pauseFetch:!le}).data,Oe=((0,c.useMemo)((function(){return(0,A.YC)((null==Ce?void 0:Ce.users)||[],(function(e){return(0,w.s)(e)}))}),[Ce]),(0,c.useMemo)((function(){return(null==ne?void 0:ne.usersMapping)||{}}),[ne])),Ee=(0,c.useMemo)((function(){return(0,A.YC)(Object.values(Oe),(function(e){return(0,w.s)(e)}))}),[Oe]),ke=(0,c.useMemo)((function(){return(null==ye?void 0:ye.length)>=1}),[ye]),Ne=(0,c.useMemo)((function(){return(0,B.jsx)(u.ZP,{beforeIcon:(0,B.jsx)(O.Add,{}),compact:!0,onClick:function(){$(U.ROLES),V(!1)},primary:!ke,secondary:ke,small:!0,children:"Add roles"})}),[ke,$,V]),Te=(0,c.useMemo)((function(){return(null==Ee?void 0:Ee.length)>=1}),[Ee]),Me=(0,c.useCallback)((function(e,n){return(0,B.jsx)(P.Z,{columnFlex:[null,1],columns:[{label:function(){var n=null==e?void 0:e.every((function(e){var n=e.id;return null==Se?void 0:Se[n]}));return(0,B.jsx)(a.Z,{checked:n,onClick:function(r){(0,R.j)(r),se(n?{rolesMapping:{}}:{rolesMapping:(0,A.HK)(e,(function(e){return e.id}))})}},"checkbox")},uuid:"actions"},{uuid:"Role"}],onClickRow:n?function(n){var r=e[n];r&&window.open("/settings/workspace/roles/".concat(null==r?void 0:r.id),"_blank").focus()}:null,rows:null==e?void 0:e.map((function(e){var n=e.name,r=e.id,t=!(null==Se||!Se[r]);return[(0,B.jsx)(a.Z,{checked:t,onClick:function(n){(0,R.j)(n);var s=L({},Se);t?null==s||delete s[r]:s[r]=e,se({rolesMapping:s})}},"checkbox"),(0,B.jsx)(_.ZP,{monospace:!0,children:n},"name")]})),uuid:"roles"})}),[Se,se]),we=(0,c.useCallback)((function(e,n){return(0,B.jsx)(P.Z,{columnFlex:[1,1,1],columns:[{uuid:"Username"},{uuid:"First name"},{uuid:"Last name"}],onClickRow:n?function(n){var r=e[n];r&&window.open("/settings/workspace/users/".concat(null==r?void 0:r.id),"_blank").focus()}:null,rows:null==e?void 0:e.map((function(e){var n=e.first_name,r=e.last_name,t=e.username;return[(0,B.jsx)(_.ZP,{children:t},"username"),(0,B.jsx)(_.ZP,{default:!0,children:n},"firstName"),(0,B.jsx)(_.ZP,{default:!0,children:r},"lastName")]})),uuid:"users"})}),[Oe,se]),Ae=(0,c.useMemo)((function(){return Me(Ie)}),[Me,Ie]),De=(0,c.useMemo)((function(){return Me(ye,!0)}),[Me,ye]),He=(0,c.useMemo)((function(){return we(Ee,!0)}),[we,Ee]),Re=(0,B.jsxs)(C.N,{children:[(0,B.jsxs)(f.Z,{noPadding:!0,children:[(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsx)(m.Z,{level:4,children:le?"Permission ".concat(null==le?void 0:le.id):"New permission"})}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsxs)(_.ZP,{danger:"entity_name"in Q&&!(null!=ne&&ne.entity_name),default:!0,large:!0,children:["Entity ","entity_name"in Q&&!(null!=ne&&ne.entity_name)&&(0,B.jsx)(_.ZP,{danger:!0,inline:!0,large:!0,children:"is required"})]}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(h.Z,{flex:1,justifyContent:"flex-end",children:(0,B.jsx)(p.Z,{afterIconSize:F,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,onChange:function(e){return se({entity_name:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"Select an entity",value:(null==ne?void 0:ne.entity_name)||"",children:oe.map((function(e){return(0,B.jsx)("option",{value:e,children:(0,T.j3)(e)},e)}))})})]})}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Entity subtype"}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(h.Z,{flex:1,justifyContent:"flex-end",children:(0,B.jsxs)(p.Z,{afterIconSize:F,alignRight:!0,autoComplete:"off",large:!0,monospace:!0,noBackground:!0,noBorder:!0,onChange:function(e){return se({entity_type:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"Select an entity subtype",value:(null==ne?void 0:ne.entity_type)||"",children:[(0,B.jsx)("option",{value:""}),ue.map((function(e){return(0,B.jsx)("option",{value:e,children:e},e)}))]})})]})}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Enity UUID"}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsx)(I.Z,{afterIcon:(0,B.jsx)(O.Edit,{}),afterIconClick:function(e,n){var r;null==n||null===(r=n.current)||void 0===r||r.focus()},afterIconSize:F,alignRight:!0,autoComplete:"off",large:!0,monospace:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return se({entity_id:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. pipeline_uuid",value:(null==ne?void 0:ne.entity_id)||""})})]})})]}),(0,B.jsx)(v.Z,{mb:E.HN}),(0,B.jsxs)(f.Z,{noPadding:!0,children:[(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsx)(m.Z,{level:4,children:"Access"})}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Groups"})}),ve(Z.G9)]})}),(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Special conditions"})}),_e]})})]}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Operations"})}),ve(Z.Pt)]})}),(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Disable operations"})}),ve(Z.oO)]})})]}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsxs)(j.ZP,{alignItems:"flex-start",children:[(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Read attributes"})}),ve(Z.Fy)]})}),(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{fullWidth:!0,p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Readable attributes (comma separated)"})}),(0,B.jsx)(b.Z,{fullWidth:!0,monospace:!0,onChange:function(e){return se({read_attributes:e.target.value})},placeholder:"e.g. email",value:(null==ne?void 0:ne.read_attributes)||""})]})})]}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsxs)(j.ZP,{alignItems:"flex-start",children:[(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Write attributes"})}),ve(Z.H1)]})}),(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{fullWidth:!0,p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Writable attributes (comma separated)"})}),(0,B.jsx)(b.Z,{fullWidth:!0,monospace:!0,onChange:function(e){return se({write_attributes:e.target.value})},placeholder:"e.g. password",value:(null==ne?void 0:ne.write_attributes)||""})]})})]}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsxs)(j.ZP,{alignItems:"flex-start",children:[(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Query parameters"})}),ve(Z.hl)]})}),(0,B.jsx)(h.Z,{flex:1,children:(0,B.jsxs)(v.Z,{fullWidth:!0,p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Parameters that can be queried (comma separated)"})}),(0,B.jsx)(b.Z,{fullWidth:!0,monospace:!0,onChange:function(e){return se({query_attributes:e.target.value})},placeholder:"e.g. include_outputs",value:(null==ne?void 0:ne.query_attributes)||""})]})})]})]}),(0,B.jsx)(v.Z,{mb:E.HN}),le&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(f.Z,{noPadding:!0,children:[(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsxs)(j.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,B.jsx)(m.Z,{level:4,children:"Roles"}),(0,B.jsx)(v.Z,{mr:E.cd}),ke&&(0,B.jsx)(j.ZP,{alignItems:"center",children:Ne})]})}),(0,B.jsx)(x.Z,{light:!0}),!ke&&(0,B.jsxs)(v.Z,{p:E.cd,children:[(0,B.jsx)(v.Z,{mb:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,children:"This permission is currently not attached to any role."})}),(0,B.jsx)(j.ZP,{alignItems:"center",children:Ne})]}),ke&&(0,B.jsx)(v.Z,{pb:E.Mq,children:De})]}),(0,B.jsx)(v.Z,{mb:E.HN}),(0,B.jsxs)(f.Z,{noPadding:!0,children:[(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsx)(j.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,B.jsx)(m.Z,{level:4,children:"Users"})})}),(0,B.jsx)(x.Z,{light:!0}),!Te&&(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsx)(_.ZP,{default:!0,children:"There are currently no users with this permission."})}),Te&&(0,B.jsx)(v.Z,{pb:E.Mq,children:He})]}),(0,B.jsx)(v.Z,{mb:E.HN}),(0,B.jsxs)(f.Z,{noPadding:!0,children:[(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsx)(m.Z,{level:4,children:"Metadata"})}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Last updated"}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsxs)(h.Z,{alignItems:"center",flex:1,justifyContent:"flex-end",children:[(0,B.jsx)(_.ZP,{large:!0,monospace:!0,muted:!0,children:(null==ne?void 0:ne.updated_at)&&(0,M.d$)(null==ne?void 0:ne.updated_at,{includeSeconds:!0})}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(O.Schedule,{muted:!0,size:F}),(0,B.jsx)(v.Z,{mr:1})]})]})}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Created at"}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsxs)(h.Z,{alignItems:"center",flex:1,justifyContent:"flex-end",children:[(0,B.jsx)(_.ZP,{large:!0,monospace:!0,muted:!0,children:(null==ne?void 0:ne.created_at)&&(0,M.d$)(null==ne?void 0:ne.created_at,{includeSeconds:!0})}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(O.Schedule,{muted:!0,size:F}),(0,B.jsx)(v.Z,{mr:1})]})]})}),(0,B.jsx)(x.Z,{light:!0}),(0,B.jsx)(v.Z,{p:E.cd,children:(0,B.jsxs)(j.ZP,{alignItems:"center",children:[(0,B.jsx)(_.ZP,{default:!0,large:!0,children:"Created by"}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsxs)(h.Z,{alignItems:"center",flex:1,justifyContent:"flex-end",children:[(0,B.jsx)(_.ZP,{large:!0,monospace:!0,muted:!0,children:(0,w.s)(null==le?void 0:le.user)}),(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(O.Schedule,{muted:!0,size:F}),(0,B.jsx)(v.Z,{mr:1})]})]})})]}),(0,B.jsx)(v.Z,{mb:E.HN})]}),(0,B.jsxs)(j.ZP,{children:[(0,B.jsx)(u.ZP,{beforeIcon:(0,B.jsx)(O.Save,{}),disabled:!Q||!(null!==(n=Object.keys(Q))&&void 0!==n&&n.length),loading:je,onClick:function(){return he({permission:L(L({},(0,D.GL)(ne,["access","conditions","entity_id","entity_name","entity_type","query_attributes","read_attributes","write_attributes"],{include_blanks:!0})),le?{role_ids:Object.keys((null==ne?void 0:ne.rolesMapping)||{}).map((function(e){return Number(e)}))}:{})})},primary:!0,children:le?"Save changes":"Create new permission"}),i&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(u.ZP,{onClick:function(){return null==i?void 0:i()},secondary:!0,children:"Cancel and go back"})]}),le&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(v.Z,{mr:E.cd}),(0,B.jsx)(u.ZP,{beforeIcon:(0,B.jsx)(O.Trash,{}),danger:!0,loading:pe,onClick:function(){return Ze()},children:"Delete permission"})]})]})]});return r?Re:(0,B.jsx)(g.Z,{after:U.ROLES===q?Ae:null,afterHeader:(0,B.jsx)(v.Z,{px:E.cd,children:(0,B.jsx)(_.ZP,{bold:!0,children:q})}),afterHidden:K,afterWidth:60*E.iI,appendBreadcrumbs:!0,breadcrumbs:[{label:function(){return"Permissions"},linkProps:{href:"/settings/workspace/permissions"}},{bold:!0,label:function(){return"Permission ".concat(null==le?void 0:le.id)}}],hideAfterCompletely:!0,setAfterHidden:V,title:null!=le&&le.id?"Permission ".concat(null==le?void 0:le.id):"New permission",uuidItemSelected:k.B2.PERMISSIONS,uuidWorkspaceSelected:k.Pl.USER_MANAGEMENT,children:le&&Re})}},48277:function(e,n,r){r.d(n,{$P:function(){return o},JI:function(){return i},VJ:function(){return d},fD:function(){return l},uf:function(){return s},vN:function(){return c}});var t=r(75582),s=function(e){var n=String(e).split("."),r=(0,t.Z)(n,2),s=r[0],i=r[1];return"".concat(s.replace(/\B(?=(\d{3})+(?!\d))/g,",")).concat(i?".".concat(i):"")};function i(e){var n=Math.floor(Date.now()/1e3);return e>0?n-e:n}function l(e){return(e>>>0).toString(2)}function c(e,n){return String(BigInt(e)+BigInt(n))}function d(e,n){return String(BigInt(e)-BigInt(n))}function o(e){return parseInt(e,2)}}}]);