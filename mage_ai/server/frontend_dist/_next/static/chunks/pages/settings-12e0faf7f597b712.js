(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{95282:function(t,n,e){"use strict";function r(t){this.message=t}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,o,u=0,i=0,c="";o=n.charAt(i++);~o&&(e=u%4?64*e+o:o,u++%4)?c+=String.fromCharCode(255&e>>(-2*u&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return c};function u(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(o(t).replace(/(.)/g,(function(t,n){var e=n.charCodeAt(0).toString(16).toUpperCase();return e.length<2&&(e="0"+e),"%"+e})))}(n)}catch(t){return o(n)}}function i(t){this.message=t}i.prototype=new Error,i.prototype.name="InvalidTokenError",n.Z=function(t,n){if("string"!=typeof t)throw new i("Invalid token specified");var e=!0===(n=n||{}).header?0:1;try{return JSON.parse(u(t.split(".")[e]))}catch(t){throw new i("Invalid token specified: "+t.message)}}},66757:function(t,n,e){"use strict";var r=e(19319),o=e(94178),u=e(67240),i="localStorage"in e.g&&e.g.localStorage?e.g.localStorage:r;function c(t,n){return 1===arguments.length?a(t):f(t,n)}function a(t){const n=i.getItem(t);return o(n)}function f(t,n){try{return i.setItem(t,JSON.stringify(n)),!0}catch(t){return!1}}c.set=f,c.get=a,c.remove=function(t){return i.removeItem(t)},c.clear=function(){return i.clear()},c.backend=function(t){return t&&(i=t),i},c.on=u.on,c.off=u.off,t.exports=c},94178:function(t){"use strict";t.exports=function(t){const n=function(t){try{return JSON.parse(t)}catch(n){return t}}(t);return void 0===n?null:n}},19319:function(t){"use strict";var n={};t.exports={getItem:function(t){return t in n?n[t]:null},setItem:function(t,e){return n[t]=e,!0},removeItem:function(t){return!!(t in n)&&delete n[t]},clear:function(){return n={},!0}}},67240:function(t,n,e){"use strict";var r=e(94178),o={};function u(t){t||(t=e.g.event);var n=o[t.key];n&&n.forEach((function(n){n(r(t.newValue),r(t.oldValue),t.url||t.uri)}))}t.exports={on:function(t,n){o[t]?o[t].push(n):o[t]=[n],e.g.addEventListener?e.g.addEventListener("storage",u,!1):e.g.attachEvent?e.g.attachEvent("onstorage",u):e.g.onstorage=u},off:function(t,n){var e=o[t];e.length>1?e.splice(e.indexOf(n),1):o[t]=[]}}},34376:function(t,n,e){t.exports=e(16090)},84749:function(t,n,e){"use strict";e.d(n,{Z:function(){return h}});var r=e(77837),o=e(62243),u=e(29385),i=e(82394),c=e(38860),a=e.n(c),f=e(95282),s=e(66757),l=e.n(s),p=e(34661),d=e(50178),v=e(69419),h=function(){function t(n){(0,o.Z)(this,t),this.token=n,(0,i.Z)(this,"decodedToken",void 0),(0,i.Z)(this,"logout",t.logout),this.decodedToken={expires:0,token:null};try{this.decodedToken=n?(0,f.Z)(n):(0,f.Z)((0,p.LP)())}catch(t){}}var n,e;return(0,u.Z)(t,[{key:"authorizationString",get:function(){if(this.decodedToken.token)return"Bearer ".concat(this.decodedToken.token)}},{key:"expiresAt",get:function(){return new Date(1e3*this.decodedToken.expires)}},{key:"isExpired",get:function(){return new Date>this.expiresAt}},{key:"isValid",get:function(){return this.decodedToken.token&&!this.isExpired}}],[{key:"isLoggedIn",value:function(){return(new t).isValid}},{key:"storeToken",value:(e=(0,r.Z)(a().mark((function t(n){var e,r=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>1&&void 0!==r[1]?r[1]:null,(0,p.o4)(n),!e){t.next=5;break}return t.next=5,e();case 5:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"logout",value:(n=(0,r.Z)(a().mark((function t(){var n,e=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:null,l().clear(),(0,d.kX)(),(0,p.gy)(),t.prev=4,!n){t.next=10;break}return t.next=8,n();case 8:t.next=12;break;case 10:return t.next=12,(0,v.nL)("/sign-in");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.log("Sign out error.");case 17:case"end":return t.stop()}}),t,null,[[4,14]])}))),function(){return n.apply(this,arguments)})}]),t}()},93808:function(t,n,e){"use strict";e.d(n,{Z:function(){return j}});var r=e(77837),o=e(26304),u=e(62243),i=e(29385),c=e(80022),a=e(13692),f=e(93189),s=e(15544),l=e(82394),p=e(38860),d=e.n(p),v=e(82684),h=e(56663),g=e.n(h),y=e(84749),b=e(34661),O=e(36105),w=e(50178),E=e(69419),m=e(28598),k=["auth"];function I(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Z(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?I(Object(e),!0).forEach((function(n){(0,l.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):I(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function _(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,f.Z)(this,e)}}function j(t){return function(n){(0,a.Z)(s,n);var e,f=_(s);function s(){var t;(0,u.Z)(this,s);for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return t=f.call.apply(f,[this].concat(e)),(0,l.Z)((0,c.Z)(t),"state",{auth:new y.Z(t.props.token)}),t}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){this.setState({auth:new y.Z(this.props.token)})}},{key:"render",value:function(){var n=this.props,e=(n.auth,(0,o.Z)(n,k));return(0,m.jsx)(t,Z({auth:this.state.auth},e))}}],[{key:"getInitialProps",value:(e=(0,r.Z)(d().mark((function n(e){var r,o,u,i,c,a,f,s,l;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=g()(e),o=(0,w.ex)(e),u=o.id,i=r[b.Mv],c=r[O.qt],a=new y.Z(i),f=Z(Z({},e),{},{auth:a,currentGroupId:u,theme:c}),(0,w.YB)(e)&&a.isExpired&&(console.log("OAuth token has expired."),s=Z(Z({},e.query),{},{redirect_url:e.asPath}),(0,E.nL)("/sign-in?".concat((0,E.uM)(s)),e.res)),!t.getInitialProps){n.next=12;break}return n.next=10,t.getInitialProps(f);case 10:return l=n.sent,n.abrupt("return",Z(Z({},l),{},{auth:a,currentGroupId:u,theme:c}));case 12:return n.abrupt("return",f);case 13:case"end":return n.stop()}}),n)}))),function(t){return e.apply(this,arguments)})}]),s}(v.Component)}},19452:function(t,n,e){"use strict";e.d(n,{No:function(){return o},Z3:function(){return a},xI:function(){return u}});var r,o,u,i=e(82394);!function(t){t[t.ADMIN=1]="ADMIN",t[t.EDITOR=2]="EDITOR",t.OWNER="owner",t[t.VIEWER=4]="VIEWER"}(o||(o={})),function(t){t[t.OWNER=1]="OWNER",t[t.ADMIN=2]="ADMIN",t[t.EDITOR=4]="EDITOR",t[t.VIEWER=8]="VIEWER"}(u||(u={}));var c;r={},(0,i.Z)(r,o.ADMIN,"Admin"),(0,i.Z)(r,o.EDITOR,"Editor"),(0,i.Z)(r,o.OWNER,"Owner"),(0,i.Z)(r,o.VIEWER,"Viewer"),o.VIEWER,o.EDITOR,o.ADMIN;!function(t){t.ADMIN="Admin",t.EDITOR="Editor",t.OWNER="Owner",t.VIEWER="Viewer"}(c||(c={}));var a=[c.VIEWER,c.EDITOR,c.ADMIN]},52846:function(t,n,e){"use strict";e.r(n);var r=e(77837),o=e(38860),u=e.n(o),i=e(82684),c=e(34376),a=e(93808),f=function(){var t=(0,c.useRouter)();(0,i.useEffect)((function(){t.replace("/settings/workspace/preferences")}),[t])};f.getInitialProps=(0,r.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),n.default=(0,a.Z)(f)},53808:function(t,n,e){"use strict";e.d(n,{DU:function(){return v},HW:function(){return g},J3:function(){return l},L8:function(){return f},Od:function(){return m},Q9:function(){return p},U2:function(){return w},Uu:function(){return s},Xq:function(){return b},kP:function(){return d},kh:function(){return y},lQ:function(){return h},rQ:function(){return E},t8:function(){return O},uN:function(){return k},zg:function(){return a}});var r=e(82394),o=e(66757),u=e.n(o);function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){(0,r.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var a="pipeline_editor_after_hidden",f="pipeline_editor_after_width",s="pipeline_editor_before_hidden",l="pipeline_editor_before_width",p="pipeline_execution_hidden",d="data_output_block_uuids",v="hide_kernel_warning",h="folders_state",g="generate_code_history",y="multi_column_widths",b="overview_tab_selected_recently";function O(t,n){return u().set(t,n),n}function w(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=u().get(t);return n&&null==e?(O(t,n),n):e}function E(t,n){var e=c(c({},w(t)||{}),n);return O(t,e),e}function m(t){var n=w(t);return u().remove(t),n}function k(t,n){return void 0!==n&&O(t,n),n}},50178:function(t,n,e){"use strict";e.d(n,{Bw:function(){return O},Ct:function(){return j},Dy:function(){return v},PR:function(){return Z},YB:function(){return b},av:function(){return _},dU:function(){return h},ex:function(){return k},f6:function(){return y},kX:function(){return I},pG:function(){return g}});var r=e(82394),o=e(39421),u=e(56663),i=e.n(u),c=e(66757),a=e.n(c),f=e(19452),s=e(34661),l=e(39487);e(53808);function p(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?p(Object(e),!0).forEach((function(n){(0,r.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var v="REQUIRE_USER_AUTHENTICATION",h=d(d({},l.vZ),{},{expires:1}),g="REQUIRE_USER_PERMISSIONS",y=d(d({},l.vZ),{},{expires:1}),b=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n?t=i()(n)[v]:t=o.Z.get(v,h);return!!t&&("0"!==String(t)&&"false"!==String(t).toLowerCase())},O=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n?t=i()(n)[g]:t=o.Z.get(g,y);return!!t&&("0"!==String(t)&&"false"!==String(t).toLowerCase())},w="current_group_id",E="current_group",m="current_user";function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(t)return{id:i()(t)[w]};var n=a().get(E),e=o.Z.get(w,s.Hu);return n&&e?n:void 0}function I(){a().remove(m)}function Z(){return a().get(m)}function _(t){a().set(m,t)}function j(){var t=Z()||{};return t.roles===f.No.VIEWER||t.project_access===f.xI.VIEWER}},69419:function(t,n,e){"use strict";e.d(n,{DQ:function(){return a},iV:function(){return i},nL:function(){return f},uM:function(){return c}});var r=e(75582),o=e(34376),u=e.n(o);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={},e=t;if(t||(e=window.location.search),e){var o=new URLSearchParams(e.split("?").slice(1).join(""));Array.from(o.keys()).forEach((function(t){var e=t.match(/\[\]/),u=o.getAll(t);if(1!==u.length||e)n[t]=u;else{var i=(0,r.Z)(u,1);n[t]=i[0]}}))}return n}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(t).reduce((function(t,n){var e=(0,r.Z)(n,2),o=e[0],u=e[1];if(Array.isArray(u)){var i=o;return i.match(/\[\]/)||(i="".concat(i,"[]")),t.concat(u.map((function(t){return"".concat(i,"=").concat(encodeURIComponent(t))})))}return t.concat("".concat(o,"=").concat(encodeURIComponent(u)))}),[]).join("&")}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.entries(t).reduce((function(t,e){var o=(0,r.Z)(e,2),u=o[0],i=o[1];return n.includes(u)&&(!Array.isArray(i)||Array.isArray(i)&&i.length>0)&&(t[u]=i),t}),{})}var f=function(t,n){n?"function"==typeof(null==n?void 0:n.writeHead)&&(n.writeHead(302,{Location:t}),n.end()):u().push(t)}},73406:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return e(52846)}])},14204:function(t,n,e){"use strict";function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}e.d(n,{Z:function(){return r}})},80022:function(t,n,e){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.d(n,{Z:function(){return r}})},62243:function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,{Z:function(){return r}})},29385:function(t,n,e){"use strict";function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}e.d(n,{Z:function(){return o}})},15544:function(t,n,e){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}e.d(n,{Z:function(){return r}})},13692:function(t,n,e){"use strict";e.d(n,{Z:function(){return o}});var r=e(61049);function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&(0,r.Z)(t,n)}},26304:function(t,n,e){"use strict";function r(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},u=Object.keys(t);for(r=0;r<u.length;r++)e=u[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)e=u[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}e.d(n,{Z:function(){return r}})},93189:function(t,n,e){"use strict";e.d(n,{Z:function(){return u}});var r=e(12539),o=e(80022);function u(t,n){if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(t)}},61049:function(t,n,e){"use strict";function r(t,n){return r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},r(t,n)}e.d(n,{Z:function(){return r}})},75582:function(t,n,e){"use strict";e.d(n,{Z:function(){return o}});var r=e(18907);function o(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,u=[],i=!0,c=!1;try{for(e=e.call(t);!(i=(r=e.next()).done)&&(u.push(r.value),!n||u.length!==n);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(c)throw o}}return u}}(t,n)||(0,r.Z)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},18907:function(t,n,e){"use strict";e.d(n,{Z:function(){return o}});var r=e(14204);function o(t,n){if(t){if("string"==typeof t)return(0,r.Z)(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?(0,r.Z)(t,n):void 0}}}},function(t){t.O(0,[9774,2888,179],(function(){return n=73406,t(t.s=n);var n}));var n=t.O();_N_E=n}]);