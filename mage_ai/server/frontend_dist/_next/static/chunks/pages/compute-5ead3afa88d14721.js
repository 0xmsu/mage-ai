(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4913],{78688:function(e,n,t){"use strict";var r=t(82394),i=t(82684),o=t(15338),l=t(77456),c=t(97618),s=t(55485),u=t(85854),a=t(65956),d=t(38276),p=t(30160),f=t(72473),m=t(70515),v=t(74778),h=t(74260),j=t(81728),x=t(28598);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.contained,t=void 0===n||n,r=e.onClickStep,g=e.setupSteps,b=e.small,P=(0,i.useCallback)((function(e,n,i,g){var y=e.name,O=e.description,_=e.group,k=e.error,S=e.required,I=e.status_calculated,C=e.steps,E=e.tab,w=e.uuid,T=(null===C||void 0===C?void 0:C.length)||0,A=g||{completedGroup:!1,level:0,numberEl:null},D=A.completedGroup,R=A.level,M=A.numberEl,N=0===R?2*m.iI:1.5*m.iI;if(_){var B=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{p:m.cd,children:(0,x.jsx)(s.ZP,{children:(0,x.jsxs)(c.Z,{flex:1,flexDirection:"column",children:[(0,x.jsxs)(s.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(u.Z,{level:b?5:4,children:y}),(0,x.jsx)(d.Z,{mr:m.cd}),h.br.COMPLETED===I&&(0,x.jsx)(f.Jr,{size:N,success:!0})]}),O&&(0,x.jsx)(d.Z,{mt:1,children:(0,x.jsx)(p.ZP,{default:!0,small:b,children:O})})]})})}),(0,x.jsx)(o.Z,{light:!0}),null===C||void 0===C?void 0:C.map((function(e,n){return P(e,n,T,{completedGroup:h.br.COMPLETED===I,level:0})}))]});return(0,x.jsxs)(d.Z,{mb:b?0:m.cd,children:[t&&(0,x.jsx)(a.Z,{noPadding:!0,children:B}),!t&&B]},w)}var H=h.br.COMPLETED===I,z=0===R?String(n+1):(0,j.bH)()[n].toLowerCase();var F=!!E&&r,L=(0,x.jsx)(d.Z,{pl:0===R?m.cd:0,children:(0,x.jsxs)(p.ZP,{large:!b,monospace:!0,muted:!0,children:[z,"."]})}),G={muted:H||D,strikethrough:H||D};return(0,x.jsx)(v.aw,{clickable:!!F,onClick:F?function(){return null===r||void 0===r?void 0:r(E)}:null,children:(0,x.jsxs)(d.Z,{py:0!==R||b?1:m.cd,children:[(0,x.jsxs)(s.ZP,{children:[M&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:{opacity:0},children:M}),(0,x.jsx)(d.Z,{mr:1})]}),L,(0,x.jsx)(d.Z,{mr:1}),(0,x.jsx)(c.Z,{flex:1,flexDirection:"column",children:(0,x.jsxs)(s.ZP,{flexDirection:"column",children:[(0,x.jsxs)(s.ZP,{alignItems:"center",children:[(0,x.jsxs)(c.Z,{flex:1,children:[0===R&&!b&&(0,x.jsx)(u.Z,Z(Z({level:5},G),{},{children:y})),0===R&&b&&(0,x.jsx)(p.ZP,Z(Z({bold:!0,large:!0},G),{},{children:y})),R>=1&&(0,x.jsx)(p.ZP,Z(Z({bold:!0,large:!b},G),{},{children:y})),!S&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{mr:1}),(0,x.jsx)(p.ZP,{muted:!0,uppercase:!0,xsmall:!0,children:"optional"})]})]}),(0,x.jsx)(d.Z,{mr:m.cd}),H&&(0,x.jsx)(f.Jr,{size:N,success:!0}),h.br.INCOMPLETE===I&&(0,x.jsx)(f.uy,{muted:!0,size:N}),h.br.ERROR===I&&(0,x.jsx)(f.uy,{danger:!0,size:N}),(0,x.jsx)(d.Z,{pr:m.cd*(I?1:2)})]}),O&&(0,x.jsx)(d.Z,{mt:1,pr:3*m.cd,children:(0,x.jsx)(p.ZP,Z(Z({default:!0},G),{},{small:b,children:O}))}),k&&(0,x.jsx)(l.Z,{error:k,small:!0,warning:!0})]})})]}),T>=1&&(0,x.jsx)(d.Z,{mt:1,children:null===C||void 0===C?void 0:C.map((function(e,n){return P(e,n,T,{completedGroup:D,level:1,numberEl:L})}))})]})},w)}),[t,r,b]),y=[],O=(null===g||void 0===g?void 0:g.length)||0;return null===g||void 0===g||g.forEach((function(e,n){e.status;y.push(P(e,n,O))})),t?(0,x.jsx)(d.Z,{p:m.cd,children:y}):(0,x.jsx)(x.Fragment,{children:y})}},89308:function(e,n,t){"use strict";var r=t(82394),i=t(75582),o=t(82684),l=t(69864),c=t(71180),s=t(26032),u=t(74260),a=t(15338),d=t(97618),p=t(55485),f=t(85854),m=t(65956),v=t(78688),h=t(38276),j=t(30160),x=t(35686),g=t(70515),Z=t(72473),b=t(81728),P=t(10332),y=t(72619),O=t(23780),_=t(28598);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.actionsOnly,t=e.computeService,r=e.computeConnections,k=e.contained,I=void 0===k||k,C=e.fetchAll,E=e.hideDetails,w=e.onClickStep,T=e.small,A=(0,O.VI)(null,{},[],{uuid:"ConnectionSettings"}),D=(0,i.Z)(A,1)[0],R=(0,o.useState)(null),M=R[0],N=R[1],B=(0,o.useState)(null),H=B[0],z=B[1],F=(0,l.Db)((function(e){var n=e.action,r=e.uuid;return x.ZP.compute_connections.compute_services.useUpdate(null===t||void 0===t?void 0:t.uuid,r)({compute_connection:{action:n}})}),{onSuccess:function(e){return(0,y.wD)(e,{callback:function(e){var n=e.compute_connection;null===C||void 0===C||C(),z(S(S({},M),{},{computeConnection:n}))},onErrorCallback:function(e,n){return D({errors:n,response:e})}})}}),L=(0,i.Z)(F,2),G=L[0],W=L[1].isLoading;return(0,o.useEffect)((function(){if(H){var e,n=null===r||void 0===r?void 0:r.find((function(e){var n,t=e.uuid;return(null===H||void 0===H||null===(n=H.computeConnection)||void 0===n?void 0:n.uuid)===t}));(null===n||void 0===n?void 0:n.state)!==(null===H||void 0===H||null===(e=H.computeConnection)||void 0===e?void 0:e.state)&&z(null)}}),[r,H,z]),(0,_.jsx)(h.Z,{py:I?g.cd:0,children:null===r||void 0===r?void 0:r.map((function(e,t){var r,o,l,x,y=e.actions,O=e.attributes,k=e.connection,S=e.description,C=e.name,A=e.required,D=e.status_calculated,R=e.steps,B=e.uuid;!E&&!n&&O&&(null===(r=Object.keys(O||{}))||void 0===r?void 0:r.length)>=1&&(l=(0,P.s)(Object.entries(O||{}).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return[(0,b.vg)(t),r]})))),!E&&!n&&k&&(null===(o=Object.keys(k||{}))||void 0===o?void 0:o.length)>=1&&(x=(0,P.s)(Object.entries(k||{}).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return[(0,b.vg)(t),r]}))));var F=(0,_.jsxs)(_.Fragment,{children:[!n&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.Z,{p:g.cd,children:(0,_.jsx)(p.ZP,{children:(0,_.jsxs)(d.Z,{flex:1,flexDirection:"column",children:[(0,_.jsxs)(p.ZP,{alignItems:"center",children:[(0,_.jsx)(d.Z,{flex:1,children:(0,_.jsx)(f.Z,{level:T?5:4,children:C})}),(0,_.jsx)(h.Z,{mr:g.cd}),(0,_.jsx)(Z.Fs,{danger:u.br.ERROR===D,muted:A&&u.br.INCOMPLETE===D,size:2*g.iI,success:!A||u.br.COMPLETED===D})]}),S&&(0,_.jsx)(h.Z,{mt:1,children:(0,_.jsx)(j.ZP,{default:!0,small:T,children:S})})]})})}),(null===R||void 0===R?void 0:R.length)>=1&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(a.Z,{light:!0}),(0,_.jsx)(v.Z,{contained:!1,onClickStep:w,setupSteps:R,small:T})]})]}),(l||x)&&(0,_.jsx)(h.Z,{p:g.cd,children:(0,_.jsxs)(p.ZP,{children:[l&&(0,_.jsx)(m.Z,{noPadding:!0,children:(0,_.jsxs)(p.ZP,{flexDirection:"column",children:[(0,_.jsx)(h.Z,{p:g.cd,children:(0,_.jsx)(j.ZP,{bold:!0,large:!0,children:"Attributes"})}),(0,_.jsx)(a.Z,{light:!0}),l,(0,_.jsx)(h.Z,{mb:g.cd})]})}),l&&x&&(0,_.jsx)(h.Z,{pr:g.cd}),x&&(0,_.jsx)(m.Z,{noPadding:!0,children:(0,_.jsxs)(p.ZP,{flexDirection:"column",children:[(0,_.jsx)(h.Z,{p:g.cd,children:(0,_.jsx)(j.ZP,{bold:!0,large:!0,children:"Connection"})}),(0,_.jsx)(a.Z,{light:!0}),x,(0,_.jsx)(h.Z,{mb:g.cd})]})})]})}),(null===y||void 0===y?void 0:y.length)>=1&&(0,_.jsxs)(_.Fragment,{children:[!n&&(0,_.jsx)(h.Z,{p:g.cd,children:(0,_.jsx)(p.ZP,{children:(0,_.jsx)(d.Z,{flex:1,flexDirection:"column",children:(0,_.jsx)(p.ZP,{alignItems:"center",children:(0,_.jsx)(d.Z,{flex:1,children:(0,_.jsx)(f.Z,{level:T?5:4,children:"Actions"})})})})})}),null===y||void 0===y?void 0:y.map((function(e,t){var r,i=e.description,o=e.name,l=e.uuid,u=W&&(null===M||void 0===M?void 0:M.uuid)===B&&(null===M||void 0===M?void 0:M.actionUUID)===l||s.i.PENDING===(null===H||void 0===H||null===(r=H.computeConnection)||void 0===r?void 0:r.state);return(0,_.jsxs)("div",{children:[(!n||t>=1)&&(0,_.jsx)(a.Z,{light:!0}),(0,_.jsx)(h.Z,{p:g.cd,children:(0,_.jsx)(p.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,_.jsxs)(d.Z,{flex:1,flexDirection:"column",children:[(0,_.jsx)(j.ZP,{default:!0,large:!T,children:i}),(0,_.jsx)(h.Z,{mt:g.cd,children:(0,_.jsx)(c.ZP,{compact:T,danger:[s._.DELETE].includes(l),loading:u,onClick:function(){N({actionUUID:l,uuid:B}),z(null),G({action:l,uuid:B})},primary:[s._.CREATE,s._.UPDATE].includes(l),secondary:[s._.DESELECT].includes(l),small:T,children:o})})]})})})]},l)}))]})]});return(0,_.jsxs)(h.Z,{mt:t>=1?g.cd:0,px:I?g.cd:0,children:[I&&(0,_.jsx)(m.Z,{noPadding:!0,children:F}),!I&&F]},B)}))})}},77456:function(e,n,t){"use strict";var r=t(82394),i=t(75582),o=t(43695),l=t(30160),c=t(28598);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.danger,t=e.error,r=e.large,s=e.small,a=e.warning,d=t.message,p=t.variables,f=d;return p&&Object.entries(p||{}).forEach((function(e){var t=(0,i.Z)(e,2),d=t[0],p=t[1];f=f.replace("{{".concat(d,"}}"),(0,o.Dq)((0,c.jsx)(l.ZP,u(u({danger:n,inline:!0,large:r,muted:!n&&!a,small:s,warning:a},p||{}),{},{children:d}))))})),(0,c.jsx)(l.ZP,{danger:n,dangerouslySetInnerHTML:{__html:f},muted:!n&&!a,large:r,small:s,warning:a})}},74778:function(e,n,t){"use strict";t.d(n,{UE:function(){return s},aw:function(){return u},bC:function(){return a}});var r=t(38626),i=t(44897),o=t(42631),l=t(70515),c=t(91437),s=r.default.div.withConfig({displayName:"indexstyle__CardStyle",componentId:"sc-1b5e7g-0"})([""," border-radius:","px;padding:","px;"," ",""],(0,c.eR)(),o.D7,2.5*l.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,";\n    border: 1px solid ").concat((e.theme.borders||i.Z.borders).darkLight,";\n    box-shadow: ").concat((e.theme.shadow||i.Z.shadow).frame,";\n  ")}),(function(e){return!e.inline&&"\n    height: ".concat(28*l.iI,"px;\n    width: ").concat(40*l.iI,"px;\n    margin: ").concat(l.cd/2*l.iI,"px;\n  ")})),u=r.default.div.withConfig({displayName:"indexstyle__SetupStepRowStyle",componentId:"sc-1b5e7g-1"})([""," ",""],(0,c.eR)(),(function(e){return e.clickable&&"\n    &:hover {\n      background-color: ".concat((e.theme.interactive||i.Z.interactive).hoverOverlay,";\n      cursor: pointer;\n    }\n  ")})),a=r.default.div.withConfig({displayName:"indexstyle__NavigationStyle",componentId:"sc-1b5e7g-2"})([""," height:","px;padding-left:","px;padding-right:","px;"," ",""],(0,c.eR)(),7*l.iI,l.cd*l.iI,l.cd*l.iI,(function(e){return!e.selected&&"\n    &:hover {\n      background-color: ".concat((e.theme.interactive||i.Z.interactive).rowHoverBackground,";\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.background||i.Z.background).codeTextarea,";\n  ")}))},94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return k}});var r=t(82394),i=t(21831),o=t(82684),l=t(50724),c=t(82555),s=t(97618),u=t(70613),a=t(79626),d=t(68899),p=t(28598);function f(e,n){var t=e.children,r=e.noPadding;return(0,p.jsx)(d.HS,{noPadding:r,ref:n,children:t})}var m=o.forwardRef(f),v=t(62547),h=t(82571),j=t(98464),x=t(77417),g=t(46684),Z=t(70515),b=t(53808),P=t(19183);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var t=e.after,r=e.afterHeader,f=e.afterHidden,y=e.afterWidth,_=e.afterWidthOverride,k=e.appendBreadcrumbs,S=e.before,I=e.beforeWidth,C=e.breadcrumbs,E=e.children,w=e.errors,T=e.headerMenuItems,A=e.headerOffset,D=e.hideAfterCompletely,R=e.mainContainerHeader,M=e.navigationItems,N=e.setAfterHidden,B=e.setErrors,H=e.subheaderChildren,z=e.subheaderNoPadding,F=e.title,L=e.uuid,G=(0,P.i)().width,W="dashboard_after_width_".concat(L),U="dashboard_before_width_".concat(L),V=(0,o.useRef)(null),Y=(0,o.useState)(_?y:(0,b.U2)(W,y)),X=Y[0],q=Y[1],J=(0,o.useState)(!1),K=J[0],Q=J[1],$=(0,o.useState)(S?Math.max((0,b.U2)(U,I),13*Z.iI):null),ee=$[0],ne=$[1],te=(0,o.useState)(!1),re=te[0],ie=te[1],oe=(0,o.useState)(null)[1],le=(0,x.Z)().project,ce=[];C&&ce.push.apply(ce,(0,i.Z)(C)),null!==C&&void 0!==C&&C.length&&!k||!le||null!==C&&void 0!==C&&C.length||ce.unshift({bold:!k,label:function(){return F}}),(0,o.useEffect)((function(){null===V||void 0===V||!V.current||K||re||null===oe||void 0===oe||oe(V.current.getBoundingClientRect().width)}),[K,X,re,ee,V,oe,G]),(0,o.useEffect)((function(){K||(0,b.t8)(W,X)}),[f,K,X,W]),(0,o.useEffect)((function(){re||(0,b.t8)(U,ee)}),[re,ee,U]);var se=(0,j.Z)(y);return(0,o.useEffect)((function(){_&&se!==y&&q(y)}),[_,y,se]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{title:F}),(0,p.jsx)(a.Z,{breadcrumbs:ce,menuItems:T}),(0,p.jsxs)(d.Nk,{ref:n,children:[0!==(null===M||void 0===M?void 0:M.length)&&(0,p.jsx)(d.lm,{showMore:!0,children:(0,p.jsx)(h.Z,{navigationItems:M,showMore:!0})}),(0,p.jsx)(s.Z,{flex:1,flexDirection:"column",children:(0,p.jsxs)(v.Z,{after:t,afterHeader:r,afterHeightOffset:g.Mz,afterHidden:f,afterMousedownActive:K,afterWidth:X,before:S,beforeHeightOffset:g.Mz,beforeMousedownActive:re,beforeWidth:d.k1+(S?ee:0),headerOffset:A,hideAfterCompletely:!N||D,leftOffset:S?d.k1:null,mainContainerHeader:R,mainContainerRef:V,setAfterHidden:N,setAfterMousedownActive:Q,setAfterWidth:q,setBeforeMousedownActive:ie,setBeforeWidth:ne,children:[H&&(0,p.jsx)(m,{noPadding:z,children:H}),E]})})]}),w&&(0,p.jsx)(l.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===B||void 0===B?void 0:B(null)},children:(0,p.jsx)(c.Z,O(O({},w),{},{onClose:function(){return null===B||void 0===B?void 0:B(null)}}))})]})}var k=o.forwardRef(_)},8193:function(e,n,t){"use strict";t.d(n,{N:function(){return s},Z:function(){return c}});var r=t(38626),i=t(44897),o=t(42631),l=t(70515),c=2*l.iI,s=r.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1ck7mzt-0"})(["border-radius:","px;padding:","px;",""],o.n_,l.cd*l.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).codeArea,";\n  ")}))},28071:function(e,n,t){"use strict";var r;t.d(n,{X:function(){return r}}),function(e){e.BOOTSTRAPPING="BOOTSTRAPPING",e.RUNNING="RUNNING",e.STARTING="STARTING",e.TERMINATED="TERMINATED",e.TERMINATED_WITH_ERRORS="TERMINATED_WITH_ERRORS",e.TERMINATING="TERMINATING",e.WAITING="WAITING"}(r||(r={}))},26032:function(e,n,t){"use strict";var r,i;t.d(n,{_:function(){return r},i:function(){return i}}),function(e){e.CREATE="CREATE",e.DELETE="DELETE",e.DESELECT="DESELECT",e.UPDATE="UPDATE"}(r||(r={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.PENDING="PENDING"}(i||(i={}))},72098:function(e,n,t){"use strict";var r;t.d(n,{U:function(){return r}}),function(e){e.PYSPARK="pysparkkernel",e.PYTHON3="python3"}(r||(r={}))},57653:function(e,n,t){"use strict";t.d(n,{$1:function(){return v},G7:function(){return x},LM:function(){return g},Mj:function(){return Z},QK:function(){return m},RH:function(){return j},a_:function(){return P},fj:function(){return y},kA:function(){return b},qL:function(){return c},r0:function(){return h}});var r,i,o,l,c,s=t(75582),u=t(82394),a=t(72473),d=t(72098);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.INTEGRATION="integration",e.PYTHON="python",e.PYSPARK="pyspark",e.STREAMING="streaming"}(c||(c={}));var m,v,h,j=(r={},(0,u.Z)(r,c.INTEGRATION,"Integration"),(0,u.Z)(r,c.PYTHON,"Python"),(0,u.Z)(r,c.PYSPARK,"PySpark"),(0,u.Z)(r,c.STREAMING,"Streaming"),r),x=(i={},(0,u.Z)(i,c.INTEGRATION,"Integration"),(0,u.Z)(i,c.PYTHON,"Standard"),(0,u.Z)(i,c.PYSPARK,"PySpark"),(0,u.Z)(i,c.STREAMING,"Streaming"),i),g="all",Z=(c.PYTHON,c.INTEGRATION,c.STREAMING,o={},(0,u.Z)(o,g,a.ie),(0,u.Z)(o,c.INTEGRATION,a.YC),(0,u.Z)(o,c.PYTHON,a.El),(0,u.Z)(o,c.STREAMING,a.dB),o);!function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.NO_SCHEDULES="no_schedules",e.RETRY="retry",e.RETRY_INCOMPLETE_BLOCK_RUNS="retry_incomplete_block_runs"}(m||(m={})),function(e){e.GROUP="group_by",e.HISTORY_DAYS="from_history_days",e.NO_TAGS="no_tags",e.SEARCH="search",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(v||(v={})),function(e){e.STATUS="status",e.TAG="tag",e.TYPE="type"}(h||(h={}));var b=[m.ACTIVE,m.INACTIVE,m.NO_SCHEDULES],P=(l={},(0,u.Z)(l,c.PYTHON,d.U.PYTHON3),(0,u.Z)(l,c.PYSPARK,d.U.PYSPARK),l),y=Object.entries(P).reduce((function(e,n){var t=(0,s.Z)(n,2),r=t[0],i=t[1];return f(f({},e),{},(0,u.Z)({},i,r))}),{})},35185:function(e,n,t){"use strict";var r=t(82394),i=t(91835),o=(t(82684),t(38626)),l=t(44897),c=t(42631),s=t(70515),u=t(28598);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=o.default.div.withConfig({displayName:"ProgressBar__ProgressBarContainerStyle",componentId:"sc-10x9ojc-0"})(["border-radius:","px;height:","px;overflow:hidden;position:relative;width:100%;",""],c.BG,.75*s.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||l.Z.monotone).grey200,";\n  ")})),f=o.default.div.withConfig({displayName:"ProgressBar__ProgressBarStyle",componentId:"sc-10x9ojc-1"})(["height:inherit;position:absolute;"," "," "," ",""],(function(e){return!e.danger&&"\n    background-color: ".concat((e.theme.progress||l.Z.progress).positive,";\n  ")}),(function(e){return e.progress&&"\n    width: ".concat(e.progress,"%;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.progress||l.Z.progress).negative,";\n  ")}),(function(e){return e.animateProgress&&"\n    animation: animate-progress ".concat(e.animateProgress.duration,"ms linear forwards;\n\n    @keyframes animate-progress {\n      0% {\n        width: ").concat(e.animateProgress.start,"%;\n      }\n\n      100% {\n        width: ").concat(e.animateProgress.end,"%;\n      }\n    }\n  ")}));n.Z=function(e){var n=(0,i.Z)({},e);return(0,u.jsx)(p,d(d({},n),{},{children:(0,u.jsx)(f,d({},n))}))}},4910:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Xe}});var r=t(77837),i=t(38860),o=t.n(i),l=t(82684),c=t(82394),s=t(75582),u=t(69864),a=t(71180),d=t(92083),p=t.n(d),f=t(21764),m=t(28071),v=t(15338),h=t(55485),j=t(85854),x=t(97618),g=t(38276),Z=t(30160),b=t(70515),P=t(28598);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n=e.rows;return(0,P.jsx)(P.Fragment,{children:null===n||void 0===n?void 0:n.map((function(e){var n=e.key,t=e.textProps,r=e.value;return(0,P.jsxs)("div",{children:[(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsx)(h.ZP,{flexDirection:"column",children:(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:n})}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,justifyContent:"flex-end",children:(0,P.jsx)(Z.ZP,O(O({default:!0,large:!0},t),{},{children:r}))})]})})]},n)}))})},k=t(65956),S=t(4190),I=t(75499),C=t(69650),E=t(35686),w=t(72473),T=t(3917),A=t(38626),D=t(44897),R=A.default.div.withConfig({displayName:"indexstyle__SubheaderStyle",componentId:"sc-169asq7-0"})(["position:sticky;top:0;z-index:1;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||D.Z.background).codeArea,";\n  ")})),M=t(81728);function N(e){var n;if(null===e||void 0===e||!e.length)return null;var t=null===e||void 0===e?void 0:e[0],r=null===(n=Object.keys(t||{}))||void 0===n?void 0:n.map((function(e){return{uuid:(0,M.vg)(e)}}));return(0,P.jsx)(I.Z,{columnFlex:null===r||void 0===r?void 0:r.map((function(e,n){return 0===n?null:1})),columns:r,rows:null===e||void 0===e?void 0:e.map((function(e){return Object.entries(e||{}).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return[(0,P.jsx)(Z.ZP,{default:!0,monospace:!0,children:r},t)]}))}))})}var B=t(72619),H=t(95924),z=t(42122),F=t(70320),L=t(23780);function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var U=2*b.iI,V={default:!0,monospace:!0};var Y=function(e){var n=e.clusters,t=e.computeService,r=e.fetchAll,i=e.includeAllStates,o=e.loading,c=e.setIncludeAllStates,d=(0,l.useMemo)((function(){return"".concat(null===t||void 0===t?void 0:t.uuid,"/clusters")}),[t]),x=(0,F.qB)(),y=(0,l.useState)(null),O=y[0],A=y[1],D=(0,L.VI)(null,{},[],{uuid:d}),G=(0,s.Z)(D,1)[0],Y=(0,u.Db)(E.ZP.compute_clusters.compute_services.useCreate(null===t||void 0===t?void 0:t.uuid),{onSuccess:function(e){return(0,B.wD)(e,{callback:function(){r().then((function(){return A(0)}))},onErrorCallback:function(e,n){return G({errors:n,response:e})}})}}),X=(0,s.Z)(Y,2),q=X[0],J=X[1].isLoading,K=(0,u.Db)((function(e){return E.ZP.compute_clusters.compute_services.useDelete(null===t||void 0===t?void 0:t.uuid,null===e||void 0===e?void 0:e.id)()}),{onSuccess:function(e){return(0,B.wD)(e,{callback:function(){r().then((function(){return A(null)}))},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.exception,i=n.message,o=n.type;f.Am.error((null===t||void 0===t?void 0:t.error)||r||i,{position:f.Am.POSITION.BOTTOM_RIGHT,toastId:o})}})}}),Q=(0,s.Z)(K,2),$=Q[0],ee=Q[1].isLoading,ne=(0,u.Db)((function(e){return E.ZP.compute_clusters.compute_services.useUpdate(null===t||void 0===t?void 0:t.uuid,null===e||void 0===e?void 0:e.id)({compute_cluster:(0,z.GL)(e,["active"])})}),{onSuccess:function(e){return(0,B.wD)(e,{callback:function(){r()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.exception,i=n.message,o=n.type;f.Am.error((null===t||void 0===t?void 0:t.error)||r||i,{position:f.Am.POSITION.BOTTOM_RIGHT,toastId:o})}})}}),te=(0,s.Z)(ne,2),re=te[0],ie=te[1].isLoading,oe=(0,l.useMemo)((function(){return(null===n||void 0===n?void 0:n.length)||0}),[n]),le=(0,l.useMemo)((function(){return(0,P.jsx)(a.ZP,{beforeIcon:(0,P.jsx)(w.NO,{size:U}),compact:oe>=1,loading:J,onClick:function(){return q()},primary:!0,small:oe>=1,children:"Launch new cluster"})}),[oe,q,J]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(R,{children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,P.jsxs)(h.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,P.jsx)(j.Z,{level:4,children:(0,M._6)("cluster",oe,!0)}),c&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(C.Z,{checked:i,compact:!0,onCheck:function(e){return c(e(i))}}),(0,P.jsx)(g.Z,{mr:1}),(0,P.jsx)(Z.ZP,{default:i,muted:!i,small:!0,children:"Include terminated clusters"})]})]}),(0,P.jsx)(g.Z,{mr:b.cd}),oe>=1&&le]})}),(0,P.jsx)(v.Z,{light:!0})]}),(0,P.jsx)(I.Z,{apiForFetchingAfterAction:E.ZP.compute_clusters.compute_services.detail,buildApiOptionsFromObject:function(e){return[null===t||void 0===t?void 0:t.uuid,null===e||void 0===e?void 0:e.id,{},{refreshInterval:3e3,revalidateOnFocus:!0}]},columnFlex:[null,null,null,null,null],columns:[{uuid:"Cluster ID"},{uuid:"Cluster Name"},{uuid:"Status"},{uuid:"Created"},{center:!0,uuid:"Hours"},{label:function(){return""},rightAligned:!0,uuid:"Active"}],onClickRow:function(e,n){A((function(n){return n===e?null:e}))},renderExpandedRowWithObject:function(e,n){var t,r,i,o,l=null===n||void 0===n||null===(t=n.compute_cluster)||void 0===t?void 0:t.cluster;if(!l)return(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(S.Z,{inverted:!0})});var c=l.active,s=l.applications,u=l.ec2_instance_attributes,d=l.name,f=l.status,y=l.tags,O=null===f||void 0===f?void 0:f.state,I=[m.X.TERMINATED,m.X.TERMINATED_WITH_ERRORS,m.X.TERMINATING].includes(O),C=[m.X.RUNNING,m.X.WAITING].includes(O),E=null===f||void 0===f||null===(r=f.timeline)||void 0===r?void 0:r.creation_date_time;return(0,P.jsxs)(g.Z,{p:b.cd,children:[!I&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(j.Z,{level:4,children:"Actions"})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{children:[C&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(a.ZP,{beforeIcon:(0,P.jsx)(w.Fs,{size:U,success:c}),loading:ie,notClickable:c,onClick:c?null:function(){return re(W(W({},l),{},{active:!0}))},primary:!c,children:c?"Activated":"Activate cluster for compute"}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(a.ZP,{loading:ee,onClick:function(){window.confirm("Are you sure you want to terminate this cluster?")&&$(l)},secondary:!0,children:"Terminate cluster"})]}),!C&&(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsx)(S.Z,{inverted:!0,small:!0}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:(null===f||void 0===f||null===(i=f.state_change_reason)||void 0===i?void 0:i.message)||"Cluster is still launching."})]})]})})]}),(0,P.jsx)(g.Z,{mb:b.cd})]}),(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(j.Z,{level:4,children:"Details"})}),(0,P.jsx)(_,{rows:[{key:"ID",textProps:{monospace:!0},value:null===l||void 0===l?void 0:l.id},{key:"Name",value:d},{key:"Master public DNS name",value:(null===l||void 0===l?void 0:l.master_public_dns_name)||"Available after cluster starts."},{key:"Created at",textProps:{monospace:!0},value:E?(0,T.XG)(p()(E).format(T.BL),x):"-"},{key:"Status message",value:(null===f||void 0===f||null===(o=f.state_change_reason)||void 0===o?void 0:o.message)||"None"},{key:"Release label",textProps:{monospace:!0},value:null===l||void 0===l?void 0:l.release_label},{key:"Service role",textProps:{monospace:!0},value:null===l||void 0===l?void 0:l.service_role},{key:"Scale down behavior",value:null!==l&&void 0!==l&&l.scale_down_behavior?(0,M.vg)(null===l||void 0===l?void 0:l.scale_down_behavior):null===l||void 0===l?void 0:l.scale_down_behavior},{key:"Auto terminate",value:null!==l&&void 0!==l&&l.auto_terminate?(0,P.jsx)(w.Jr,{size:U,success:!0}):(0,P.jsx)(w.x8,{danger:!0,size:U})},{key:"Termination protected",value:null!==l&&void 0!==l&&l.termination_protected?(0,P.jsx)(w.Jr,{size:U,success:!0}):(0,P.jsx)(w.x8,{danger:!0,size:U})},{key:"Visible to all users",value:null!==l&&void 0!==l&&l.visible_to_all_users?(0,P.jsx)(w.Jr,{size:U,success:!0}):(0,P.jsx)(w.x8,{danger:!0,size:U})},{key:"EBS root volume size",textProps:{monospace:!0},value:null===l||void 0===l?void 0:l.ebs_root_volume_size},{key:"Normalized instance hours",textProps:{monospace:!0},value:null===l||void 0===l?void 0:l.normalized_instance_hours},{key:"Step concurrency level",textProps:{monospace:!0},value:null===l||void 0===l?void 0:l.step_concurrency_level}]})]}),(0,P.jsx)(g.Z,{mb:b.cd}),(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(j.Z,{level:4,children:"EC2 instance attributes"})}),(0,P.jsx)(_,{rows:[{key:"Availability zone",textProps:{monospace:!0},value:null===u||void 0===u?void 0:u.ec2_availability_zone},{key:"Master security group",textProps:{monospace:!0},value:null===u||void 0===u?void 0:u.emr_managed_master_security_group},{key:"Slave security group",textProps:{monospace:!0},value:null===u||void 0===u?void 0:u.emr_managed_slave_security_group},{key:"IAM profile",textProps:{monospace:!0},value:null===u||void 0===u?void 0:u.iam_instance_profile}]})]}),(0,P.jsx)(g.Z,{mb:b.cd}),(0,P.jsxs)(h.ZP,{children:[(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{px:b.cd,py:b.cd,children:(0,P.jsx)(j.Z,{level:4,children:"Applications"})}),(0,P.jsx)(v.Z,{light:!0,short:!0}),N(s||[])]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{px:b.cd,py:b.cd,children:(0,P.jsx)(j.Z,{level:4,children:"Tags"})}),(0,P.jsx)(v.Z,{light:!0,short:!0}),N(y||[])]})]})]})},getObjectAtRowIndex:function(e){return null===n||void 0===n?void 0:n[e]},rows:null===n||void 0===n?void 0:n.map((function(e){var n,t,r=e.active,i=e.id,o=e.name,c=e.normalized_instance_hours,s=e.status,u=null===s||void 0===s||null===(n=s.timeline)||void 0===n?void 0:n.creation_date_time,d=null===s||void 0===s?void 0:s.state,f=null===s||void 0===s||null===(t=s.state_change_reason)||void 0===t?void 0:t.message,v=[m.X.BOOTSTRAPPING,m.X.STARTING].includes(d),j=[m.X.TERMINATING].includes(d);return[(0,l.createElement)(Z.ZP,W(W({},V),{},{key:"id",success:r}),i),(0,l.createElement)(Z.ZP,W(W({},V),{},{key:"name",monospace:!1,preWrap:!0}),o),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z.ZP,W(W({},V),{},{danger:[m.X.TERMINATED_WITH_ERRORS].includes(d),default:[m.X.STARTING].includes(d),muted:[m.X.TERMINATED].includes(d),success:[m.X.RUNNING,m.X.WAITING].includes(d),warning:[m.X.TERMINATING].includes(d),children:null!==s&&void 0!==s&&s.state?(0,M.vg)(null===s||void 0===s?void 0:s.state):null===s||void 0===s?void 0:s.state})),f&&(0,P.jsx)(Z.ZP,{muted:!0,preWrap:!0,small:!0,children:f})]},"state"),(0,l.createElement)(Z.ZP,W(W({},V),{},{key:"created",preWrap:!0}),u?(0,T.XG)(p()(u).format(T.BL),x):"-"),(0,l.createElement)(Z.ZP,W(W({},V),{},{center:!0,key:"normalizedInstanceHours"}),c||0),(0,P.jsx)(h.ZP,{justifyContent:"flex-end",children:v||j?(0,P.jsx)(S.Z,{inverted:v,small:!0}):(0,P.jsx)(a.ZP,{iconOnly:!0,loading:ie,noBackground:!0,noBorder:!0,noPadding:!0,notClickable:r,onClick:r?null:function(n){(0,H.j)(n),re(W(W({},e),{},{active:!0}))},children:(0,P.jsx)(w.Fs,{muted:!r,size:U,success:r})})},"active")]})),selectedRowIndexInternal:O,uuid:d}),o&&(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(S.Z,{inverted:!0})}),!o&&!oe&&(0,P.jsx)(g.Z,{p:b.cd,children:le})]})},X=t(48670),q=t(90299),J=t(89308),K=t(74521),Q=t(93004),$=t(8970);function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var te="Applications",re="Connections",ie="Jobs",oe="SQLs";var le=function(e){var n,t=e.applications,r=e.computeConnections,i=e.computeService,o=e.connectionsLoading,c=e.fetchAll,s=e.jobs,u=e.loadingApplications,a=e.loadingJobs,d=(e.objectAttributes,e.refButtonTabs),p=(e.selectedComputeService,e.setSelectedSql),f=e.setSelectedTab,m=(0,l.useContext)(A.ThemeContext),h=(0,l.useState)(),j=h[0],x=h[1],y=(0,l.useCallback)((function(e){p((function(){return null})),x(e)}),[p,x]),O=(0,F.qB)(),_=E.ZP.spark_stages.list({details:!0,_format:"with_details"}).data,k=(0,l.useMemo)((function(){return((null===_||void 0===_?void 0:_.spark_stages)||[]).reduce((function(e,n){var t=null===n||void 0===n?void 0:n.application;return(null===t||void 0===t?void 0:t.calculated_id)in e||(e[null===t||void 0===t?void 0:t.calculated_id]={}),e[null===t||void 0===t?void 0:t.calculated_id][null===n||void 0===n?void 0:n.stage_id]=n,e}),{})}),[_]),S=(0,l.useMemo)((function(){return(0,P.jsx)(J.Z,{computeService:i,computeConnections:r,fetchAll:c,onClickStep:function(e){return f((function(){return{main:e}}))}})}),[r,i,c,f]),C=(0,l.useMemo)((function(){return(0,P.jsx)(I.Z,{columnFlex:[null,null,null,null,null,null,null],columns:[{uuid:"ID"},{uuid:"URL"},{uuid:"Name"},{uuid:"Version"},{uuid:"Spark user"},{uuid:"Started at"},{rightAligned:!0,uuid:"Last updated"}],rows:null===t||void 0===t?void 0:t.map((function(e){var n=e.attempts,t=e.id,r=e.name,i=e.spark_ui_url,o=(null===n||void 0===n?void 0:n[0])||{},c=o.app_spark_version,s=o.last_updated_epoch,u=o.start_time_epoch,a=o.spark_user,d=u&&(0,T.JX)(u/1e3,{withSeconds:!0}),p=d&&(0,T.XG)(d,O);return[(0,l.createElement)(Z.ZP,ne(ne({},$.eB),{},{key:"id"}),t),(0,l.createElement)(Z.ZP,ne(ne({},$.eB),{},{key:"sparkUIURL"}),i),(0,l.createElement)(Z.ZP,ne(ne({},$.eB),{},{key:"name"}),r),(0,l.createElement)(Z.ZP,ne(ne({},$.eB),{},{key:"version"}),c),(0,l.createElement)(Z.ZP,ne(ne({},$.eB),{},{key:"sparkUser"}),a),(0,l.createElement)(Z.ZP,ne(ne({},$.eB),{},{key:"startTime"}),p||"-"),(0,l.createElement)(Z.ZP,ne(ne({},$.eB),{},{key:"lastUpdated",rightAligned:!0}),s?(0,T.XG)((0,T.JX)(s/1e3,{withSeconds:!0}),O):"-")]})),uuid:"applications"})}),[t,O]),w=(0,l.useMemo)((function(){var e={};return null===s||void 0===s||s.forEach((function(n){var t,r,i=null===n||void 0===n?void 0:n.application;(null===i||void 0===i?void 0:i.calculated_id)in e||(e[null===i||void 0===i?void 0:i.calculated_id]={application:i,jobs:[]}),null===(t=e[null===i||void 0===i?void 0:i.calculated_id])||void 0===t||null===(r=t.jobs)||void 0===r||r.push(n)})),Object.values(e).map((function(e){var n=e.application,t=e.jobs;return(0,P.jsxs)("div",{children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(Z.ZP,{default:!0,bold:!0,children:["Application ",null===n||void 0===n?void 0:n.calculated_id]})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(K.Z,{jobs:t,stagesMapping:k})]},null===n||void 0===n?void 0:n.calculated_id)}))}),[s,k]),D=(0,l.useMemo)((function(){return(0,P.jsx)(Q.Z,{setSelectedSql:p,stagesMapping:k})}),[p,k]),R=(0,l.useMemo)((function(){var e=[{label:function(){return(0,P.jsxs)(P.Fragment,{children:[te,"\xa0\xa0\xa0",u?"":(null===t||void 0===t?void 0:t.length)||0]})},uuid:te},{label:function(){return(0,P.jsxs)(P.Fragment,{children:[ie,"\xa0\xa0\xa0",a?"":(null===s||void 0===s?void 0:s.length)||0]})},uuid:ie},{label:function(){return oe},uuid:oe}];return(null===r||void 0===r?void 0:r.length)>=1&&e.unshift({label:function(){return re},uuid:re}),e}),[r,c]);return(0,l.useEffect)((function(){j||o||((null===r||void 0===r?void 0:r.length)>=1?y(re):y(te))}),[r,o,j,y]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(g.Z,{px:b.cd,children:(0,P.jsx)(q.Z,{noPadding:!0,onClickTab:function(e){var n=e.uuid;return y(n)},ref:d,regularSizeText:!0,selectedTabUUID:j,tabs:R,underlineColor:null===m||void 0===m||null===(n=m.accent)||void 0===n?void 0:n.blue,underlineStyle:!0})}),(0,P.jsx)(v.Z,{light:!0}),re===j&&S,te===j&&C,ie===j&&w,oe===j&&D]})},ce=t(17488),se=t(8193);function ue(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ue(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ue(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var de=function(e){var n=e.addButtonText,t=e.addTextInputPlaceholder,r=e.alreadyExistsMessage,i=e.configurationValuePlaceholder,o=e.configurations,u=e.createButtonText,d=e.description,p=e.emptyState,f=e.setConfigurations,m=e.title,y=(0,l.useRef)(null),O=(0,l.useState)(!1),_=O[0],S=O[1],I=(0,l.useState)(null),C=I[0],E=I[1],T=(0,l.useMemo)((function(){var e;return(null===(e=Object.keys(o||{}))||void 0===e?void 0:e.length)>=1}),[o]),A=(0,l.useMemo)((function(){return C in(o||{})}),[o,C]),D=(0,l.useMemo)((function(){return(0,P.jsxs)(h.ZP,{alignItems:"center",children:[!_&&(0,P.jsx)(a.ZP,{beforeIcon:(0,P.jsx)(w.mm,{}),compact:!0,onClick:function(e){(0,H.j)(e),S(!0),setTimeout((function(){var e;return null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.focus()}),1)},secondary:!T,small:!0,children:n||"Add configuration"}),_&&(0,P.jsxs)(P.Fragment,{children:[A&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Z.ZP,{danger:!0,small:!0,children:r||"Already exists"}),(0,P.jsx)(g.Z,{mr:1})]}),(0,P.jsx)(ce.Z,{autoComplete:"off",compact:!0,meta:{touched:!!A,error:""},monospace:!0,onClick:function(e){return(0,H.j)(e)},paddingVertical:b.iI/2-2,placeholder:t,onChange:function(e){(0,H.j)(e),E(e.target.value)},ref:y,small:!0,value:C||""}),(0,P.jsx)(g.Z,{mr:1}),(0,P.jsx)(a.ZP,{disabled:A,compact:!0,onClick:function(e){(0,H.j)(e),A||(f(ae(ae({},o),{},(0,c.Z)({},C,""))),S(!1),E(null))},primary:!0,small:!0,children:u||"Create configuration"}),(0,P.jsx)(g.Z,{mr:1}),(0,P.jsx)(a.ZP,{compact:!0,onClick:function(e){(0,H.j)(e),S(!1),E(null)},secondary:!0,small:!0,children:"Cancel"})]})]})}),[n,A,o,T,_,C,y,S,E]),R=(0,l.useMemo)((function(){return Object.entries(o||{}).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,P.jsxs)("div",{children:[(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsx)(a.ZP,{iconOnly:!0,noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){var e=ae({},o);null===e||void 0===e||delete e[t],f(e)},children:(0,P.jsx)(w.rF,{default:!0,size:se.Z})}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(Z.ZP,{default:!0,large:!0,monospace:!0,children:t}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,fullWidth:!0,large:!0,monospace:!0,noBackground:!0,noBorder:!0,onChange:function(e){return f(ae(ae({},o),{},(0,c.Z)({},t,e.target.value)))},paddingHorizontal:0,paddingVertical:0,placeholder:i,value:r||""})})]})})]},t)}))}),[o,f]);return(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,P.jsxs)(x.Z,{flex:1,flexDirection:"column",children:[(0,P.jsx)(j.Z,{level:4,children:m}),d&&(0,P.jsx)(g.Z,{mt:1,children:d})]}),(0,P.jsx)(g.Z,{mr:b.cd}),T&&(0,P.jsx)(h.ZP,{alignItems:"center",children:D})]})}),!T&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(v.Z,{light:!0}),(0,P.jsxs)(g.Z,{p:b.cd,children:[p&&(0,P.jsx)(g.Z,{mb:b.cd,children:(0,P.jsx)(Z.ZP,{default:!0,children:p})}),(0,P.jsx)(h.ZP,{alignItems:"center",children:D})]})]}),T&&R]})},pe=t(74260);function fe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fe(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ve=function(e){var n,t=e.attributesTouched,r=e.isLoading,i=e.mutateObject,o=e.objectAttributes,c=e.onCancel,s=e.selectedComputeService,u=e.setObjectAttributes,d=(0,l.useCallback)((function(e){return u({emr_config:me(me({},null===o||void 0===o?void 0:o.emr_config),e)})}),[o,u]),p=(0,l.useCallback)((function(e){return u({spark_config:me(me({},null===o||void 0===o?void 0:o.spark_config),e)})}),[o,u]),f=(0,l.useMemo)((function(){return(null===o||void 0===o?void 0:o.emr_config)||{}}),[o]),m=(0,l.useMemo)((function(){return(null===o||void 0===o?void 0:o.spark_config)||{}}),[o]);return(0,P.jsxs)(se.N,{children:[(0,P.jsx)(de,{addButtonText:"Add Spark configuration",addTextInputPlaceholder:"e.g. spark.driver.cores",alreadyExistsMessage:"Spark configuration exists",configurationValuePlaceholder:"e.g. 4g",configurations:null===m||void 0===m?void 0:m.others,createButtonText:"Create Spark configuration",description:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(Z.ZP,{muted:!0,children:["List of key-value pairs to be set in ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,children:"SparkConf"}),", e.g. ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,children:"spark.executor.memory=4g"}),"."]}),(0,P.jsxs)(Z.ZP,{muted:!0,children:["For a list of all configurations, see the ",(0,P.jsx)(X.Z,{href:"https://spark.apache.org/docs/latest/configuration.html",inline:!0,openNewWindow:!0,children:"Spark configuration documentation"}),"."]})]}),emptyState:"There are currently no executor Spark configurations.",setConfigurations:function(e){return p({others:e})},title:"Spark configurations"}),(0,P.jsx)(g.Z,{mb:b.HN}),pe.GO.AWS_EMR===s&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(h.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,P.jsxs)(x.Z,{flex:1,flexDirection:"column",children:[(0,P.jsx)(j.Z,{level:4,warning:!(null!==f&&void 0!==f&&f.ec2_key_name)||!(null!==f&&void 0!==f&&f.ec2_key_path),children:"Spark observability"}),(!(null!==f&&void 0!==f&&f.ec2_key_name)||!(null!==f&&void 0!==f&&f.ec2_key_path))&&"ec2_key_name"in((null===t||void 0===t?void 0:t.emr_config)||{})&&"ec2_key_path"in((null===t||void 0===t?void 0:t.emr_config)||{})&&(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(g.Z,{mt:1,children:(0,P.jsxs)(Z.ZP,{warning:!0,children:["Without all the fields in this section present and valid, Mage won\u2019t automatically create the SSH tunnel.",(0,P.jsx)("br",{}),"You must manually create the SSH tunnel in order for Mage to retrieve and display the Spark jobs, statuses, metrics, and system information."]})})}),(0,P.jsx)(g.Z,{mt:1,children:(0,P.jsxs)(Z.ZP,{muted:!0,children:["In order to see the Spark jobs, statuses, metrics, and system information, an SSH tunnel to the AWS EMR Master Node must be created.",(0,P.jsx)("br",{}),"Mage can automatically create the SSH tunnel for you if every field in this section is present and valid."]})}),(0,P.jsx)(g.Z,{mt:1,children:(0,P.jsx)(Z.ZP,{muted:!0})})]})})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"EC2 key name"}),(0,P.jsxs)(Z.ZP,{muted:!0,small:!0,children:["SSH tunnel into the EMR cluster using a key pair created from the ",(0,P.jsx)(X.Z,{href:"https://console.aws.amazon.com/ec2/home#KeyPairs",inline:!0,openNewWindow:!0,small:!0,children:"AWS guide"}),"."]})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return d({ec2_key_name:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. ec2_key_pair_name",value:(null===f||void 0===f?void 0:f.ec2_key_name)||""})})]})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"EC2 key path"}),(0,P.jsx)(Z.ZP,{muted:!0,small:!0,children:"The absolute file path to the EC2 public key that was used when creating a cluster."})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,autoComplete:"off",large:!0,monospace:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return d({ec2_key_path:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. ec2_key_pair_name",value:(null===f||void 0===f?void 0:f.ec2_key_path)||""})})]})})]}),(0,P.jsx)(g.Z,{mb:b.HN}),(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(h.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,P.jsxs)(x.Z,{flex:1,flexDirection:"column",children:[(0,P.jsx)(j.Z,{level:4,children:"EMR instance types"}),(0,P.jsx)(g.Z,{mt:1,children:(0,P.jsxs)(Z.ZP,{muted:!0,children:["Refer to the ",(0,P.jsx)(X.Z,{href:"https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-supported-instance-types.html",openNewWindow:!0,children:"AWS EMR"})," documentation for all supported EMR instance types."]})})]})})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsx)(h.ZP,{flexDirection:"column",children:(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"Master instance type"})}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return d({master_instance_type:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. r5.4xlarge",value:(null===f||void 0===f?void 0:f.master_instance_type)||""})})]})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsx)(h.ZP,{flexDirection:"column",children:(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"Slave instance type"})}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return d({slave_instance_type:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. r5.2xlarge",value:(null===f||void 0===f?void 0:f.slave_instance_type)||""})})]})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsx)(h.ZP,{flexDirection:"column",children:(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"Number of slave instances"})}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){var n=e.target.value||"";(""===n||/^\d+$/.exec(n))&&d({slave_instance_count:n})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. 2",value:(null===f||void 0===f?void 0:f.slave_instance_count)||""})})]})})]}),(0,P.jsx)(g.Z,{mb:b.HN}),(0,P.jsx)(de,{addButtonText:"Add Spark configuration",addTextInputPlaceholder:"e.g. spark.driver.cores",alreadyExistsMessage:"Spark configuration exists",configurationValuePlaceholder:"e.g. 4g",configurations:null===f||void 0===f?void 0:f.master_spark_properties,createButtonText:"Create Spark configuration",description:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(Z.ZP,{muted:!0,children:["List of key-value pairs to be set in ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,children:"SparkConf"})," for the master instance."]}),(0,P.jsxs)(Z.ZP,{muted:!0,children:["For a list of all configurations, see the ",(0,P.jsx)(X.Z,{href:"https://spark.apache.org/docs/latest/configuration.html",inline:!0,openNewWindow:!0,children:"Spark configuration documentation"}),"."]})]}),emptyState:"There are currently no Spark configurations for the master instance.",setConfigurations:function(e){return d({master_spark_properties:e})},title:"Master Spark configurations"}),(0,P.jsx)(g.Z,{mb:b.HN}),(0,P.jsx)(de,{addButtonText:"Add Spark configuration",addTextInputPlaceholder:"e.g. spark.driver.cores",alreadyExistsMessage:"Spark configuration exists",configurationValuePlaceholder:"e.g. 4g",configurations:null===f||void 0===f?void 0:f.slave_spark_properties,createButtonText:"Create Spark configuration",description:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(Z.ZP,{muted:!0,children:["List of key-value pairs to be set in ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,children:"SparkConf"})," for the slave instance."]}),(0,P.jsxs)(Z.ZP,{muted:!0,children:["For a list of all configurations, see the ",(0,P.jsx)(X.Z,{href:"https://spark.apache.org/docs/latest/configuration.html",inline:!0,openNewWindow:!0,children:"Spark configuration documentation"}),"."]})]}),emptyState:"There are currently no Spark configurations for the slave instance.",setConfigurations:function(e){return d({slave_spark_properties:e})},title:"Slave Spark configurations"}),(0,P.jsx)(g.Z,{mb:b.HN}),(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(h.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,P.jsxs)(x.Z,{flex:1,flexDirection:"column",children:[(0,P.jsx)(j.Z,{level:4,children:"Security"}),(0,P.jsx)(g.Z,{mt:1,children:(0,P.jsx)(Z.ZP,{muted:!0,children:"Configure security groups for EMR cluster instances."})})]})})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"Master security group"}),(0,P.jsxs)(Z.ZP,{muted:!0,small:!0,children:["The default managed security group is ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"ElasticMapReduce-master"}),"."]})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return d({master_security_group:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. sg-xxxxxxxxxxxx",value:(null===f||void 0===f?void 0:f.master_security_group)||""})})]})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"Slave security group"}),(0,P.jsxs)(Z.ZP,{muted:!0,small:!0,children:["The default managed security group is ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"ElasticMapReduce-slave"}),"."]})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return d({slave_security_group:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. sg-yyyyyyyyyyyy",value:(null===f||void 0===f?void 0:f.slave_security_group)||""})})]})})]}),(0,P.jsx)(g.Z,{mb:b.HN})]}),(0,P.jsxs)(h.ZP,{children:[(0,P.jsx)(a.ZP,{beforeIcon:(0,P.jsx)(w.vc,{}),disabled:!t||!(null!==(n=Object.keys(t))&&void 0!==n&&n.length),loading:r,onClick:function(){return i()},primary:!0,children:"Save changes"}),c&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(a.ZP,{onClick:function(){return null===c||void 0===c?void 0:c()},secondary:!0,children:"Cancel and go back"})]})]})]})},he=t(21831),je=t(77456),xe=t(86735);function ge(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ze(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ge(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ge(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var be=function(e){var n,t,r=e.attributesTouched,i=e.computeService,o=e.isLoading,c=e.mutateObject,s=e.objectAttributes,u=e.onCancel,d=e.selectedComputeService,p=e.setObjectAttributes,f=(0,l.useCallback)((function(e){return p({emr_config:Ze(Ze({},null===s||void 0===s?void 0:s.emr_config),e)})}),[s,p]),m=(0,l.useCallback)((function(e){return p({spark_config:Ze(Ze({},null===s||void 0===s?void 0:s.spark_config),e)})}),[s,p]),y=(0,l.useMemo)((function(){return(null===s||void 0===s?void 0:s.emr_config)||{}}),[s]),O=(0,l.useMemo)((function(){return(null===s||void 0===s?void 0:s.spark_config)||{}}),[s]),_=(0,l.useRef)(null),S=((0,l.useRef)(null),(0,l.useState)(!1)),I=S[0],E=S[1],T=(0,l.useState)(null),A=T[0],D=T[1],R=(0,l.useMemo)((function(){return(null===O||void 0===O?void 0:O.spark_jars)||[]}),[O]),M=(0,l.useMemo)((function(){return(null===R||void 0===R?void 0:R.length)>=1}),[R]),N=(0,l.useMemo)((function(){return(R||[]).includes(A)}),[R,A]),B=(0,l.useMemo)((function(){return(0,P.jsxs)(h.ZP,{alignItems:"center",children:[!I&&(0,P.jsx)(a.ZP,{beforeIcon:(0,P.jsx)(w.mm,{}),compact:!0,onClick:function(e){(0,H.j)(e),E(!0),setTimeout((function(){var e;return null===_||void 0===_||null===(e=_.current)||void 0===e?void 0:e.focus()}),1)},secondary:!M,small:!0,children:"Add JAR file"}),I&&(0,P.jsxs)(P.Fragment,{children:[N&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Z.ZP,{danger:!0,small:!0,children:"JAR file exists"}),(0,P.jsx)(g.Z,{mr:1})]}),(0,P.jsx)(ce.Z,{autoComplete:"off",compact:!0,meta:{touched:!!N,error:""},monospace:!0,onClick:function(e){return(0,H.j)(e)},paddingVertical:b.iI/2-2,onChange:function(e){(0,H.j)(e),D(e.target.value)},ref:_,small:!0,value:A||""}),(0,P.jsx)(g.Z,{mr:1}),(0,P.jsx)(a.ZP,{disabled:N,compact:!0,onClick:function(e){(0,H.j)(e),N||(m({spark_jars:R.concat(A)}),E(!1),D(null))},primary:!0,small:!0,children:"Add JAR file"}),(0,P.jsx)(g.Z,{mr:1}),(0,P.jsx)(a.ZP,{compact:!0,onClick:function(e){(0,H.j)(e),E(!1),D(null)},secondary:!0,small:!0,children:"Cancel"})]})]})}),[N,R,M,I,A,_,E,D]),z=(0,l.useMemo)((function(){return null===R||void 0===R?void 0:R.map((function(e,n){return(0,P.jsxs)("div",{children:[(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsx)(a.ZP,{iconOnly:!0,noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){var e=(0,he.Z)(R);m({spark_jars:(0,xe.oM)(e,n)})},children:(0,P.jsx)(w.rF,{default:!0,size:se.Z})}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsxs)(Z.ZP,{default:!0,large:!0,monospace:!0,children:["File ",n+1]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,fullWidth:!0,large:!0,monospace:!0,noBackground:!0,noBorder:!0,onChange:function(e){var t=(0,he.Z)(R);t[n]=e.target.value,m({spark_jars:t})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. /home/path/example1.jar",value:e||""})})]})})]},e)}))}),[R,m]),F=(0,l.useMemo)((function(){var e="remote_variables_dir",n=null===i||void 0===i?void 0:i.setup_steps,t=null===n||void 0===n?void 0:n.find((function(n){return n.uuid===e}));return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"flex-start",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsxs)(Z.ZP,{danger:!(null!==s&&void 0!==s&&s.remote_variables_dir)||!(null===t||void 0===t||!t.error),default:!0,large:!0,children:["Remote variables directory ",!(null!==s&&void 0!==s&&s.remote_variables_dir)&&(0,P.jsx)(Z.ZP,{danger:!0,inline:!0,large:!0,children:"is required"})]}),(0,P.jsx)(Z.ZP,{muted:!0,small:!0,children:"This S3 bucket will be used by Spark."})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsxs)(x.Z,{flex:1,flexDirection:"column",children:[(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,large:!0,monospace:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return p({remote_variables_dir:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. s3://magically-powerful-bucket",value:(null===s||void 0===s?void 0:s.remote_variables_dir)||""}),(null===t||void 0===t?void 0:t.error)&&(0,P.jsx)(h.ZP,{justifyContent:"flex-end",children:(0,P.jsx)(g.Z,{mt:1,children:(0,P.jsx)(je.Z,{error:null===t||void 0===t?void 0:t.error})})})]})]})})]})}),[i,s,p]);return(0,P.jsxs)(se.N,{children:[(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(j.Z,{level:4,children:"Setup"})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsxs)(Z.ZP,{danger:"app_name"in r&&!(null!==O&&void 0!==O&&O.app_name),default:!0,large:!0,children:["Application name ","app_name"in r&&!(null!==O&&void 0!==O&&O.app_name)&&(0,P.jsx)(Z.ZP,{danger:!0,inline:!0,large:!0,children:"is required"})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return m({app_name:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. Sparkmage",value:(null===O||void 0===O?void 0:O.app_name)||""})})]})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"flex-start",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsxs)(Z.ZP,{danger:"spark_master"in r&&!(null!==O&&void 0!==O&&O.spark_master),default:!0,large:!0,children:["Master URL ","spark_master"in r&&!(null!==O&&void 0!==O&&O.spark_master)&&(0,P.jsx)(Z.ZP,{danger:!0,inline:!0,large:!0,children:"is required"})]}),(0,P.jsx)(Z.ZP,{muted:!0,small:!0,children:"The URL for connecting to the master."})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return m({spark_master:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. local, yarn, spark://host:port",value:(null===O||void 0===O?void 0:O.spark_master)||""})})]})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"flex-start",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"Spark home directory"}),(0,P.jsx)(Z.ZP,{muted:!0,small:!0,children:"Path where Spark is installed on worker nodes."})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,large:!0,monospace:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return m({spark_home:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. /usr/lib/spark",value:(null===O||void 0===O?void 0:O.spark_home)||""})})]})}),pe.GO.AWS_EMR===d&&F]}),(0,P.jsx)(g.Z,{mb:b.HN}),(null===i||void 0===i?void 0:i.connection_credentials)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(j.Z,{level:4,children:"Credentials"})}),null===i||void 0===i||null===(n=i.connection_credentials)||void 0===n?void 0:n.map((function(e){var n=e.description,t=e.error,r=e.name,i=e.required,o=e.uuid,l=e.valid,c=e.value;return(0,P.jsxs)("div",{children:[(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsxs)(Z.ZP,{danger:!l,default:!0,large:!0,monospace:!r,children:[r||o," ",!l&&(0,P.jsx)(Z.ZP,{danger:!0,inline:!0,large:!0,children:"is invalid"})]}),n&&(0,P.jsx)(Z.ZP,{muted:!0,small:!0,children:n})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsxs)(x.Z,{flex:1,justifyContent:"flex-end",children:[!l&&(0,P.jsxs)(P.Fragment,{children:[!t&&i&&(0,P.jsx)(Z.ZP,{muted:!0,large:!0,children:"Required but missing"}),!t&&!i&&(0,P.jsx)(Z.ZP,{muted:!0,large:!0,children:"Invalid"}),t&&(0,P.jsx)(je.Z,{error:t,large:!0})]}),l&&c&&(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:c})]})]})})]},o)}))]}),(0,P.jsx)(g.Z,{mb:b.HN})]}),(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsx)(j.Z,{level:4,children:"Customizations"})}),(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"flex-start",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"Use custom session"}),(0,P.jsxs)(Z.ZP,{muted:!0,small:!0,children:["Whether to create custom SparkSession via",(0,P.jsx)("br",{}),"code and set it in ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"kwargs['context']"}),"."]})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,justifyContent:"flex-end",children:(0,P.jsx)(C.Z,{checked:null===O||void 0===O?void 0:O.use_custom_session,compact:!0,onCheck:function(e){return m({use_custom_session:e(null===O||void 0===O?void 0:O.use_custom_session)})}})})]})}),(null===O||void 0===O?void 0:O.use_custom_session)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(v.Z,{light:!0}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"flex-start",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"Custom session variable"}),(0,P.jsxs)(Z.ZP,{muted:!0,small:!0,children:["The variable name to set in ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"kwargs['context']"}),",",(0,P.jsx)("br",{}),"e.g. If variable name is ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"spark"})," then the Spark session",(0,P.jsx)("br",{}),"is accessed using ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"kwargs['context']['spark']"}),"."]})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,large:!0,monospace:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return m({custom_session_var_name:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. spark",value:(null===O||void 0===O?void 0:O.custom_session_var_name)||""})})]})})]}),pe.GO.AWS_EMR===d&&(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsxs)(h.ZP,{flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!0,large:!0,children:"Bootstrap script path"}),(0,P.jsx)(Z.ZP,{muted:!0,small:!0,children:"Use a custom script to bootstrap the EMR cluster."})]}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(x.Z,{flex:1,children:(0,P.jsx)(ce.Z,{afterIcon:(0,P.jsx)(w.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:se.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,onChange:function(e){return f({bootstrap_script_path:e.target.value})},paddingHorizontal:0,paddingVertical:0,placeholder:"e.g. /path/to/emr_bootstrap.sh",value:(null===y||void 0===y?void 0:y.bootstrap_script_path)||""})})]})})]}),(0,P.jsx)(g.Z,{mb:b.HN}),(0,P.jsx)(de,{addButtonText:"Add environment variable",addTextInputPlaceholder:"e.g. PYTHONPATH",alreadyExistsMessage:"Environment variable exists",configurationValuePlaceholder:"e.g. /home/path",configurations:null===O||void 0===O?void 0:O.executor_env,createButtonText:"Create environment variable",description:(0,P.jsx)(Z.ZP,{muted:!0,children:"Environment variables for the executor."}),emptyState:"There are currently no executor environment variables.",setConfigurations:function(e){return m({executor_env:e})},title:"Environment variables"}),(0,P.jsx)(g.Z,{mb:b.HN}),(0,P.jsxs)(k.Z,{noPadding:!0,children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"flex-start",justifyContent:"space-between",children:[(0,P.jsxs)(x.Z,{flex:1,flexDirection:"column",children:[(0,P.jsx)(j.Z,{level:4,children:"JAR files"}),(0,P.jsx)(g.Z,{mt:1,children:(0,P.jsxs)(Z.ZP,{muted:!0,children:["These files will be to be uploaded to the cluster and added to the ",(0,P.jsx)(Z.ZP,{inline:!0,monospace:!0,muted:!0,children:"classpath"}),"."]})})]}),(0,P.jsx)(g.Z,{mr:b.cd}),M&&(0,P.jsx)(h.ZP,{alignItems:"center",children:B})]})}),!M&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(v.Z,{light:!0}),(0,P.jsxs)(g.Z,{p:b.cd,children:[(0,P.jsx)(g.Z,{mb:b.cd,children:(0,P.jsx)(Z.ZP,{default:!0,children:"There are currently no JAR files."})}),(0,P.jsx)(h.ZP,{alignItems:"center",children:B})]})]}),M&&z]}),(0,P.jsx)(g.Z,{mb:b.HN}),(0,P.jsxs)(h.ZP,{children:[(0,P.jsx)(a.ZP,{beforeIcon:(0,P.jsx)(w.vc,{}),disabled:!r||!(null!==(t=Object.keys(r))&&void 0!==t&&t.length),loading:o,onClick:function(){return c()},primary:!0,children:"Save changes"}),u&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(a.ZP,{onClick:function(){return null===u||void 0===u?void 0:u()},secondary:!0,children:"Cancel and go back"})]})]})]})},Pe=t(35185);var ye=function(e){var n=e.computeService,t=e.onClick,r=(0,l.useMemo)((function(){var e,t=[],r=0;return null===n||void 0===n||null===(e=n.setup_steps)||void 0===e||e.forEach((function(e){var n=e.group,i=e.required,o=e.status_calculated,l=e.steps;n?null===l||void 0===l||l.forEach((function(e){t.push(e);var n=e.required,i=e.status_calculated;n&&pe.br.COMPLETED!==i||(r+=1)})):(t.push(e),i&&pe.br.COMPLETED!==o||(r+=1))})),{steps:t,stepsCompleted:r}}),[n]),i=r.steps,o=r.stepsCompleted,c=(0,l.useMemo)((function(){return(null===i||void 0===i?void 0:i.length)||1}),[i]),s=(0,l.useMemo)((function(){return o/c}),[o,c]);return(0,P.jsxs)(X.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:t?function(){return null===t||void 0===t?void 0:t()}:null,preventDefault:!0,children:[(0,P.jsx)(v.Z,{light:!0}),(0,P.jsxs)(g.Z,{p:b.cd,children:[(0,P.jsx)(g.Z,{mb:1,children:(0,P.jsxs)(Z.ZP,{monospace:!0,muted:!0,children:[(0,P.jsx)(Z.ZP,{default:!0,inline:!0,children:o})," / ",(0,P.jsx)(Z.ZP,{default:!0,inline:!0,children:c})," ",(0,M._6)("step",c,!1,!0)," completed"]})}),(0,P.jsx)(Pe.Z,{progress:100*s})]}),(0,P.jsx)(v.Z,{light:!0})]})},Oe=t(78688),_e=t(72748),ke=t(32013),Se=t(98777);function Ie(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ie(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ee="Environment",we="Executors";var Te=function(e){e.objectAttributes;var n,t=(0,l.useContext)(A.ThemeContext),r=(0,l.useState)(Ee),i=r[0],o=r[1],c=E.ZP.spark_executors.list().data,u=(0,l.useMemo)((function(){return null===c||void 0===c?void 0:c.spark_executors}),[c]),a=E.ZP.spark_environments.detail("0").data,d=(0,l.useMemo)((function(){return null===a||void 0===a?void 0:a.spark_environment}),[a]),p=(0,l.useMemo)((function(){var e,n,t,r,i,o,c;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(g.Z,{px:b.cd,children:(0,P.jsxs)(ke.Z,{noBoxShadow:!0,children:[(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:"Runtime",children:[(0,P.jsx)(I.Z,{columnFlex:[null,null],columns:[{uuid:"Property"},{uuid:"Value"}],rows:null===(e=Object.entries((null===d||void 0===d?void 0:d.runtime)||{}))||void 0===e?void 0:e.map((function(e){return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),e[0]),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),e[1])]}))}),(0,P.jsx)(g.Z,{p:1})]}),(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:"Hadoop properties",children:[(0,P.jsx)(I.Z,{columnFlex:[null,null],columns:[{uuid:"Property"},{uuid:"Value"}],rows:null===d||void 0===d||null===(n=d.hadoop_properties)||void 0===n?void 0:n.map((function(e){return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),e[0]),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),e[1])]}))}),(0,P.jsx)(g.Z,{p:1})]}),(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:"Metrics properties",children:[(0,P.jsx)(I.Z,{columnFlex:[null,null],columns:[{uuid:"Property"},{uuid:"Value"}],rows:null===d||void 0===d||null===(t=d.metrics_properties)||void 0===t?void 0:t.map((function(e){return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),e[0]),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),e[1])]}))}),(0,P.jsx)(g.Z,{p:1})]}),(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:"Spark properties",children:[(0,P.jsx)(I.Z,{columnFlex:[1,4],columns:[{uuid:"Property"},{uuid:"Value"}],rows:null===d||void 0===d||null===(r=d.spark_properties)||void 0===r?void 0:r.map((function(e){return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),e[0]),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),e[1])]}))}),(0,P.jsx)(g.Z,{p:1})]}),(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:"System properties",children:[(0,P.jsx)(I.Z,{columnFlex:[null,null],columns:[{uuid:"Property"},{uuid:"Value"}],rows:null===d||void 0===d||null===(i=d.system_properties)||void 0===i?void 0:i.map((function(e){return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),e[0]),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),e[1])]}))}),(0,P.jsx)(g.Z,{p:1})]}),(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:"Classpath entries",children:[(0,P.jsx)(I.Z,{columnFlex:[null,null],columns:[{uuid:"Type"},{uuid:"Value"}],rows:null===d||void 0===d||null===(o=d.classpath_entries)||void 0===o?void 0:o.map((function(e){return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"type"}),e[1]),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),e[0])]}))}),(0,P.jsx)(g.Z,{p:1})]})]})}),null===d||void 0===d||null===(c=d.resource_profiles)||void 0===c?void 0:c.map((function(e){var n=e.executor_resources,t=e.id,r=e.task_resources;return(0,P.jsxs)("div",{children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(j.Z,{level:4,children:["Executor resources ID ",t]})}),(0,P.jsx)(g.Z,{px:b.cd,children:(0,P.jsx)(ke.Z,{noBoxShadow:!0,children:Object.entries(n||{}).map((function(e){var n,t=(0,s.Z)(e,2),r=t[0],i=t[1];return(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:(0,M.vg)(r),children:[(0,P.jsx)(I.Z,{columnFlex:[1,2],columns:[{uuid:"Property"},{uuid:"Value"}],rows:null===(n=Object.entries(i))||void 0===n?void 0:n.map((function(e){return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),(0,M.vg)(e[0])),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),e[1]||"-")]}))}),(0,P.jsx)(g.Z,{p:1})]},r)}))})}),(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(j.Z,{level:4,children:["Task resources ID ",t]})}),(0,P.jsx)(g.Z,{px:b.cd,children:(0,P.jsx)(ke.Z,{noBoxShadow:!0,children:Object.entries(r||{}).map((function(e){var n,t=(0,s.Z)(e,2),r=t[0],i=t[1];return(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:(0,M.vg)(r),children:[(0,P.jsx)(I.Z,{columnFlex:[1,2],columns:[{uuid:"Property"},{uuid:"Value"}],rows:null===(n=Object.entries(i))||void 0===n?void 0:n.map((function(e){return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),(0,M.vg)(e[0])),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),e[1]||"-")]}))}),(0,P.jsx)(g.Z,{p:1})]},r)}))})})]},t)}))]})}),[d]),f=(0,l.useMemo)((function(){return null===u||void 0===u?void 0:u.map((function(e){return(0,P.jsxs)("div",{children:[(0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(j.Z,{level:4,children:["Executor ",null===e||void 0===e?void 0:e.id]})}),(0,P.jsx)(g.Z,{px:b.cd,children:(0,P.jsxs)(ke.Z,{noBoxShadow:!0,children:[(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:"Metrics",children:[(0,P.jsx)(I.Z,{columnFlex:[1,2],columns:[{uuid:"Metric"},{uuid:"Value"}],rows:["active_tasks","add_time","completed_tasks","disk_used","failed_tasks","host_port","is_active","is_blacklisted","is_excluded","max_memory","max_tasks","memory_used","rdd_blocks","resource_profile_id","total_cores","total_duration","total_gc_time","total_input_bytes","total_shuffle_read","total_shuffle_write","total_tasks"].map((function(n){var t=null===e||void 0===e?void 0:e[n];return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),(0,M.vg)(n)),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),"undefined"===typeof t?"-":"boolean"===typeof t?String(t):t)]}))}),(0,P.jsx)(g.Z,{p:1})]}),(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:"Memory metrics",children:[(0,P.jsx)(I.Z,{columnFlex:[1,2],columns:[{uuid:"Metric"},{uuid:"Value"}],rows:Object.entries((null===e||void 0===e?void 0:e.memory_metrics)||{}).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),(0,M.vg)(t)),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),"undefined"===typeof r?"-":"boolean"===typeof r?String(r):r)]}))}),(0,P.jsx)(g.Z,{p:1})]}),(0,P.jsxs)(Se.Z,{noPaddingContent:!0,title:"Peak memory metrics",children:[(0,P.jsx)(I.Z,{columnFlex:[1,2],columns:[{uuid:"Metric"},{uuid:"Value"}],rows:Object.entries((null===e||void 0===e?void 0:e.peak_memory_metrics)||{}).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return[(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"property"}),(0,M.vg)(t)),(0,l.createElement)(Z.ZP,Ce(Ce({},$.eB),{},{key:"value"}),"undefined"===typeof r?"-":"boolean"===typeof r?String(r):r)]}))}),(0,P.jsx)(g.Z,{p:1})]})]})})]},null===e||void 0===e?void 0:e.id)}))}),[u]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(g.Z,{px:b.cd,children:(0,P.jsx)(q.Z,{noPadding:!0,onClickTab:function(e){var n=e.uuid;return o(n)},regularSizeText:!0,selectedTabUUID:i,tabs:[{label:function(){return Ee},uuid:Ee},{label:function(){return we},uuid:we}],underlineColor:null===t||void 0===t||null===(n=t.accent)||void 0===n?void 0:n.blue,underlineStyle:!0})}),(0,P.jsx)(g.Z,{mb:b.cd,children:(0,P.jsx)(v.Z,{light:!0})}),Ee===i&&p,we===i&&f]})},Ae=t(62547),De=t(23657),Re=t(74778),Me=t(46684),Ne=t(53808),Be=t(10332),He=t(15610),ze=t(69419),Fe=t(19183);function Le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Le(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var We=function(e){var n,t=e.contained,r=e.heightOffset,i=e.mainContainerRef,o=(0,Fe.i)(),d=o.height,p=(o.width,(0,l.useMemo)((function(){return"ComputeManagement/".concat(t?"contained":"open")}),[t])),f=(0,L.VI)(null,{},[],{uuid:p}),m=(0,s.Z)(f,1)[0],v=((0,l.useRef)(null),(0,l.useRef)(null),(0,l.useRef)(null),(0,l.useRef)(null)),y=(0,l.useMemo)((function(){return d-(r||0)}),[r,d]),O=(0,l.useState)(!1),_=O[0],k=O[1],S=(0,l.useState)(null),I=S[0],C=S[1],T=(0,De.Z)({clustersRefreshInterval:1e4,includeAllStates:_}),A=T.activeCluster,D=T.clusters,R=T.clustersLoading,M=T.computeService,N=T.connections,H=T.connectionsLoading,F=T.fetchAll,G=T.setupComplete,W=(0,l.useState)(null),U=W[0],V=W[1];(0,l.useEffect)((function(){var e;V(null===v||void 0===v||null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect())}),[d,v]);var q=(0,l.useMemo)((function(){return"compute_management_after_width_".concat(p)}),[p]),J=(0,l.useMemo)((function(){return"compute_management_before_width_".concat(p)}),[p]),K=(0,l.useState)((0,Ne.U2)(q,60*b.iI)),Q=K[0],ee=K[1],ne=(0,l.useCallback)((function(e){ee(e),(0,Ne.t8)(q,Math.max(e,60*b.iI))}),[q,ee]),te=(0,l.useState)(!1),re=te[0],ie=te[1],oe=(0,l.useState)(Math.max((0,Ne.U2)(J),20*b.iI)),ce=oe[0],se=oe[1],ue=(0,l.useCallback)((function(e){se(e||20*b.iI),(0,Ne.t8)(J,e||20*b.iI)}),[J,se]),ae=(0,l.useState)(!1),de=ae[0],pe=ae[1],fe=(0,l.useState)(!0),me=fe[0],he=fe[1],je=(0,l.useState)(null),xe=je[0],ge=je[1],Ze=(0,l.useCallback)((function(e){ge((function(n){var t=e(n);return t&&me?he(!1):t||me||!G||he(!0),t}))}),[me,he,ge,G]),Pe=(0,l.useState)(null),ke=Pe[0],Se=Pe[1],Ie=(0,l.useCallback)((function(e){var n;(0,He.u)((0,c.Z)({},"tab",null===(n="function"===typeof e?null===e||void 0===e?void 0:e():e)||void 0===n?void 0:n.main)),Ze((function(){return null}))}),[Ze]),Ce=(0,ze.iV)();(0,l.useEffect)((function(){var e=null===Ce||void 0===Ce?void 0:Ce.tab;(null===ke||void 0===ke?void 0:ke.main)!==e&&Se(e?{main:e}:null)}),[ke,Ce]);var Ee=(0,l.useState)(null),we=Ee[0],Le=Ee[1],We=(0,l.useState)({}),Ue=We[0],Ve=We[1],Ye=(0,l.useCallback)((function(e){Ve((function(n){return Ge(Ge({},n),e)})),Le((function(n){return Ge(Ge({},n),e)}))}),[Ve,Le]),Xe=((0,l.useCallback)((function(e){return Ye({spark_config:Ge(Ge({},null===we||void 0===we?void 0:we.spark_config),e)})}),[we,Ye]),E.ZP.projects.list({},{revalidateOnFocus:!1}).data),qe=(0,l.useMemo)((function(){var e;return null===Xe||void 0===Xe||null===(e=Xe.projects)||void 0===e?void 0:e[0]}),[Xe]),Je=(0,l.useMemo)((function(){return null===qe||void 0===qe?void 0:qe.name}),[qe]),Ke=E.ZP.spark_applications.list().data,Qe=(0,l.useMemo)((function(){return null===Ke||void 0===Ke?void 0:Ke.spark_applications}),[Ke]),$e=E.ZP.spark_jobs.list().data,en=(0,l.useMemo)((function(){return null===$e||void 0===$e?void 0:$e.spark_jobs}),[$e]);(0,l.useEffect)((function(){he(G)}),[G]),(0,l.useEffect)((function(){qe&&(Le(qe),C((0,Be.d)(qe)))}),[qe,Le,C,Ie]),(0,l.useEffect)((function(){!ke&&I&&Ie({main:$.uK.SETUP})}),[I,ke,Ie]);var nn=(0,u.Db)(E.ZP.projects.useUpdate(Je),{onSuccess:function(e){return(0,B.wD)(e,{callback:function(e){var n=e.project;Ve({}),Le(n),F()},onErrorCallback:function(e,n){return m({errors:n,response:e})}})}}),tn=(0,s.Z)(nn,2),rn=tn[0],on=tn[1].isLoading,ln=(0,l.useCallback)((function(e){return rn({project:(0,z.GL)(Ge(Ge({},we),e),["emr_config","remote_variables_dir","spark_config"])})}),[we,rn]),cn=(0,l.useMemo)((function(){var e=(0,$.kI)(M).map((function(e){var n,t=e.Icon,r=e.renderStatus,i=e.uuid;return r&&(n=null===r||void 0===r?void 0:r({applications:Qe,applicationsLoading:!Ke,clusters:D,clustersLoading:R,computeConnections:N,computeService:M,jobs:en,jobsLoading:!$e})),(0,P.jsx)(X.Z,{block:!0,disabled:!I,noHoverUnderline:!0,noOutline:!0,onClick:function(){return Ie((function(){return{main:i}}))},preventDefault:!0,children:(0,P.jsx)(Re.bC,{selected:(null===ke||void 0===ke?void 0:ke.main)===i,children:(0,P.jsxs)(h.ZP,{alignItems:"center",fullHeight:!0,justifyContent:"space-between",children:[(0,P.jsxs)(x.Z,{alignItems:"center",flex:1,children:[(0,P.jsx)(t,{size:2*b.iI}),(0,P.jsx)(g.Z,{mr:2}),(0,P.jsx)(Z.ZP,{bold:!0,large:!0,children:$.TD[i]})]}),n&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(g.Z,{mr:b.cd}),n]})]})})},i)}));if(I){var n=String(I),t=$.l[n],r=$.Eb[n],i=$.LF[n];if(t&&r&&i){var o,l;null!==M&&void 0!==M&&M.setup_steps&&(l=G?A?null!==A&&void 0!==A&&A.ready?"Cluster is ready, commence coding.":"Cluster activated and initializing.":"Setup complete but no clusters activated.":"All setup steps have not been completed yet.");var c=[];null!==M&&void 0!==M&&M.setup_steps&&c.push((0,P.jsx)(g.Z,{py:1,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[G&&(0,P.jsx)(w.Fs,{muted:!(null!==A&&void 0!==A&&A.ready),size:1.5*b.iI,success:null===A||void 0===A?void 0:A.ready}),!G&&(0,P.jsx)(w.uy,{danger:!0,size:1.5*b.iI}),(0,P.jsx)(g.Z,{mr:1}),(0,P.jsxs)(x.Z,{flex:1,flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!G||!A,small:!0,children:G&&A?"Compute service connected":"Compute service unconnected"}),l&&(0,P.jsx)(Z.ZP,{muted:!0,xsmall:!0,children:l})]})]})},"compute-service-setup-steps")),(null===M||void 0===M||null===(o=M.setup_steps)||void 0===o?void 0:o.length)>=1&&!G&&e.unshift((0,P.jsx)(ye,{computeService:M,onClick:function(){return he(!1)}},"setupProgress")),e.unshift((0,P.jsx)(g.Z,{p:b.cd,children:(0,P.jsxs)(Re.UE,{inline:!0,children:[(0,P.jsxs)(h.ZP,{alignItems:"flex-start",children:[(0,P.jsx)(x.Z,{flex:1,children:i()}),(0,P.jsx)(a.ZP,{compact:!0,onClick:function(){C(null),Ie(null)},secondary:!0,small:!0,children:"Change"})]}),(0,P.jsx)(g.Z,{mt:b.cd,children:(0,P.jsx)(h.ZP,{alignItems:"flex-end",children:(0,P.jsxs)(x.Z,{flex:1,flexDirection:"column",children:[(0,P.jsx)(Z.ZP,{default:!0,monospace:!0,children:r}),(0,P.jsx)(j.Z,{level:5,children:t})]})})}),(null===c||void 0===c?void 0:c.length)>=1&&(0,P.jsx)(g.Z,{mt:b.cd,children:c})]})},"".concat(t,"-").concat(r)))}}return e}),[A,Qe,D,R,M,N,Ke,$e,en,I,ke,he,Ie,G]),sn=(0,l.useMemo)((function(){var e;return xe?(0,P.jsx)(_e.Z,{height:y-(((null===U||void 0===U?void 0:U.height)||0)+Me.Mz+1),model:xe}):(null===M||void 0===M||null===(e=M.setup_steps)||void 0===e?void 0:e.length)>=1?(0,P.jsx)(Oe.Z,{onClickStep:function(e){return Ie((function(){return{main:e}}))},setupSteps:null===M||void 0===M?void 0:M.setup_steps}):void 0}),[M,y,xe,G]),un=(0,l.useMemo)((function(){return(0,P.jsx)(be,{attributesTouched:Ue||{},computeService:M,isLoading:on,mutateObject:ln,objectAttributes:we,selectedComputeService:I,setObjectAttributes:Ye})}),[Ue,M,on,we,I,Ye,ln]),an=(0,l.useMemo)((function(){return(0,P.jsx)(ve,{attributesTouched:Ue||{},isLoading:on,mutateObject:ln,objectAttributes:we,selectedComputeService:I,setObjectAttributes:Ye})}),[Ue,on,we,I,Ye,ln]),dn=(0,l.useMemo)((function(){if([$.B2.AWS_EMR,$.B2.STANDALONE_CLUSTER].includes(I))return(0,P.jsx)(le,{applications:Qe,computeConnections:N,computeService:M,connectionsLoading:H,fetchAll:F,jobs:en,loadingApplications:!Ke,loadingJobs:!$e,objectAttributes:we,refButtonTabs:v,selectedComputeService:I,setSelectedSql:Ze,setSelectedTab:Ie})}),[Qe,M,N,H,F,Ke,$e,en,we,v,I,Ze,Ie]),pn=(0,l.useMemo)((function(){if([$.B2.AWS_EMR,$.B2.STANDALONE_CLUSTER].includes(I))return(0,P.jsx)(Te,{objectAttributes:we})}),[we,I]),fn=(0,l.useMemo)((function(){return(0,P.jsxs)(g.Z,{mx:1,py:b.cd,children:[(0,P.jsx)(g.Z,{mb:b.cd,px:b.cd,children:(0,P.jsx)(j.Z,{children:"Select a compute service"})}),(0,P.jsx)(h.ZP,{alignItems:"center",flexWrap:"wrap",children:$.sY.map((function(e){var n=e.buildPayload,t=e.displayName,r=e.documentationHref,i=e.kicker,o=e.renderIcon,l=e.uuid;return(0,P.jsxs)(Re.UE,{children:[o(),(0,P.jsxs)(g.Z,{mt:b.cd,children:[(0,P.jsx)(Z.ZP,{default:!0,monospace:!0,children:i}),(0,P.jsx)(j.Z,{level:4,children:t})]}),(0,P.jsx)(g.Z,{mt:b.cd,children:(0,P.jsxs)(h.ZP,{alignItems:"center",children:[(0,P.jsx)(a.ZP,{loading:on&&l===I,onClick:function(){C(l),ln(n(we))},primary:!0,children:"Enable"}),(0,P.jsx)(g.Z,{mr:b.cd}),(0,P.jsx)(X.Z,{href:r,default:!0,openNewWindow:!0,children:"View setup documentation"})]})})]},l)}))})]})}),[on,we,I,C,ln]),mn=(0,l.useMemo)((function(){return(0,P.jsx)(Y,{clusters:D,computeService:M,fetchAll:F,includeAllStates:_,loading:R,setIncludeAllStates:k})}),[D,R,M,F,_,k]),vn=(0,l.useMemo)((function(){if(!I&&we)return fn;if(I&&qe&&null!==ke&&void 0!==ke&&ke.main){var e=null===ke||void 0===ke?void 0:ke.main;if($.uK.SETUP===e)return un;if($.uK.RESOURCES===e)return an;if($.uK.MONITORING===e)return dn;if($.uK.SYSTEM===e)return pn;if($.uK.CLUSTERS===e)return mn}}),[mn,fn,dn,we,qe,an,I,ke,un,pn]);return(0,P.jsx)(Ae.Z,{after:sn,afterDividerContrast:!0,afterHeightOffset:Me.Mz,afterHidden:me&&!xe,afterMousedownActive:re,afterWidth:Q,before:cn,beforeDividerContrast:!0,beforeHeightOffset:0,beforeHidden:!I,beforeMousedownActive:de,beforeWidth:ce,contained:!0,height:y,hideAfterCompletely:!(null!==M&&void 0!==M&&null!==(n=M.setup_steps)&&void 0!==n&&n.length),hideBeforeCompletely:!I,inline:!0,mainContainerRef:i,setAfterHidden:he,setAfterMousedownActive:ie,setAfterWidth:ne,setBeforeMousedownActive:pe,setBeforeWidth:ue,uuid:p,children:vn})},Ue=t(94629),Ve=t(93808);function Ye(){var e=(0,l.useRef)(null);return(0,P.jsx)(Ue.Z,{title:"Compute management",uuid:"Compute management/index",children:(0,P.jsx)("div",{ref:e,children:(0,P.jsx)(We,{heightOffset:Me.Mz,mainContainerRef:e})})})}Ye.getInitialProps=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var Xe=(0,Ve.Z)(Ye)},23657:function(e,n,t){"use strict";var r=t(82394),i=t(75582),o=t(82684),l=t(74260),c=t(35686),s=t(77417);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.clustersRefreshInterval,t=e.computeServiceRefreshInterval,u=e.connectionsRefreshInterval,d=e.includeAllStates,p=(0,s.Z)(),f=p.sparkEnabled,m=c.ZP.compute_services.detail("compute-service",{},{refreshInterval:t},{pauseFetch:!f}),v=m.data,h=m.mutate,j=(0,o.useMemo)((function(){return null===v||void 0===v?void 0:v.compute_service}),[v]),x={};d&&(x.include_all_states=!0);var g=c.ZP.compute_clusters.compute_services.list(null===j||void 0===j?void 0:j.uuid,x,{refreshInterval:n},{pauseFetch:!f}),Z=g.data,b=g.mutate,P=(0,o.useMemo)((function(){return(null===Z||void 0===Z?void 0:Z.compute_clusters)||[]}),[Z]),y=(0,o.useMemo)((function(){return null===P||void 0===P?void 0:P.map((function(e){return e.cluster}))}),[P]),O=(0,o.useMemo)((function(){var e,n;return null!==j&&void 0!==j&&null!==(e=j.setup_steps)&&void 0!==e&&e.length?null===j||void 0===j||null===(n=j.setup_steps)||void 0===n?void 0:n.every((function(e){var n=e.required,t=e.status_calculated;return!n||!t||l.br.COMPLETED===t})):null}),[j]),_=((0,o.useMemo)((function(){return null===y||void 0===y?void 0:y.find((function(e){return e.active}))}),[y]),c.ZP.compute_connections.compute_services.list(null===j||void 0===j?void 0:j.uuid,{},{refreshInterval:u},{pauseFetch:!f})),k=_.data,S=_.mutate,I=(0,o.useMemo)((function(){return(null===k||void 0===k?void 0:k.compute_connections)||[]}),[k]),C=(0,o.useCallback)((function(){return new Promise((function(){null===b||void 0===b||b(),null===S||void 0===S||S(),null===h||void 0===h||h()}))}),[b,S,h]);return{activeCluster:null===y||void 0===y?void 0:y.find((function(e){return e.active})),clusters:y,clustersLoading:!Z,computeService:j,computeServiceUUIDs:Object.entries(l.GO).reduce((function(e,n){var t=(0,i.Z)(n,2),o=t[0],l=t[1];return a(a({},e),{},(0,r.Z)({},o,l))}),{}),connections:I,connectionsLoading:!k,fetchAll:C,fetchComputeClusters:b,fetchComputeConnections:S,fetchComputeService:h,setupComplete:O}}},42278:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/compute",function(){return t(4910)}])}},function(e){e.O(0,[9774,2678,1154,844,5820,874,9626,8264,7858,5499,5283,3745,3004,2888,179],(function(){return n=42278,e(e.s=n);var n}));var n=e.O();_N_E=n}]);