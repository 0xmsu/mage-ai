(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7803],{28795:function(n,e,t){"use strict";var r;t.d(e,{B:function(){return i},M:function(){return r}}),function(n){n.BACKFILLS="backfills",n.BLOCK_RUNS="block_runs",n.DASHBOARD="dashboard",n.EDIT="edit",n.MONITOR="monitor",n.PIPELINE_LOGS="pipeline_logs",n.PIPELINE_RUNS="pipeline_runs",n.RUNS="runs",n.SETTINGS="settings",n.SYNCS="syncs",n.TRIGGERS="triggers"}(r||(r={}));var i="cancel_all_running_pipeline_runs"},75457:function(n,e,t){"use strict";t.d(e,{Z:function(){return _}});var r=t(82394),i=t(21831),u=t(82684),o=t(34376),c=t(50724),l=t(94629),s=t(15338),a=t(82555),d=t(55485),f=t(85854),p=t(38276),m=t(5332),v=t(9518),h=t(44897),b=t(42631),g=t(70515),j=v.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],b.n_,3*g.iI,(function(n){return"\n    box-shadow: ".concat((n.theme.shadow||h.Z.shadow).small,";\n  ")}),(function(n){return n.background&&"\n    background: ".concat(n.background,";\n  ")}),(function(n){return n.backgroundImage&&'\n    background-image: url("'.concat(n.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),I=t(46684),O=t(85010),Z=t(72619),x=t(19183),P=t(28598);function E(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function N(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function y(n,e){var t=n.after,r=n.afterHidden,v=n.afterWidth,h=n.before,b=n.beforeWidth,E=n.breadcrumbs,y=n.buildSidekick,_=n.children,S=n.errors,T=n.headline,k=n.pageName,A=n.pipeline,M=n.setErrors,L=n.subheader,w=n.subheaderBackground,R=n.subheaderBackgroundImage,C=n.subheaderButton,D=n.subheaderNoPadding,V=n.subheaderText,U=n.title,Y=n.uuid,G=(0,x.i)().height,H=(0,o.useRouter)().query.pipeline,B=null==A?void 0:A.uuid,F=m.ZP.pipelines.detail(B,{includes_outputs:!1},{revalidateOnFocus:!1}).data,K=null==F?void 0:F.pipeline;(0,u.useEffect)((function(){(0,Z.bB)(F,M)}),[F,M]);var z=v||(t||y?50*g.iI:null),W=(0,u.useCallback)((function(n){var e=n.width;return t||(y?y({height:G,heightOffset:I.Mz,pipeline:K,width:e||z}):null)}),[t,z,y,G,K]),q=(0,u.useMemo)((function(){var n=[];return K?(n.push.apply(n,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),E?(n.push({label:function(){return K.uuid},linkProps:{as:"/pipelines/".concat(B,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),n.push.apply(n,(0,i.Z)(E)),n[n.length-1].bold=!0):n.push({bold:!0,label:function(){return K.name}})):null!=F&&F.error&&n.push({bold:!0,danger:!0,label:function(){return"Error loading pipeline"}}),n}),[E,null==F?void 0:F.error,K,B]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(l.Z,{after:t||y?W:null,afterHidden:r,afterWidth:z,before:h,beforeWidth:b,breadcrumbs:q,navigationItems:(0,O.H)(k,K,H),ref:e,subheaderChildren:void 0!==L&&L,subheaderNoPadding:D,title:K?U?U(K):K.name:null,uuid:Y,children:[(C||V)&&(0,P.jsx)(p.Z,{mb:g.Mq,mt:g.cd,mx:g.cd,children:(0,P.jsx)(j,{background:w,backgroundImage:R,children:(0,P.jsxs)(d.ZP,{alignItems:"center",children:[C,V&&(0,P.jsx)(p.Z,{ml:3}),V]})})}),T&&(0,P.jsx)(p.Z,{p:g.cd,children:(0,P.jsxs)(p.Z,{mt:g.cd,px:g.cd,children:[(0,P.jsx)(f.Z,{level:5,children:T}),(0,P.jsx)(s.Z,{light:!0,mt:g.cd,short:!0})]})}),_]}),S&&(0,P.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null==M?void 0:M(null)},children:(0,P.jsx)(a.Z,N(N({},S),{},{onClose:function(){return null==M?void 0:M(null)}}))})]})}var _=u.forwardRef(y)},85010:function(n,e,t){"use strict";t.d(e,{H:function(){return c}});var r=t(57653),i=t(72473),u=t(28795),o=t(50178);function c(n,e,t){var c=(e||{}).uuid||t,l=[{Icon:i.Lightning,id:u.M.TRIGGERS,isSelected:function(){return u.M.TRIGGERS===n},label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(c,"/triggers"),href:"/pipelines/[pipeline]/triggers"}},{Icon:i.Schedule,id:u.M.RUNS,isSelected:function(){return u.M.RUNS===n},label:function(){return"Runs"},linkProps:{as:"/pipelines/".concat(c,"/runs"),href:"/pipelines/[pipeline]/runs"}},{Icon:i.Logs,id:u.M.PIPELINE_LOGS,isSelected:function(){return u.M.PIPELINE_LOGS===n},label:function(){return"Logs"},linkProps:{as:"/pipelines/".concat(c,"/logs"),href:"/pipelines/[pipeline]/logs"}},{Icon:i.Monitor,id:u.M.MONITOR,isSelected:function(){return u.M.MONITOR===n},label:function(){return"Monitor"},linkProps:{as:"/pipelines/".concat(c,"/monitors"),href:"/pipelines/[pipeline]/monitors"}}];return r.qL.PYTHON===(null==e?void 0:e.type)&&l.splice(2,0,{Icon:i.BackfillV2,id:u.M.BACKFILLS,isSelected:function(){return u.M.BACKFILLS===n},label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(c,"/backfills"),href:"/pipelines/[pipeline]/backfills"}}),r.qL.INTEGRATION===(null==e?void 0:e.type)&&l.unshift({Icon:i.PipeIcon,id:u.M.SYNCS,isSelected:function(){return u.M.SYNCS===n},label:function(){return"Syncs"},linkProps:{as:"/pipelines/".concat(c,"/syncs"),href:"/pipelines/[pipeline]/syncs"}}),l.unshift({Icon:i.Code,disabled:!c,id:u.M.EDIT,isSelected:function(){return u.M.EDIT===n},label:function(){return(0,o.Ct)()?"View pipeline":"Edit pipeline"},linkProps:{as:"/pipelines/".concat(c,"/edit"),href:"/pipelines/[pipeline]/edit"}}),l.push({Icon:i.SettingsWithKnobs,id:u.M.SETTINGS,isSelected:function(){return u.M.SETTINGS===n},label:function(){return"Pipeline settings"},linkProps:{as:"/pipelines/".concat(c,"/settings"),href:"/pipelines/[pipeline]/settings"}}),l.unshift({Icon:i.NavDashboard,id:u.M.DASHBOARD,isSelected:function(){return u.M.DASHBOARD===n},label:function(){return"Dashboard"},linkProps:{as:"/pipelines/".concat(c,"/dashboard"),href:"/pipelines/[pipeline]/dashboard"}}),l}},16488:function(n,e,t){"use strict";t.d(e,{IJ:function(){return v},M8:function(){return E},Uc:function(){return I},XM:function(){return P},_U:function(){return m},eI:function(){return j},gU:function(){return Z},lO:function(){return T},ri:function(){return b},tL:function(){return O},vJ:function(){return x},xH:function(){return g}});var r,i=t(82394),u=t(92083),o=t.n(u),c=t(3917),l=t(4383),s=t(30229),a=t(42122),d=t(86735);function f(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function p(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach((function(e){(0,i.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var m=function(n){return!!n&&!Object.values(s.U5).includes(n)};function v(n){return null==n?void 0:n.reduce((function(n,e){var t=e.block_uuid,r=e.completed_at,u=e.started_at,c=e.status,l=null;u&&r&&(l=o()(r).valueOf()-o()(u).valueOf());return p(p({},n),{},(0,i.Z)({},t,{runtime:l,status:c}))}),{})}var h,b=function(n){var e=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:s.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:s.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:s.Xm.API}];return n?e.slice(0,1):e};function g(n){var e=(0,a.gR)(n,[s.gm.INTERVAL,s.gm.TYPE]),t=n[s.gm.INTERVAL];t&&(e["schedule_interval[]"]=encodeURIComponent(t));var r=n[s.gm.TYPE];return r&&(e["schedule_type[]"]=r),e}function j(n){return n?new Date(o()(n).valueOf()):null}function I(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e?(0,c.XG)(n,e,t):function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"!=typeof n)return n;var t=n.split("+")[0];return o()(j(t)).format(e||c.Nx)}(n,t)}!function(n){n.DAY="day",n.HOUR="hour",n.MINUTE="minute",n.SECOND="second"}(h||(h={}));var O=(r={},(0,i.Z)(r,h.DAY,86400),(0,i.Z)(r,h.HOUR,3600),(0,i.Z)(r,h.MINUTE,60),(0,i.Z)(r,h.SECOND,1),r);function Z(n){var e=h.SECOND,t=n;return n%86400==0?(t/=86400,e=h.DAY):n%3600==0?(t/=3600,e=h.HOUR):n%60==0&&(t/=60,e=h.MINUTE),{time:t,unit:e}}function x(n,e){return n*O[e]}function P(n,e,t){var r,i=o()(n);return i.set("hour",+(null==e?void 0:e.hour)||0),i.set("minute",+(null==e?void 0:e.minute)||0),i.set("second",0),r=i.format(c.TD),null!=t&&t.includeSeconds&&(r=r.concat(":00")),null!=t&&t.localTimezone&&(r=i.format(c.lE),null!=t&&t.convertToUtc&&(r=(0,c.d$)(r,{includeSeconds:null==t?void 0:t.includeSeconds,utcFormat:!0}))),r}function E(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t="",r=(0,l.XF)();return e?t="".concat(r,"/api/pipeline_schedules/").concat(null==n?void 0:n.id,"/api_trigger"):(t="".concat(r,"/api/pipeline_schedules/").concat(null==n?void 0:n.id,"/pipeline_runs"),null!=n&&n.token&&(t="".concat(t,"/").concat(n.token))),t}function N(n,e,t){return n.match(/[*,-/]/)?{additionalOffset:0,cronValue:n}:function(n,e,t){var r=t.indexOf(n),i=0;if(e<0)for(var u=0;u>e;u--)0===r?(r=t.length-1,i-=1):r-=1;else if(e>0)for(var o=0;o<e;o++)r===t.length-1?(r=0,i+=1):r+=1;var c="number"==typeof t[r]?t[r]:n;return{additionalOffset:i,cronValue:String(c)}}(+n,e,t)}var y=(0,d.m5)(60),_=(0,d.m5)(24),S=(0,c.Cs)();function T(n,e){if(!n)return n;var t=o()().local().format("Z"),r=t.split(":"),i="-"===t[0],u=3===r[0].length?Number(r[0].slice(1)):Number(r[0]),c=Number(r[1]);(i&&!e||!i&&e)&&(u=-u,c=-c);var l=n.split(" "),s=l[0],a=l[1],d=l[2],f=N(s,c,y),p=N(a,u+f.additionalOffset,_);if(l[0]=f.cronValue,l[1]=p.cronValue,0!==(null==p?void 0:p.additionalOffset)){var m=N(d,p.additionalOffset,S);l[2]=m.cronValue}return l.join(" ")}},72098:function(n,e,t){"use strict";var r;t.d(e,{U:function(){return r}}),function(n){n.PYSPARK="pysparkkernel",n.PYTHON3="python3"}(r||(r={}))},44265:function(n,e,t){"use strict";t.d(e,{Az:function(){return d},BF:function(){return a},Do:function(){return p},IK:function(){return l},P0:function(){return i},VO:function(){return o},hn:function(){return s},sZ:function(){return f}});var r,i,u=t(82394),o=t(41143).V,c="last_run_failed",l=[o.FAILED,c,o.COMPLETED,o.RUNNING,o.CANCELLED,o.INITIAL],s=[o.FAILED,o.COMPLETED,o.RUNNING,o.CANCELLED,o.INITIAL],a=[o.INITIAL,o.RUNNING],d=[o.CANCELLED,o.COMPLETED,o.FAILED],f="__mage_variables",p=(r={},(0,u.Z)(r,c,"Last run failed"),(0,u.Z)(r,o.CANCELLED,"Cancelled"),(0,u.Z)(r,o.COMPLETED,"Done"),(0,u.Z)(r,o.FAILED,"Failed"),(0,u.Z)(r,o.INITIAL,"Ready"),(0,u.Z)(r,o.RUNNING,"Running"),r);!function(n){n.PIPELINE_UUID="pipeline_uuid[]",n.STATUS="status[]",n.TAG="pipeline_tag[]"}(i||(i={}))},30229:function(n,e,t){"use strict";t.d(e,{PN:function(){return c},TR:function(){return m},U5:function(){return s},Wb:function(){return p},Xm:function(){return u},Z4:function(){return a},fq:function(){return l},gm:function(){return d},kJ:function(){return f}});var r,i,u,o=t(82394),c="__bookmark_values__";!function(n){n.API="api",n.EVENT="event",n.TIME="time"}(u||(u={}));var l,s,a=(r={},(0,o.Z)(r,u.API,(function(){return"API"})),(0,o.Z)(r,u.EVENT,(function(){return"event"})),(0,o.Z)(r,u.TIME,(function(){return"schedule"})),r);!function(n){n.ACTIVE="active",n.INACTIVE="inactive"}(l||(l={})),function(n){n.ONCE="@once",n.HOURLY="@hourly",n.DAILY="@daily",n.WEEKLY="@weekly",n.MONTHLY="@monthly",n.ALWAYS_ON="@always_on"}(s||(s={}));var d,f,p=[s.ONCE,s.HOURLY,s.DAILY,s.WEEKLY,s.MONTHLY];!function(n){n.INTERVAL="frequency[]",n.STATUS="status[]",n.TAG="tag[]",n.TYPE="type[]"}(d||(d={})),function(n){n.CREATED_AT="created_at",n.NAME="name",n.PIPELINE="pipeline_uuid",n.STATUS="status",n.TYPE="schedule_type"}(f||(f={}));var m=(i={},(0,o.Z)(i,f.CREATED_AT,"Created at"),(0,o.Z)(i,f.NAME,"Name"),(0,o.Z)(i,f.PIPELINE,"Pipeline"),(0,o.Z)(i,f.STATUS,"Active"),(0,o.Z)(i,f.TYPE,"Type"),i)},57653:function(n,e,t){"use strict";t.d(e,{$1:function(){return h},G7:function(){return I},LM:function(){return O},Mj:function(){return Z},QK:function(){return v},RH:function(){return j},a_:function(){return P},ad:function(){return g},fj:function(){return E},kA:function(){return x},pF:function(){return l},qL:function(){return c},r0:function(){return b}});var r,i,u,o,c,l,s=t(75582),a=t(82394),d=t(72473),f=t(72098);function p(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function m(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){(0,a.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}!function(n){n.INTEGRATION="integration",n.PYTHON="python",n.PYSPARK="pyspark",n.STREAMING="streaming"}(c||(c={})),function(n){n.SKIP="skip",n.WAIT="wait"}(l||(l={}));var v,h,b,g="invalid",j=(r={},(0,a.Z)(r,c.INTEGRATION,"Integration"),(0,a.Z)(r,c.PYTHON,"Python"),(0,a.Z)(r,c.PYSPARK,"PySpark"),(0,a.Z)(r,c.STREAMING,"Streaming"),r),I=(i={},(0,a.Z)(i,c.INTEGRATION,"Integration"),(0,a.Z)(i,c.PYTHON,"Standard"),(0,a.Z)(i,c.PYSPARK,"PySpark"),(0,a.Z)(i,c.STREAMING,"Streaming"),i),O="all",Z=(c.PYTHON,c.INTEGRATION,c.STREAMING,u={},(0,a.Z)(u,O,d.HexagonAll),(0,a.Z)(u,c.INTEGRATION,d.IntegrationPipeline),(0,a.Z)(u,c.PYTHON,d.BatchPipeline),(0,a.Z)(u,c.STREAMING,d.StreamingPipeline),u);!function(n){n.ACTIVE="active",n.INACTIVE="inactive",n.NO_SCHEDULES="no_schedules",n.RETRY="retry",n.RETRY_INCOMPLETE_BLOCK_RUNS="retry_incomplete_block_runs"}(v||(v={})),function(n){n.GROUP="group_by",n.HISTORY_DAYS="from_history_days",n.NO_TAGS="no_tags",n.SEARCH="search",n.STATUS="status[]",n.TAG="tag[]",n.TYPE="type[]"}(h||(h={})),function(n){n.STATUS="status",n.TAG="tag",n.TYPE="type"}(b||(b={}));var x=[v.ACTIVE,v.INACTIVE,v.NO_SCHEDULES],P=(o={},(0,a.Z)(o,c.PYTHON,f.U.PYTHON3),(0,a.Z)(o,c.PYSPARK,f.U.PYSPARK),o),E=Object.entries(P).reduce((function(n,e){var t=(0,s.Z)(e,2),r=t[0],i=t[1];return m(m({},n),{},(0,a.Z)({},i,r))}),{})},25050:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return sn}});var r=t(77837),i=t(38860),u=t.n(i),o=t(82684),c=t(75457),l=t(93808),s=t(75582),a=t(82394),d=t(97618),f=t(55485),p=t(85854),m=t(44265),v=t(38276),h=t(4190),b=t(30160),g=t(44897),j=t(9518),I=t(42631),O=t(95363),Z=t(70515),x=t(61896),P=j.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-15svh8z-0"})(["border-radius:","px;margin:","px;overflow:hidden;"," "," "," "," "," "," &:hover{"," "," "," "," ","}"],I.n_,Z.cd*Z.iI,(function(n){return"\n    background-color: ".concat((n.theme.background||g.Z.background).panel,";\n    border: 1px solid ").concat((n.theme.borders||g.Z.borders).dark,";\n\n    &:hover {\n      cursor: pointer;\n    }\n  ")}),(function(n){return n.selected&&n.danger&&"\n    border-color: ".concat((n.theme.accent||g.Z.accent).negative,";\n  ")}),(function(n){return n.selected&&n.primary&&"\n    border-color: ".concat((n.theme.interactive||g.Z.interactive).linkPrimary,";\n  ")}),(function(n){return n.selected&&n.default&&"\n    border-color: ".concat((n.theme.interactive||g.Z.interactive).focusBackground,";\n  ")}),(function(n){return n.selected&&n.success&&"\n    border-color: ".concat((n.theme.background||g.Z.background).success,";\n  ")}),(function(n){return n.selected&&n.warning&&"\n    border-color: ".concat((n.theme.accent||g.Z.accent).warning,";\n  ")}),(function(n){return n.danger&&"\n      border-color: ".concat((n.theme.accent||g.Z.accent).negative,";\n    ")}),(function(n){return n.primary&&"\n      border-color: ".concat((n.theme.interactive||g.Z.interactive).linkPrimary,";\n    ")}),(function(n){return n.default&&"\n      border-color: ".concat((n.theme.interactive||g.Z.interactive).focusBackground,";\n    ")}),(function(n){return n.success&&"\n      border-color: ".concat((n.theme.background||g.Z.background).success,";\n    ")}),(function(n){return n.warning&&"\n      border-color: ".concat((n.theme.accent||g.Z.accent).warning,";\n    ")})),E=(0,j.css)([""," "," "," "," ",""],(function(n){return n.danger&&"\n    background-color: ".concat((n.theme.accent||g.Z.accent).negative,";\n  ")}),(function(n){return n.primary&&"\n    background-color: ".concat((n.theme.interactive||g.Z.interactive).linkPrimary,";\n  ")}),(function(n){return n.default&&"\n    background-color: ".concat((n.theme.interactive||g.Z.interactive).defaultBackground,";\n  ")}),(function(n){return n.success&&"\n    background-color: ".concat((n.theme.background||g.Z.background).success,";\n  ")}),(function(n){return n.warning&&"\n    background-color: ".concat((n.theme.accent||g.Z.accent).warning,";\n  ")})),N=j.default.div.withConfig({displayName:"indexstyle__StatusStyle",componentId:"sc-15svh8z-1"})([""," ",";border-radius:","px;display:inline-block;font-family:",";padding:6px;"," "," "," "," "," ",""],E,x.iD,I.D7,O.ry,(function(n){return n.danger&&"\n    color: ".concat((n.theme.content||g.Z.content).active,";\n  ")}),(function(n){return n.primary&&"\n    color: ".concat((n.theme.content||g.Z.content).active,";\n  ")}),(function(n){return(n.default||n.success)&&"\n  "}),(function(n){return n.default&&"\n    color: ".concat((n.theme.content||g.Z.content).default,";\n  ")}),(function(n){return n.success&&"\n    color: ".concat((n.theme.content||g.Z.content).inverted,";\n  ")}),(function(n){return n.warning&&"\n    color: ".concat((n.theme.content||g.Z.content).inverted,";\n  ")})),y=j.default.div.withConfig({displayName:"indexstyle__BarStyle",componentId:"sc-15svh8z-2"})([""," display:flex;height:auto;width:3px;",""],E,(function(n){return n.default&&"\n    background-color: ".concat((n.theme.interactive||g.Z.interactive).focusBackground,";\n  ")})),_=t(72473),S=t(16488),T=t(92083),k=t.n(T),A=t(41143),M=t(81728),L=t(86735);function w(n){var e;return Object.keys((null==n||null===(e=n.metrics)||void 0===e?void 0:e.blocks)||{}).sort()}function R(n){var e,t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=null,u=null,o=null,c=null,l={},a=(null==n?void 0:n.block_runs)||[],d=(null==n||null===(e=n.metrics)||void 0===e?void 0:e.blocks)||{},f=(null==n||null===(t=n.metrics)||void 0===t?void 0:t.pipeline)||{},p=C(n);return Object.entries(d).forEach((function(n){var e,t=(0,s.Z)(n,2),a=t[0],d=t[1];if(!r||r===a){var m,v=d||{},h=v.destinations,b=void 0===h?{records_affected:null,records_inserted:null,records_updated:null}:h,g=v.sources,j=void 0===g?{records:null}:g,I=p[a]||[];if(r&&r===a&&I.every((function(n){var e=n.status;return A.V.COMPLETED===e}))&&null===i&&(i=0),null!=f&&null!==(e=f[a])&&void 0!==e&&e.record_counts)null===i&&(i=0),i+=Number(null==f||null===(m=f[a])||void 0===m?void 0:m.record_counts);else null!=j&&j.records&&(null===i&&(i=0),i+=Number(j.records));null!=b&&b.records_updated?(null===o&&(o=0),o+=Number(b.records_updated),null===c&&(c=0),c+=Number(b.records_updated)):null!=b&&b.records_inserted?(null===o&&(o=0),o+=Number(b.records_inserted),null===u&&(u=0),u+=Number(b.records_inserted)):null!=b&&b.records_affected&&(null===o&&(o=0),o+=Number(b.records_affected)),["destinations","sources"].forEach((function(n){var e=d[n]||{};null!=e&&e.error&&(l[a]||(l[a]={}),l[a][n]={error:null==e?void 0:e.error,errors:null==e?void 0:e.errors,message:null==e?void 0:e.message})}))}})),null==a||a.forEach((function(n){var e=n.block_uuid,t=n.metrics,r=n.status;if(A.V.FAILED===r&&null!=t&&t.error&&e){var i=e.split(":"),u=(0,s.Z)(i,3),o=(u[0],u[1]);u[2];l[o]||(l[o]={}),l[o][""]=t.error}})),{errors:l,records:i,recordsInserted:u,recordsProcessed:o,recordsUpdated:c}}function C(n){var e=n.block_runs,t={};return null==e||e.forEach((function(n){var e=n.block_uuid.split(":"),r=(0,s.Z)(e,3),i=(r[0],r[1]);r[2];t[i]||(t[i]=[]),t[i].push(n)})),t}function D(n){var e=C(n),t={};return Object.entries(e).forEach((function(n){var e=(0,s.Z)(n,2),r=e[0],i=e[1],u=i.filter((function(n){var e=n.status;return A.V.COMPLETED===e})),o=u.map((function(n){var e=n.completed_at,t=n.started_at,r=k().utc(e),i=k().utc(t);return r.diff(i,"second")})),c=u.length,l=i.length;t[r]={completed:c,runtime:o.length>=1?(0,L.Sm)(o)/o.length:null,total:l}})),t}function V(n){var e=n.block_runs,t=(null==e?void 0:e.length)||1,r=function(n){var e=(null==n?void 0:n.block_runs)||[];return null==e?void 0:e.filter((function(n){var e=n.status;return A.V.COMPLETED===e}))}(n).length||0;return r/t}function U(n){var e=n.completed_at,t=n.block_runs,r=void 0===t?[]:t,i=n.status;if(null==r||!r.length)return 0;var u=k().utc();if(e)u=k().utc(e);else if([m.VO.CANCELLED,m.VO.FAILED].includes(i)){var o=(0,L.YC)(r,(function(n){return n.started_at}),{ascending:!1})[0];u=k().utc(o.updated_at)}var c=k().utc(n.created_at);return u.diff(c,"second")}function Y(n,e){var t,r,i,u,o,c=C(n),l=D(n),s=(null==n?void 0:n.metrics)||{blocks:null,pipeline:null},a=s.blocks||{},d=s.pipeline||{},f=(a[e],d[e],l[e]||{completed:null,total:null}),p=f.completed,m=f.total,v=p&&m?p/m:0,h=c[e]||[],b=h.every((function(n){var e=n.status;return A.V.COMPLETED===e})),g=(0,L.YC)(h,(function(n){return n.updated_at}),{ascending:!1})[0],j=null===(t=(0,L.YC)(h,(function(n){return n.started_at}),{ascending:!0})[0])||void 0===t?void 0:t.started_at;b?r=null===(o=(0,L.YC)(h,(function(n){return n.completed_at}),{ascending:!1})[0])||void 0===o?void 0:o.completed_at:g&&(u=null==g?void 0:g.updated_at);var I=b?k().utc(r||u):k().utc(),O=k().utc(j);return{completed:p,completedAt:r,done:b,progress:v,runtime:i=I.diff(O,"second"),startedAt:j,status:null==g?void 0:g.status,timeText:(0,M.zf)(i),total:m,updatedAt:u}}var G=t(70320),H=t(28598);function B(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function F(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?B(Object(t),!0).forEach((function(e){(0,a.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var K=function(n){var e=n.onSelect,t=n.pipelineRun,r=n.selected,i=t.created_at,u=t.status,c=(0,o.useMemo)((function(){return(null==t?void 0:t.metrics)||{blocks:{},destination:null,pipeline:{},source:null}}),[t]),l=(0,o.useMemo)((function(){return c.pipeline||{}}),[c]),a=(0,G.qB)(),j=c.destination,I=c.source,O=(0,o.useMemo)((function(){return Object.keys(l).length}),[l]),x=(0,o.useMemo)((function(){return R(t)}),[t]),E=x.errors,T=x.records,k=x.recordsProcessed,A=(0,o.useMemo)((function(){return V(t)}),[t]),L=(0,o.useMemo)((function(){return[m.VO.COMPLETED].includes(u)}),[u]),w=(0,o.useMemo)((function(){return{danger:m.VO.FAILED===u,default:m.VO.INITIAL===u,primary:m.VO.RUNNING===u,success:L,warning:m.VO.CANCELLED===u}}),[L,u]),C=(0,o.useMemo)((function(){if(t){var n=U(t);return(0,M.zf)(n)}}),[t]);return(0,H.jsx)(P,F(F({},w),{},{onClick:function(){return e(r?null:t.id)},selected:r,children:(0,H.jsxs)(f.ZP,{fullHeight:!0,justifyContent:"space-between",children:[(0,H.jsx)(y,F({},w)),(0,H.jsx)(d.Z,{flex:1,flexDirection:"column",children:(0,H.jsxs)(v.Z,{ml:3,py:3,children:[(0,H.jsx)(p.Z,{bold:!0,level:5,monospace:!0,children:(0,S.Uc)(i,a)}),(0,H.jsx)(v.Z,{fullWidth:!1,mt:2,children:(0,H.jsx)(N,F(F({},w),{},{children:(0,H.jsxs)(f.ZP,{alignItems:"center",children:[L&&(0,H.jsx)(_.Check,{inverted:!0,size:2*Z.iI}),[m.VO.INITIAL,m.VO.RUNNING].includes(u)&&(0,H.jsx)(h.Z,{color:m.VO.INITIAL!==u?g.Z.monotone.white:null,inverted:m.VO.INITIAL===u,small:!0})," ",m.VO.RUNNING===u&&(0,H.jsxs)(H.Fragment,{children:[" ",Math.round(100*A),"%"]}),![m.VO.INITIAL,m.VO.RUNNING].includes(u)&&m.Do[u],m.VO.INITIAL===u&&"Starting"]})}))}),Object.values(E).length>=1&&(0,H.jsx)(v.Z,{mt:1,children:Object.entries(E).map((function(n){var e=(0,s.Z)(n,2),t=e[0];e[1];return(0,H.jsxs)(b.ZP,{monospace:!0,muted:!0,small:!0,children:[t," stream failed"]},t)}))})]})}),(0,H.jsxs)(d.Z,{flex:1,children:[(0,H.jsx)(d.Z,{flex:1,flexDirection:"column",children:(0,H.jsxs)(v.Z,{ml:3,py:3,children:[(0,H.jsxs)(v.Z,{mb:1,children:[(0,H.jsx)(b.ZP,{bold:!0,muted:!0,small:!0,children:"Rows processed"}),(0,H.jsx)(b.ZP,{monospace:!0,children:k>=1?(0,M.x6)(k):"-"})]}),(0,H.jsxs)(v.Z,{mb:1,children:[(0,H.jsx)(b.ZP,{bold:!0,muted:!0,small:!0,children:"Rows remaining"}),(0,H.jsx)(b.ZP,{monospace:!0,children:T>=1&&T>=k?(0,M.x6)(T-k):"-"})]}),m.VO.RUNNING!==u&&(0,H.jsxs)(v.Z,{mb:1,children:[(0,H.jsx)(b.ZP,{bold:!0,muted:!0,small:!0,children:"Runtime"}),(0,H.jsx)(b.ZP,{monospace:!0,children:C})]})]})}),(0,H.jsx)(d.Z,{flex:1,flexDirection:"column",children:(0,H.jsxs)(v.Z,{ml:3,py:3,children:[(0,H.jsxs)(v.Z,{mb:1,children:[(0,H.jsx)(b.ZP,{bold:!0,muted:!0,small:!0,children:"Source"}),(0,H.jsx)(b.ZP,{monospace:!0,children:I||"-"})]}),(0,H.jsxs)(v.Z,{mb:1,children:[(0,H.jsx)(b.ZP,{bold:!0,muted:!0,small:!0,children:"Destination"}),(0,H.jsx)(b.ZP,{monospace:!0,children:j||"-"})]}),(0,H.jsxs)(v.Z,{mb:1,children:[(0,H.jsx)(b.ZP,{bold:!0,muted:!0,small:!0,children:"Streams"}),(0,H.jsx)(b.ZP,{monospace:!0,children:O>=1?(0,M.x6)(O):"-"})]})]})})]})]})}))},z=t(89565),W=t.n(z),q=t(34376),X=t(71180),J=t(48670),$=t(75499),Q=j.default.div.withConfig({displayName:"indexstyle__BarStyle",componentId:"sc-1thr560-0"})(["display:flex;flex:1;"," "," ",""],(function(n){return n.even&&n.fill&&"\n    background-color: ".concat((n.theme.accent||g.Z.accent).cyan,";\n  ")}),(function(n){return n.even&&!n.fill&&"\n    background-color: ".concat((n.theme.accent||g.Z.accent).cyanTransparent,";\n  ")}),(function(n){return"\n    height: ".concat((n.small?1:2)*Z.iI,"px;\n  ")})),nn=t(95924),en=t(3917);var tn=function(n){var e=n.onClickRow,t=n.pipelineRun,r=n.selectedStream,i=(0,q.useRouter)(),u=(0,G.qB)(),c=(0,o.useState)(null),l=c[0],a=c[1],d=(0,o.useState)(null),h=d[0],g=d[1],j=(0,o.useMemo)((function(){return t?C(t):{}}),[t]),I=(0,o.useMemo)((function(){return t?D(t):{}}),[t]),O=(0,o.useMemo)((function(){var n=0,e=[],t=[];if(Object.entries(I).forEach((function(r){var i=(0,s.Z)(r,2),u=(i[0],i[1]),o=u.completed,c=u.runtime,l=u.total;null===c?t.push(u):(e.push(c),n+=c*(l-o))})),0===e.length)return null;var r=(0,L.Sm)(e)/e.length;return t.forEach((function(e){var t=e.completed,i=e.total;n+=r*(i-t)})),n}),[I]),x=(0,o.useMemo)((function(){return r?I[r]:null}),[I,r]),P=(0,o.useMemo)((function(){if(r&&I){var n=I[r]||{},e=n.completed,i=n.total;if(i>=1)return e/i}else if(t)return V(t);return 0}),[I,t,r]),E=(0,o.useMemo)((function(){return(0,H.jsx)(f.ZP,{children:(0,L.w6)(101).map((function(n,e){return(0,H.jsx)(Q,{even:e%2==0,fill:P>0&&Math.round(100*P)>=e},e)}))})}),[P]),N=(0,o.useMemo)((function(){if(r){var n=j[r]||[],e=n.every((function(n){var e=n.status;return A.V.COMPLETED===e})),i=(0,L.YC)(n,(function(n){return n.updated_at}),{ascending:!1})[0],u=null==i?void 0:i.status,o=x||{},c=o.completed,l=o.runtime,s=o.total;if(e)return"Sync complete for ".concat(r);if([A.V.CANCELLED,A.V.FAILED].includes(u))return m.Do[u];if(l&&s>=1){var a=Math.ceil(l*(s-c)/60);return"".concat((0,M._6)("minute",a,!0)," to completion")}return"Estimating time remaining for stream..."}if(m.VO.COMPLETED===(null==t?void 0:t.status))return"Sync complete";if(t){if([m.VO.CANCELLED,m.VO.FAILED].includes(null==t?void 0:t.status))return m.Do[null==t?void 0:t.status];if(m.VO.INITIAL===(null==t?void 0:t.status))return"Initializing sync (this can take several minutes)";if(null===O)return"Estimating time remaining...";var d=Math.ceil(O/60);return"".concat((0,M._6)("minute",d,!0)," to completion")}return"Select a sync"}),[j,O,x,t,r]),y=(0,o.useMemo)((function(){return t&&r?Y(t,r):{completed:null,completedAt:null,done:null,progress:null,runtime:null,startedAt:null,status:null,timeText:null,total:null,updatedAt:null}}),[t,r]);(0,o.useEffect)((function(){var n;if(t){var e=U(t);a(e),n=setInterval((function(){return a((function(n){return n+1}))}),1e3)}return function(){return clearInterval(n)}}),[t]),(0,o.useEffect)((function(){var n;if(t&&r&&y){var e=(null==y?void 0:y.runtime)||0;g(e),n=setInterval((function(){return g((function(n){return n+1}))}),1e3)}return function(){return clearInterval(n)}}),[t,r,y]);var T=(0,o.useMemo)((function(){if(t){if(r)return null==y?void 0:y.timeText;var n=U(t);return(0,M.zf)(n)}}),[t,r,y]),k=(0,o.useMemo)((function(){var n=Math.floor(l%86400/3600),e=Math.floor(l%3600/60),t=Math.floor(l%60/1);return[n>=10?String(n):"0".concat(n),e>=10?String(e):"0".concat(e),t>=10?String(t):"0".concat(t)].join(":")}),[l]),B=(0,o.useMemo)((function(){var n=Math.floor(h%86400/3600),e=Math.floor(h%3600/60),t=Math.floor(h%60/1);return[n>=10?String(n):"0".concat(n),e>=10?String(e):"0".concat(e),t>=10?String(t):"0".concat(t)].join(":")}),[h]),F=(0,o.useMemo)((function(){return t?R(t):{errors:null,records:null,recordsInserted:null,recordsProcessed:null,recordsUpdated:null}}),[t]),K=F.errors,z=F.records,tn=F.recordsInserted,rn=F.recordsProcessed,un=F.recordsUpdated,on=(0,o.useMemo)((function(){return t&&r?R(t,r):{errors:null,records:null,recordsInserted:null,recordsProcessed:null,recordsUpdated:null}}),[t,r]),cn=(0,o.useMemo)((function(){var n=r?null==on?void 0:on.records:z,e=r?null==on?void 0:on.recordsInserted:tn,t=r?null==on?void 0:on.recordsProcessed:rn,i=r?null==on?void 0:on.recordsUpdated:un,u=[{label:"Rows fetched",value:null===n?"-":(0,M.x6)(n)}];return null===e&&null===i?u.push({label:"Rows processed",value:null===t?"-":(0,M.x6)(t)}):null!==e?u.push({label:"Rows inserted",value:(0,M.x6)(e)}):null!==i&&u.push({label:"Rows updated",value:(0,M.x6)(i)}),u.map((function(n){var e=n.label,t=n.value;return(0,H.jsxs)("div",{children:[(0,H.jsx)(b.ZP,{bold:!0,large:!0,muted:!0,children:e}),(0,H.jsx)(b.ZP,{headline:!0,children:t})]},e)}))}),[z,on,tn,rn,un,r]),ln=(0,o.useMemo)((function(){if(!t)return(0,H.jsx)("div",{});var n=w(t);return(0,H.jsx)($.Z,{columnFlex:[null,null,null,null,null,null],columns:[{uuid:"Stream"},{uuid:"Start"},{uuid:"End"},{uuid:"Time"},{uuid:"Progress"},{uuid:"Logs"}],isSelectedRow:function(e){return r&&r===n[e]},onClickRow:e,rows:n.map((function(n){var e=Y(t,n),r=(e.completed,e.completedAt),o=e.done,c=e.progress,l=e.startedAt,s=e.status,a=e.timeText,d=(e.total,!!K[n]);return[(0,H.jsx)(b.ZP,{danger:d,default:!d,monospace:!0,children:n},"stream"),(0,H.jsx)(b.ZP,{default:!0,monospace:!0,title:l?(0,en._6)(l):null,children:l?(0,S.Uc)(l,u):(0,H.jsx)(H.Fragment,{children:"—"})},"started_at"),(0,H.jsx)(b.ZP,{default:!0,monospace:!0,title:r?(0,en._6)(r):null,children:r?(0,S.Uc)(r,u):(0,H.jsx)(H.Fragment,{children:"—"})},"completed_at"),(0,H.jsx)(b.ZP,{default:!0,children:[A.V.INITIAL,A.V.RUNNING].includes(s)?"-":a},"runtime"),(0,H.jsxs)("div",{children:[o&&(0,H.jsx)(_.Check,{default:!0,size:2*Z.iI}),!o&&(0,H.jsx)(f.ZP,{children:(0,L.w6)(51).map((function(n,e){return(0,H.jsx)(Q,{even:e%2==0,fill:c>0&&Math.round(50*c)>=e,small:!0},e)}))})]},"progress"),(0,H.jsx)(X.ZP,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(n){i.push("/pipelines/".concat(t.pipeline_uuid,"/logs?pipeline_run_id[]=").concat(t.id)),(0,nn.j)(n)},children:(0,H.jsx)(_.Logs,{default:!0,size:2*Z.iI})},"logs")]})),uuid:"".concat(null==t?void 0:t.id,"-streams-table")})}),[u,K,e,t,i,r]),sn=(0,o.useMemo)((function(){var n,e,i,u,o,c,l,a;if(t&&r){var d=(null==t?void 0:t.metrics)||{blocks:null,destination:null,pipeline:null,source:null},f=null==d||null===(n=d.pipeline)||void 0===n||null===(e=n[r])||void 0===e||null===(i=e.bookmarks)||void 0===i?void 0:i[r],p=null==d||null===(u=d.blocks)||void 0===u||null===(o=u[r])||void 0===o||null===(c=o.destinations)||void 0===c||null===(l=c.state)||void 0===l||null===(a=l.bookmarks)||void 0===a?void 0:a[r];if(f||p){var m=Array.from(new Set(Object.keys(f||{}).concat(Object.keys(p||{})))).sort(),v=[];m.forEach((function(n){var e=[(0,H.jsx)(b.ZP,{bold:!0,monospace:!0,muted:!0,small:!0,children:n},n)];[f,p].forEach((function(t,r){t&&e.push((0,H.jsx)(b.ZP,{monospace:!0,small:!0,children:t[n]},"".concat(n,"-").concat(r)))})),v.push(e)}));var h=[{label:function(){return""},uuid:"column"}];return[[null==d?void 0:d.source,"source",f],[null==d?void 0:d.destination,"destination",p]].forEach((function(n){var e=(0,s.Z)(n,3),t=e[0],r=e[1];e[2]&&h.push({uuid:"".concat(t," (").concat(r,")")})})),(0,H.jsx)($.Z,{columnFlex:[null,1,1],columns:h,rows:v,uuid:"".concat(r,"-bookmark-table")})}}}),[t,r]),an=(0,o.useMemo)((function(){var n,e,i,u,o,c;if(t&&r){var l=(null==t?void 0:t.metrics)||{blocks:null,destination:null,pipeline:null,source:null},a=null==l||null===(n=l.blocks)||void 0===n||null===(e=n[r])||void 0===e||null===(i=e.sources)||void 0===i?void 0:i.record,d=null==l||null===(u=l.blocks)||void 0===u||null===(o=u[r])||void 0===o||null===(c=o.destinations)||void 0===c?void 0:c.record;if(a||d){var f=Object.keys(d||a||{}).sort(),p=[];f.forEach((function(n){var e=[(0,H.jsx)(b.ZP,{bold:!0,monospace:!0,muted:!0,small:!0,children:n},n)];[a,d].forEach((function(t,r){if(t){var i=t[n],u="object"==typeof i;e.push((0,H.jsxs)(b.ZP,{monospace:!0,small:!0,textOverflow:!0,whiteSpaceNormal:!0,wordBreak:!0,children:[u&&(0,H.jsx)("pre",{children:JSON.stringify(i,null,2)}),!u&&i]},"".concat(n,"-").concat(r)))}})),p.push(e)}));var m=[{label:function(){return""},uuid:"column"}];return[[null==l?void 0:l.source,"source",a],[null==l?void 0:l.destination,"destination",d]].forEach((function(n){var e=(0,s.Z)(n,3),t=e[0],r=e[1];e[2]&&m.push({uuid:"".concat(t," (").concat(r,")")})})),(0,H.jsx)($.Z,{columnFlex:[null,1,1],columns:m,rows:p.map((function(n){return n.map((function(n){return(0,H.jsx)(b.ZP,{default:!0,monospace:!0,children:n},n)}))})),uuid:"".concat(r,"-bookmark-table")})}}}),[t,r]),dn=(0,o.useMemo)((function(){var n,e,i,u,o,c,l=null==t||null===(n=t.metrics)||void 0===n||null===(e=n.blocks)||void 0===e?void 0:e[r];return(null==l||null===(i=l.sources)||void 0===i||null===(u=i.block_tags)||void 0===u?void 0:u.destination_table)||(null==l||null===(o=l.destinations)||void 0===o||null===(c=o.block_tags)||void 0===c?void 0:c.destination_table)}),[t,r]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(v.Z,{p:3,children:[r&&(0,H.jsx)(v.Z,{mb:3,children:(0,H.jsxs)(f.ZP,{alignItems:"center",children:[(0,H.jsx)(J.Z,{block:!0,onClick:function(){return i.push("/pipelines/".concat(t.pipeline_uuid,"/syncs?pipeline_run_id=").concat(t.id))},preventDefault:!0,children:(0,H.jsxs)(f.ZP,{alignItems:"center",children:[(0,H.jsx)(_.ArrowLeft,{default:!0,size:1.5*Z.iI}),(0,H.jsx)(v.Z,{mr:1}),(0,H.jsx)(b.ZP,{default:!0,children:"Syncs"})]})}),(0,H.jsx)(v.Z,{mx:1,children:(0,H.jsx)(b.ZP,{default:!0,monospace:!0,children:"/"})}),(0,H.jsx)(b.ZP,{bold:!0,monospace:!0,children:r})]})}),(0,H.jsxs)(f.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,H.jsx)(v.Z,{mr:2,my:1,children:(0,H.jsx)(p.Z,{level:5,muted:!t,children:N})}),t&&(0,H.jsx)(X.ZP,{onClick:function(){return i.push("/pipelines/".concat(t.pipeline_uuid,"/logs?pipeline_run_id[]=").concat(t.id))},small:!0,children:"Logs"})]}),(0,H.jsx)(v.Z,{mt:2,children:E}),t&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(v.Z,{mt:3,children:(0,H.jsxs)(f.ZP,{justifyContent:"space-between",children:[(0,H.jsxs)("div",{children:[(0,H.jsx)(b.ZP,{bold:!0,large:!0,muted:!0,children:"Runtime"}),(0,H.jsxs)(b.ZP,{headline:!0,children:[r&&[A.V.INITIAL,A.V.RUNNING].includes(null==y?void 0:y.status)&&B,r&&![A.V.INITIAL,A.V.RUNNING].includes(null==y?void 0:y.status)&&(null==y?void 0:y.timeText),!r&&[m.VO.INITIAL,m.VO.RUNNING].includes(null==t?void 0:t.status)&&k,!r&&![m.VO.INITIAL,m.VO.RUNNING].includes(null==t?void 0:t.status)&&T]})]}),cn]})}),Object.values(K).length>=1&&(0,H.jsxs)(v.Z,{mt:3,children:[(0,H.jsx)(p.Z,{level:5,muted:!0,children:"Errors"}),Object.entries(K).map((function(n,e){var t=(0,s.Z)(n,2),i=t[0],u=t[1];return(!r||r===i)&&(0,H.jsx)(v.Z,{mt:e>=1?1:0,children:Object.entries(u).map((function(n){var e=(0,s.Z)(n,2),t=e[0],r=e[1],u=r.error,o=r.errors,c=r.message,l=Array.isArray(u)?u.join(" "):u;return(0,H.jsxs)("div",{children:[(0,H.jsx)(v.Z,{mb:c||(null==o?void 0:o.length)>=1?2:0,children:(0,H.jsxs)(b.ZP,{monospace:!0,preWrap:!0,textOverflow:!0,children:[i,!!t&&(0,H.jsxs)(b.ZP,{inline:!0,monospace:!0,muted:!0,children:[" (",t,")"]}),": ",(0,H.jsx)(b.ZP,{default:!0,inline:!0,monospace:!0,children:l&&(0,H.jsx)(W(),{children:l})})]})}),(0,H.jsx)(b.ZP,{default:!0,monospace:!0,preWrap:!0,small:!0,children:c}),o.map((function(n){return(0,H.jsx)(b.ZP,{default:!0,monospace:!0,preWrap:!0,small:!0,children:n},n)}))]},"".concat(i,"-").concat(t))}))},i)}))]})]})]}),t&&!r&&(0,H.jsx)(v.Z,{my:3,children:ln}),t&&r&&(0,H.jsxs)(H.Fragment,{children:[dn&&(0,H.jsx)(v.Z,{my:3,children:(0,H.jsxs)(v.Z,{px:3,children:[(0,H.jsx)(p.Z,{level:5,children:"Table name"}),(0,H.jsx)(v.Z,{mt:1,children:(0,H.jsx)(b.ZP,{default:!0,monospace:!0,children:dn})})]})}),sn&&(0,H.jsxs)(v.Z,{my:3,children:[(0,H.jsx)(v.Z,{px:3,children:(0,H.jsx)(p.Z,{level:5,children:"Bookmarks"})}),(0,H.jsx)(v.Z,{px:1,children:sn})]}),an&&(0,H.jsxs)(v.Z,{my:3,children:[(0,H.jsx)(v.Z,{px:3,children:(0,H.jsx)(p.Z,{level:5,children:"Sample row"})}),(0,H.jsx)(v.Z,{px:1,children:an})]})]})]})},rn=t(5332),un=t(28795),on=t(15610),cn=t(69419);function ln(n){var e=n.pipeline,t=e.uuid,r=rn.ZP.pipeline_runs.list({_limit:20,_offset:0,pipeline_uuid:t},{refreshInterval:5e3}).data,i=(0,o.useMemo)((function(){return(null==r?void 0:r.pipeline_runs)||[]}),[r]),u=(0,cn.iV)(),l=(0,o.useState)(null),s=l[0],a=l[1],d=(0,o.useState)(null),f=d[0],p=d[1],m=(0,o.useState)(null),v=m[0],h=m[1];(0,o.useEffect)((function(){null!=u&&u.pipeline_run_id?h(null==i?void 0:i.find((function(n){return n.id===Number(u.pipeline_run_id)}))):v&&h(null),null!=u&&u.stream?p(u.stream):f&&p(null)}),[i,u,v,f]);var b=(0,o.useCallback)((function(){var n=v?w(v):[];return(0,H.jsx)(tn,{onClickRow:function(e){var t=n[e];(0,on.u)({stream:f===t?null:t})},pipelineRun:v,selectedStream:f})}),[v,f]),g=(0,o.useMemo)((function(){var n="/pipelines/".concat(t,"/syncs");v&&(n="".concat(n,"?pipeline_run_id=").concat(v.id));var e=[{label:function(){return"Syncs"},linkProps:f?{as:n,href:"/pipelines/[pipeline]/syncs"}:null}];return f&&e.push({label:function(){return f}}),e}),[t,v,f]);return(0,H.jsx)(c.Z,{breadcrumbs:g,buildSidekick:b,errors:s,pageName:un.M.SYNCS,pipeline:e,setErrors:a,title:function(n){var e=n.name;return"".concat(e," syncs")},uuid:"".concat(un.M.SYNCS,"_").concat(t),children:i.map((function(n){var e=(null==v?void 0:v.id)===n.id;return(0,H.jsx)(K,{onSelect:function(n){return(0,on.u)({pipeline_run_id:n,stream:null})},pipelineRun:n,selected:e},n.id)}))})}ln.getInitialProps=function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query.pipeline,n.abrupt("return",{pipeline:{uuid:t}});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();var sn=(0,l.Z)(ln)},59416:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/syncs",function(){return t(25050)}])},80022:function(n,e,t){"use strict";function r(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.d(e,{Z:function(){return r}})},15544:function(n,e,t){"use strict";function r(n){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},r(n)}t.d(e,{Z:function(){return r}})},13692:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(61049);function i(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&(0,r.Z)(n,e)}},93189:function(n,e,t){"use strict";t.d(e,{Z:function(){return u}});var r=t(12539),i=t(80022);function u(n,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(n)}},61049:function(n,e,t){"use strict";function r(n,e){return r=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},r(n,e)}t.d(e,{Z:function(){return r}})}},function(n){n.O(0,[2678,365,184,9518,5946,2655,3745,9565,5329,5332,9868,9895,564,2371,1557,2512,5604,5499,9774,2888,179],(function(){return e=59416,n(n.s=e);var e}));var e=n.O();_N_E=e}]);