(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{92709:function(e,n,i){"use strict";i.d(n,{$e:function(){return o},Em:function(){return p},IY:function(){return s},Jf:function(){return l},LR:function(){return r},NR:function(){return u},Qj:function(){return d},Wf:function(){return g},b7:function(){return t},m$:function(){return a},tK:function(){return c}});var t="edit",r="[ERR_BLOCK_EXISTS]",l={uuid:"All files"},s={uuid:"Current blocks"},u=[l,s],c="CUSTOM_EVENT_BLOCK_OUTPUT_CHANGED",o="CUSTOM_EVENT_CODE_BLOCK_CHANGED",a="CUSTOM_EVENT_COLUMN_SCROLLER_CURSOR_MOVED",d="CUSTOM_EVENT_COLUMN_SCROLLER_RESET",p="CUSTOM_EVENT_COLUMN_SCROLLER_SCROLL_TO_BLOCK",g="CUSTOM_EVENT_SYNC_COLUMN_POSITIONS"},74395:function(e,n,i){"use strict";i.d(n,{M:function(){return s},W:function(){return l}});var t=i(9518),r=i(46684),l=34*i(70515).iI,s=t.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);"],r.Mz)},8955:function(e,n,i){"use strict";i.d(n,{G7:function(){return b},ZP:function(){return P},u$:function(){return m}});var t=i(75582),r=i(82394),l=i(26304),s=i(90299),u=i(9134),c=i(24138),o=i(38276),a=i(30160),d=i(75499),p=i(70515),g=i(16488),h=i(42122),f=i(28598),j=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function x(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function _(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?x(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var m=44,v={uuid:"Run details"},Z={uuid:"Dependency tree"},b=[Z,v];function P(e){var n=e.height,i=e.heightOffset,r=e.pipeline,x=e.selectedRun,P=e.selectedTab,O=e.setSelectedTab,S=_({},(0,l.Z)(e,j));x?S.blockStatus=(0,g.IJ)(null==x?void 0:x.block_runs):S.noStatus=!0;var y=(0,h.Kn)(null==x?void 0:x.variables)?_({},null==x?void 0:x.variables):(null==x?void 0:x.variables)||{},E=null==x?void 0:x.event_variables;if(E&&(0,h.Kn)(E)&&!(0,h.Qr)(E))if((0,h.Kn)(y)&&y.hasOwnProperty("event")){var w=(0,h.Kn)(y.event)?y.event:{};y.event=_(_({},w),E)}else y.event=_({},E);var C=[];y&&JSON.stringify(y,null,2).split("\n").forEach((function(e){C.push("    ".concat(e))}));var I=x&&[["Run ID",null==x?void 0:x.id],["Variables",(0,f.jsx)(u.Z,{language:"json",small:!0,source:C.join("\n")},"variable_value")]],T=x&&(0,f.jsx)(o.Z,{pb:p.cd,px:p.cd,children:(0,f.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:I.map((function(e,n){var i=(0,t.Z)(e,2),r=i[0],l=i[1];return[(0,f.jsx)(a.ZP,{monospace:!0,muted:!0,children:r},"key_".concat(n)),(0,f.jsx)(a.ZP,{monospace:!0,textOverflow:!0,children:l},"val_".concat(n))]})),uuid:"LogDetail"})}),k=P&&O;return(0,f.jsxs)(f.Fragment,{children:[k&&(0,f.jsx)(s.Z,{onClickTab:O,selectedTabUUID:null==P?void 0:P.uuid,tabs:b,underlineStyle:!0}),(!k||Z.uuid===(null==P?void 0:P.uuid))&&(0,f.jsx)(c.ZP,_(_({},S),{},{height:n,heightOffset:(i||0)+(k?m:0),pipeline:r})),v.uuid===(null==P?void 0:P.uuid)&&T]})}},36604:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return ge}});var t=i(75582),r=i(77837),l=i(82394),s=i(38860),u=i.n(s),c=i(82684),o=i(12691),a=i.n(o),d=i(9518),p=i(83455),g=i(34376),h=i(71180),f=i(39457),j=i(15338),x=i(55485),_=i(85854),m=i(48670),v=i(55072),Z=i(75457),b=i(27966),P=i(44265),O=i(30229),S=i(57653),y=i(83784),E=i(44085),w=i(38276),C=i(4190),I=i(75499),T=i(48381),k=i(30160),N=i(12468),M=i(5332),D=i(8955),R=i(77417),L=i(74395),U=i(44425),A=i(72473),F=i(72191),H=i(70515),z=i(28795),V=i(97196),K=i(8916),G=i(16488),X=i(3917),q=i(55283),W=i(44375),B=i(15610),$=i(86735),J=i(42122),Q=i(50178),Y=i(72619),ee=i(95924),ne=i(69419),ie=i(70320),te=i(28598);function re(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function le(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?re(Object(i),!0).forEach((function(n){(0,l.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):re(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var se=function(e){var n=e.errors,i=e.fetchPipelineSchedule,r=e.pipeline,l=e.pipelineSchedule,s=e.setErrors,u=e.variables,o=(0,c.useContext)(d.ThemeContext),re=(0,R.Z)().project,se=(0,g.useRouter)(),ue=(0,Q.Ct)(),ce=(0,ie.qB)(),oe=(0,c.useMemo)((function(){return(0,$.HK)((null==r?void 0:r.blocks)||[],(function(e){return e.uuid}))}),[r]),ae=r||{},de=ae.uuid,pe=ae.type,ge=l||{},he=ge.description,fe=ge.id,je=ge.event_matchers,xe=ge.last_enabled_at,_e=ge.name,me=ge.next_pipeline_run_date,ve=ge.schedule_interval,Ze=ge.schedule_type,be=ge.settings,Pe=ge.sla,Oe=ge.start_time,Se=ge.status,ye=ge.tags,Ee=ge.variables,we=void 0===Ee?{}:Ee,Ce=(0,c.useMemo)((function(){return(0,G._U)(ve)}),[ve]),Ie=(0,ne.iV)(),Te={_limit:30,_offset:30*(null!=Ie&&Ie.page?Ie.page:0)};null!=Ie&&Ie.status&&(Te.status=Ie.status),null!=l&&l.global_data_product_uuid&&(Te.global_data_product_uuid=null==l?void 0:l.global_data_product_uuid);var ke=M.ZP.pipeline_runs.pipeline_schedules.list(fe,Te,{refreshInterval:3e3,revalidateOnFocus:!0}),Ne=ke.data,Me=ke.mutate,De=(0,c.useMemo)((function(){return(null==Ne?void 0:Ne.pipeline_runs)||[]}),[Ne]),Re=(0,c.useMemo)((function(){var e;return(null==Ne||null===(e=Ne.metadata)||void 0===e?void 0:e.count)||[]}),[Ne]),Le=(0,c.useState)(null),Ue=Le[0],Ae=Le[1],Fe=(0,c.useMemo)((function(){var e=null!=Ie&&Ie.page?Ie.page:0;return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(b.Z,{fetchPipelineRuns:Me,hideTriggerColumn:!0,onClickRow:function(e){return Ae((function(n){var i=De[e];return(null==n?void 0:n.id)!==i.id?i:null}))},pipelineRuns:De,selectedRun:Ue,setErrors:s,setSelectedRun:Ae}),(0,te.jsx)(w.Z,{p:2,children:(0,te.jsx)(v.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),i=le(le({},Ie),{},{page:n>=0?n:0});se.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(de,"/triggers/").concat(fe,"?").concat((0,ne.uM)(i)))},page:Number(e),totalPages:Math.ceil(Re/30)})})]})}),[Me,De,fe,de,Ie,se,Ue,s,Re]),He=(0,c.useState)(D.G7[0]),ze=He[0],Ve=He[1],Ke=(0,p.Db)((function(e){return M.ZP.pipeline_schedules.useUpdate(e.id)({pipeline_schedule:(0,J.gR)(e,["id"])})}),{onSuccess:function(e){return(0,Y.wD)(e,{callback:function(){i()},onErrorCallback:function(e,n){return null==s?void 0:s({errors:n,response:e})}})}}),Ge=(0,t.Z)(Ke,2),Xe=Ge[0],qe=Ge[1].isLoading,We=M.ZP.pipeline_triggers.pipelines.list(de),Be=We.data,$e=We.mutate,Je=(0,c.useMemo)((function(){return(0,$.HK)((null==Be?void 0:Be.pipeline_triggers)||[],(function(e){return e.name}))}),[Be]),Qe=(0,c.useMemo)((function(){return!(null==Je||!Je[null==l?void 0:l.name])}),[l,Je]),Ye=(0,p.Db)(M.ZP.pipeline_triggers.pipelines.useCreate(de),{onSuccess:function(e){return(0,Y.wD)(e,{callback:function(){$e()},onErrorCallback:function(e,n){return null==s?void 0:s({errors:n,response:e})}})}}),en=(0,t.Z)(Ye,2),nn=en[0],tn=en[1].isLoading,rn=(0,p.Db)(M.ZP.pipeline_runs.pipeline_schedules.useCreate(fe),{onSuccess:function(e){return(0,Y.wD)(e,{callback:function(){Me()},onErrorCallback:function(e,n){return null==s?void 0:s({errors:n,response:e})}})}}),ln=(0,t.Z)(rn,2),sn=ln[0],un=ln[1].isLoading,cn=(0,c.useMemo)((function(){return O.fq.ACTIVE===Se}),[Se]),on=(0,c.useMemo)((function(){return!(cn||Ze===O.Xm.TIME&&ve===O.U5.ONCE)}),[cn,ve,Ze]),an=(0,c.useMemo)((function(){var e,n,i,t={default:!0,size:1.5*H.iI},r=[[(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(A.MultiShare,le({},t)),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Trigger type"})]},"trigger_type_label"),(0,te.jsx)(k.ZP,{monospace:!0,children:null===(e=O.Z4[Ze])||void 0===e?void 0:e.call(O.Z4)},"trigger_type")],[(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(A.Switch,le({},t)),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Status"})]},"trigger_status_label"),(0,te.jsx)(k.ZP,{danger:!cn,monospace:!0,success:cn,children:Se},"trigger_status")]];if(he&&r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(A.Alphabet,le({},t)),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Description"})]},"trigger_description_label"),(0,te.jsx)(k.ZP,{children:he},"trigger_description")]),Pe){var s=(0,G.gU)(Pe),u=s.time,c=s.unit,o=1===u?c:"".concat(c,"s");r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(A.Info,le({},t)),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"SLA"})]},"trigger_sla_label"),(0,te.jsx)(k.ZP,{monospace:!0,children:"".concat(u," ").concat(o)},"trigger_sla")])}if(ve&&r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(A.Schedule,le({},t)),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Frequency"})]},"trigger_frequency_label"),(0,te.jsx)(k.ZP,{monospace:!0,children:ce&&Ce?(0,G.lO)(ve):ve.replace("@","")},"trigger_frequency")],[(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(A.CalendarDate,le({},t)),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Next run date"})]},"trigger_next_run_date_label"),(0,te.jsx)(k.ZP,{monospace:!0,children:me?ce?(0,X.XG)(me,ce):(0,X.d$)(me,{includeSeconds:!0,utcFormat:!0}):"N/A"},"trigger_next_run_date")]),Oe&&r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(A.CalendarDate,le({},t)),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Start date"})]},"trigger_start_date_label"),(0,te.jsx)(k.ZP,{monospace:!0,children:ce?(0,X.XG)(Oe,ce):Oe},"trigger_start_date")]),xe&&r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(A.CalendarDate,le({},t)),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Last enabled at"})]},"trigger_last_enabled_at_label"),(0,te.jsx)(k.ZP,{monospace:!0,children:ce?(0,X.XG)(xe,ce):(0,X.d$)(xe,{includeSeconds:!0})},"trigger_last_enabled_at")]),O.Xm.API===Ze){var a=(0,G.M8)(l);r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(A.PlugAPI,le({},t)),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"API endpoint"})]},"trigger_api_endpoint_label"),(0,te.jsx)(f.Z,{copiedText:a,children:(0,te.jsx)(k.ZP,{monospace:!0,small:!0,children:a})},"trigger_api_endpoint")])}if(null!=be&&be.timeout){var d=(0,G.gU)(null==be?void 0:be.timeout),p=d.time,g=d.unit,h=1===p?g:"".concat(g,"s");r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(N.Z,{default:!0,label:"Timeout set for runs of this trigger",size:F.gt,widthFitContent:!0}),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Timeout"})]},"trigger_timeout"),(0,te.jsx)(k.ZP,{monospace:!0,children:"".concat(p," ").concat(h)},"trigger_timeout_label")])}null!=be&&be.skip_if_previous_running&&r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(N.Z,{default:!0,label:"Skip current run if any previous runs are still in progress",size:F.gt,widthFitContent:!0}),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Skip if running"})]},"trigger_skip_if_running"),(0,te.jsx)(k.ZP,{monospace:!0,children:null===(n=be.skip_if_previous_running)||void 0===n?void 0:n.toString()},"trigger_skip_if_running_label")]);(null!=be&&be.allow_blocks_to_fail&&r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(N.Z,{default:!0,label:"Trigger runs will continue running blocks if other unrelated blocks fail",size:F.gt,widthFitContent:!0}),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Allow blocks to fail"})]},"trigger_allow_blocks_to_fail"),(0,te.jsx)(k.ZP,{monospace:!0,children:be.allow_blocks_to_fail.toString()},"trigger_allow_blocks_to_fail_label")]),null!=be&&be.create_initial_pipeline_run)&&r.push([(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(N.Z,{default:!0,label:"Create initial pipeline run if start date is before current execution period",maxWidth:32*H.iI,size:F.gt}),(0,te.jsx)(w.Z,{mr:1}),(0,te.jsx)(k.ZP,{default:!0,children:"Create initial run"})]},"trigger_create_initial_pipeline_run"),(0,te.jsx)(k.ZP,{monospace:!0,children:null===(i=be.create_initial_pipeline_run)||void 0===i?void 0:i.toString()},"trigger_create_initial_pipeline_run_label")]);return(0,te.jsx)(I.Z,{columnFlex:[null,1],rows:r})}),[he,ce,cn,Ce,me,l,ve,Ze,be,Pe,Oe,Se]),dn=(0,c.useMemo)((function(){return we||{}}),[we]),pn=(0,c.useMemo)((function(){var e,n=[];return(0,J.Qr)(dn)?n=(0,K.wx)(u,(function(e){return e.uuid===y.C})):Object.entries(dn).forEach((function(e){var i=(0,t.Z)(e,2),r=i[0],l=i[1];[P.sZ,O.PN].includes(r)||n.push({uuid:r,value:(0,K.FS)(l)})})),void 0!==(n=(0,K.JZ)(n||[],Ze))&&null!==(e=n)&&void 0!==e&&e.length?(0,te.jsx)(I.Z,{columnFlex:[null,1],rows:n.map((function(e){var n=e.uuid,i=e.value;return[(0,te.jsx)(k.ZP,{default:!0,monospace:!0,children:n},"settings_variable_label_".concat(n)),(0,te.jsx)(k.ZP,{monospace:!0,children:i},"settings_variable_".concat(n))]}))}):null}),[Ze,dn,u]),gn=(0,c.useMemo)((function(){var e=null==dn?void 0:dn[O.PN];return e?(0,te.jsx)(te.Fragment,{children:Object.entries(e||{}).map((function(e){var n,i=(0,t.Z)(e,2),r=i[0],l=i[1],s=null==oe?void 0:oe[r];return(0,te.jsxs)(w.Z,{mt:1,children:[(0,te.jsx)(w.Z,{pb:1,px:H.cd,children:(0,te.jsx)(k.ZP,{color:(0,q.qn)(null==s?void 0:s.type,{blockColor:null==s?void 0:s.color,theme:o}).accent,monospace:!0,children:r})}),(0,te.jsx)(j.Z,{light:!0}),null===(n=Object.entries(l||{}))||void 0===n?void 0:n.map((function(e,n){var i=(0,t.Z)(e,2),r=i[0],l=i[1];return(0,te.jsx)("div",{children:(0,te.jsx)(I.Z,{columnFlex:[null,1],rows:[[(0,te.jsx)(k.ZP,{default:!0,monospace:!0,children:"Stream"},"stream_title_".concat(n)),(0,te.jsx)(k.ZP,{monospace:!0,rightAligned:!0,children:r},"stream_id_".concat(n))]].concat(Object.entries(l||{}).map((function(e){var n=(0,t.Z)(e,2),i=n[0],r=n[1];return[(0,te.jsx)(k.ZP,{default:!0,monospace:!0,children:i},"settings_variable_label_".concat(i)),(0,te.jsx)(k.ZP,{monospace:!0,rightAligned:!0,children:r},"settings_variable_".concat(i))]})))})},r)}))]},r)}))}):null}),[oe,dn,o]),hn=(0,c.useMemo)((function(){var e,n,i=[],t=null==dn||null===(e=dn[P.sZ])||void 0===e?void 0:e.blocks;return null==r||null===(n=r.blocks)||void 0===n||n.forEach((function(e){var n=e.type,r=e.uuid;if(U.tf.DBT===n){var l,s=(null==t||null===(l=t[r])||void 0===l?void 0:l.configuration)||{},u=s.flags,c=s.prefix,o=s.suffix,a=(0,W.IU)(e).name;(u||c||o)&&i.push({flags:u,prefix:c,suffix:o,uuid:a})}})),void 0!==i&&null!=i&&i.length?(0,te.jsx)(I.Z,{columnFlex:[1,null],rows:i.map((function(e){var n=e.flags,i=e.prefix,t=e.suffix,r=e.uuid;return[(0,te.jsxs)(k.ZP,{monospace:!0,small:!0,children:[i&&(0,te.jsx)(k.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:i}),r,t&&(0,te.jsx)(k.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:t})]},"settings_variable_label_".concat(r)),(0,te.jsx)(k.ZP,{monospace:!0,muted:!0,small:!0,children:n&&n.join(", ")},"settings_variable_".concat(r))]}))}):null}),[r,dn]),fn=(0,c.useMemo)((function(){return(0,te.jsx)(I.Z,{columnFlex:[null,1],columns:[{uuid:"Provider"},{uuid:"Event"}],rows:null==je?void 0:je.map((function(e,n){var i=e.event_type,t=e.name;return[(0,te.jsx)(k.ZP,{default:!0,monospace:!0,children:V._P[i].label()},"".concat(i,"_").concat(n,"_label")),(0,te.jsx)(k.ZP,{monospace:!0,children:t},"".concat(i,"_").concat(n,"_name"))]}))})}),[je]),jn=(0,c.useMemo)((function(){var e,n,i,t,l,s,u;return void 0===(null==r||null===(e=r.settings)||void 0===e||null===(n=e.triggers)||void 0===n?void 0:n.save_in_code_automatically)?null==re||null===(i=re.pipelines)||void 0===i||null===(t=i.settings)||void 0===t||null===(l=t.triggers)||void 0===l?void 0:l.save_in_code_automatically:null==r||null===(s=r.settings)||void 0===s||null===(u=s.triggers)||void 0===u?void 0:u.save_in_code_automatically}),[r,re]);return(0,te.jsxs)(Z.Z,{afterHidden:!Ue,before:(0,te.jsxs)(L.M,{children:[(0,te.jsxs)(w.Z,{mb:H.HN,pt:H.cd,px:H.cd,children:[(0,te.jsxs)(w.Z,{mb:H.cd,children:[O.Xm.TIME===Ze&&(0,te.jsx)(A.Sun,{size:5*H.iI}),O.Xm.EVENT===Ze&&(0,te.jsx)(A.MusicNotes,{size:5*H.iI}),O.Xm.API===Ze&&(0,te.jsx)(A.Lightning,{size:5*H.iI}),!Ze&&(0,te.jsx)(A.MultiShare,{size:5*H.iI})]}),(0,te.jsx)(_.Z,{children:_e})]}),(0,te.jsx)(w.Z,{px:H.cd,children:(0,te.jsx)(_.Z,{level:5,children:"Settings"})}),(0,te.jsx)(j.Z,{light:!0,mt:1,short:!0}),an,(null==je?void 0:je.length)>=1&&(0,te.jsxs)(w.Z,{my:H.HN,children:[(0,te.jsx)(w.Z,{px:H.cd,children:(0,te.jsx)(_.Z,{level:5,children:"Events"})}),(0,te.jsx)(j.Z,{light:!0,mt:1,short:!0}),fn]}),pn&&(0,te.jsxs)(w.Z,{my:H.HN,children:[(0,te.jsx)(w.Z,{px:H.cd,children:(0,te.jsx)(_.Z,{level:5,children:"Runtime variables"})}),(0,te.jsx)(j.Z,{light:!0,mt:1,short:!0}),pn]}),gn&&(0,te.jsxs)(w.Z,{my:H.HN,children:[(0,te.jsx)(w.Z,{px:H.cd,children:(0,te.jsx)(_.Z,{level:5,children:"Bookmark values"})}),(0,te.jsx)(j.Z,{light:!0,mt:1,short:!0}),gn]}),hn&&(0,te.jsxs)(w.Z,{my:H.HN,children:[(0,te.jsx)(w.Z,{px:H.cd,children:(0,te.jsx)(_.Z,{level:5,children:"dbt runtime settings"})}),(0,te.jsx)(j.Z,{light:!0,mt:1,short:!0}),hn]}),(null==ye?void 0:ye.length)>=1&&(0,te.jsxs)(w.Z,{my:H.HN,children:[(0,te.jsx)(w.Z,{px:H.cd,children:(0,te.jsx)(_.Z,{level:5,children:"Tags"})}),(0,te.jsx)(j.Z,{light:!0,mt:1,short:!0}),(0,te.jsx)(w.Z,{mt:H.cd,px:H.cd,children:(0,te.jsx)(T.Z,{tags:null==ye?void 0:ye.map((function(e){return{uuid:e}}))})})]}),"\\",(0,te.jsx)(w.Z,{my:H.HN,children:(0,te.jsxs)(w.Z,{px:H.cd,children:[(0,te.jsxs)(_.Z,{level:5,children:[Qe&&"Trigger exists in code",!Qe&&"Store trigger in code"]}),(0,te.jsxs)(w.Z,{mt:1,children:[jn&&(0,te.jsxs)(k.ZP,{default:!0,children:["This trigger will automatically be persisted in code. To change this behavior, update the ",(0,te.jsx)(a(),{as:"/pipelines/".concat(de,"/settings"),href:"/pipelines/[pipeline]/settings",passHref:!0,children:(0,te.jsx)(m.Z,{openNewWindow:!0,children:"pipeline’s settings"})})," or ",(0,te.jsx)(a(),{as:"/settings/workspace/preferences",href:"/settings/workspace/preferences",passHref:!0,children:(0,te.jsx)(m.Z,{openNewWindow:!0,children:"project settings"})}),"."]}),!jn&&(0,te.jsxs)(k.ZP,{default:!0,children:["Save or update the trigger and its settings in the pipeline’s metadata and version control the trigger using Git. For more information, please read the ",(0,te.jsx)(m.Z,{href:"https://docs.mage.ai/guides/triggers/configure-triggers-in-code",openNewWindow:!0,children:"documentation"}),"."]})]}),!jn&&(0,te.jsxs)(w.Z,{mt:H.cd,children:[!Be&&(0,te.jsx)(C.Z,{inverted:!0}),Be&&(0,te.jsxs)(h.ZP,{disabled:!(null!=l&&l.id),loading:tn,onClick:function(){nn({pipeline_trigger:{pipeline_schedule_id:null==l?void 0:l.id}})},secondary:!0,children:[Qe&&"Update trigger in code",!Qe&&"Save trigger in code"]})]})]})})]}),beforeWidth:L.W,breadcrumbs:[{label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(de,"/triggers"),href:"/pipelines/[pipeline]/triggers"}},{label:function(){return _e},linkProps:{as:"/pipelines/".concat(de,"/triggers/").concat(fe),href:"/pipelines/[pipeline]/triggers/[...slug]"}}],buildSidekick:function(e){return(0,D.ZP)(le(le({},e),{},{selectedRun:Ue,selectedTab:ze,setSelectedTab:Ve}))},errors:n,pageName:z.M.TRIGGERS,pipeline:r,setErrors:s,subheader:(0,te.jsxs)(x.ZP,{alignItems:"center",children:[(0,te.jsx)(h.ZP,{beforeIcon:cn?(0,te.jsx)(A.LightningOff,{size:F.bL}):(0,te.jsx)(A.Lightning,{inverted:!ue,size:F.bL}),danger:cn&&!ue,loading:qe,onClick:function(e){(0,ee.j)(e),Xe({id:fe,status:cn?O.fq.INACTIVE:O.fq.ACTIVE})},outline:!0,success:!cn&&!ue,children:cn?"Disable trigger":"Enable trigger"}),(0,te.jsx)(w.Z,{mr:H.cd}),pe!==S.qL.STREAMING&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(h.ZP,{beforeIcon:(0,te.jsx)(A.Once,{size:F.bL}),disabled:on,loading:un,onClick:function(){return sn({pipeline_run:{pipeline_schedule_id:fe,pipeline_uuid:de,variables:dn}})},outline:!0,title:on?"Trigger must be enabled to run@once":"Manually run pipeline once immediately",children:(0,te.jsx)(k.ZP,{disabled:on,children:"Run@once"})}),(0,te.jsx)(w.Z,{mr:H.cd})]}),!ue&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(h.ZP,{beforeIcon:(0,te.jsx)(A.Edit,{size:F.bL}),linkProps:{as:"/pipelines/".concat(de,"/triggers/").concat(fe,"/edit"),href:"/pipelines/[pipeline]/triggers/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Edit trigger"}),(0,te.jsx)(w.Z,{mr:H.cd})]}),(0,te.jsxs)(E.Z,{compact:!0,defaultColor:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?se.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(de,"/triggers/").concat(fe)):(0,B.u)({page:0,status:e.target.value})},paddingRight:4*H.iI,placeholder:"Select run status",value:(null==Ie?void 0:Ie.status)||"all",children:[(0,te.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),P.IK.map((function(e){return(0,te.jsx)("option",{value:e,children:P.Do[e]},e)}))]})]}),title:function(){return _e},uuid:"triggers/detail",children:[(0,te.jsx)(w.Z,{mt:H.cd,px:H.cd,children:(0,te.jsx)(_.Z,{level:5,children:"Runs for this trigger"})}),(0,te.jsx)(j.Z,{light:!0,mt:H.cd,short:!0}),Fe]})},ue=i(12717),ce=i(93808),oe=i(92709);function ae(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function de(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ae(Object(i),!0).forEach((function(n){(0,l.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function pe(e){var n=e.pipelineScheduleId,i=e.pipelineUUID,t=e.subpath,r=oe.b7===t,l=(0,c.useState)(null),s=l[0],u=l[1],o=M.ZP.variables.pipelines.list(i,{},{revalidateOnFocus:!1}).data,a=null==o?void 0:o.variables,d={};r&&(d._format="with_runtime_average");var p=M.ZP.pipeline_schedules.detail(void 0!==n&&n,d),g=p.data,h=p.mutate,f=null==g?void 0:g.pipeline_schedule,j=M.ZP.pipelines.detail(i,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,x=de(de({},null==j?void 0:j.pipeline),{},{uuid:i});return r?(0,te.jsx)(ue.Z,{errors:s,fetchPipelineSchedule:h,pipeline:x,pipelineSchedule:f,setErrors:u,variables:a}):(0,te.jsx)(se,{errors:s,fetchPipelineSchedule:h,pipeline:x,pipelineSchedule:f,setErrors:u,variables:a})}pe.getInitialProps=function(){var e=(0,r.Z)(u().mark((function e(n){var i,r,l,s,c,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.query,r=i.pipeline,l=i.slug,!Array.isArray(l)){e.next=4;break}return s=(0,t.Z)(l,2),c=s[0],o=s[1],e.abrupt("return",{pipelineScheduleId:c,pipelineUUID:r,subpath:o});case 4:return e.abrupt("return",{pipelineUUID:r});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ge=(0,ce.Z)(pe)},95488:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers/[...slug]",function(){return i(36604)}])}},function(e){e.O(0,[2678,365,184,9518,5946,2655,3745,9565,5329,3656,2755,341,433,7849,2055,9302,5332,9868,9895,564,2371,1557,2512,5604,5499,18,3498,7966,6333,9774,2888,179],(function(){return n=95488,e(e.s=n);var n}));var n=e.O();_N_E=n}]);