"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6686],{78530:function(e,n,t){t.r(n),t.d(n,{default:function(){return Bt}});var l=t(82394),i=t(82684),o=t(39421),r=t(4673),u=t(51774),c=t.n(u),a=t(91190),d=t(33591),s=t(9518),v=t(78050),p=t(84749),f=t(75582),m=t(34376),h=t(97618),g=t(55485),x=t(38276),b=t(30160),y=t(44897),j=t(16682),_=t(42631),w=t(95363),O=t(47041),I=t(70515),E=t(42122),k=t(55283),C=94*I.iI,P=C-2*O.nn;function S(e){var n,t,l,i,o,r,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null==c?void 0:c.theme,d=e||{display_settings_by_attribute:null,metadata:null,object_type:null},s=d.display_settings_by_attribute,v=d.metadata,p=d.object_type,f=null==s||null===(n=s.icon)||void 0===n?void 0:n.color_uuid,m=null==s||null===(t=s.icon)||void 0===t?void 0:t.stroke_uuid,h=a||y.Z,g=null==h||null===(l=h.monotone)||void 0===l?void 0:l.gray,x=null==h||null===(i=h.monotone)||void 0===i?void 0:i.grey500,b=!1;if(j.Oy.MODE_DEACTIVATION===(null==e?void 0:e.item_type))return{accent:g,accentLight:x};if(f)g=(0,E.t2)(h,f),x=(0,E.t2)(h,f);else if(m)g=(0,E.t2)(h,m),x=(0,E.t2)(h,m),b=!0;else if(j.Xk.APPLICATION==p){var _,w;g=null==h||null===(_=h.accent)||void 0===_?void 0:_.sky,x=null==h||null===(w=h.accent)||void 0===w?void 0:w.skyLight}else{var O,I,C,P;if(j.Xk.BLOCK==p)return(0,k.qn)(null==e||null===(O=e.metadata)||void 0===O||null===(I=O.block)||void 0===I?void 0:I.type,{theme:a});if(j.Xk.CODE==p)g=null==h||null===(C=h.accent)||void 0===C?void 0:C.negative,x=null==h||null===(P=h.accent)||void 0===P?void 0:P.negativeTransparent;else if(j.Xk.CHAT===p||j.Xk.DOCUMENT===p){var S,Z;g=null==h||null===(S=h.background)||void 0===S?void 0:S.success,x=null==h||null===(Z=h.background)||void 0===Z?void 0:Z.successLight}else if(j.Xk.FILE==p){var R,T;g=null==h||null===(R=h.accent)||void 0===R?void 0:R.warning,x=null==h||null===(T=h.accent)||void 0===T?void 0:T.warningTransparent}else if(j.Xk.FOLDER==p){var N,D;g=null==h||null===(N=h.chart)||void 0===N?void 0:N.tertiary,x=null==h||null===(D=h.accent)||void 0===D?void 0:D.skyLight}else if(j.Xk.PROJECT==p){var L,A;g=null==h||null===(L=h.accent)||void 0===L?void 0:L.rose,x=null==h||null===(A=h.accent)||void 0===A?void 0:A.roseLight}else if(j.Xk.PIPELINE==p){var M,F;g=null==h||null===(M=h.accent)||void 0===M?void 0:M.cyan,x=null==h||null===(F=h.accent)||void 0===F?void 0:F.cyanLight}else if([j.Xk.PIPELINE_RUN,j.Xk.REMOTE].includes(p)){var B,K;g=null==h||null===(B=h.accent)||void 0===B?void 0:B.teal,x=null==h||null===(K=h.accent)||void 0===K?void 0:K.tealLight}else if(j.Xk.TRIGGER==p){var G,z;g=null==h||null===(G=h.accent)||void 0===G?void 0:G.rose,x=null==h||null===(z=h.accent)||void 0===z?void 0:z.roseLight}}null!=v&&null!==(o=v.page)&&void 0!==o&&o.timestamp&&(g=null==h||null===(r=h.content)||void 0===r?void 0:r.active,x=null==h||null===(u=h.content)||void 0===u?void 0:u.default);return{accent:g,accentLight:x,useStroke:b}}var Z,R,T,N=s.default.div.withConfig({displayName:"indexstyle__ItemStyle",componentId:"sc-wdy5l9-0"})(["border-radius:","px;cursor:pointer;height:","px;left:","px;max-width:","px;padding:","px;position:relative;"],_.n_,44,O.nn,P,1.5*I.iI),D=t(49130),L=t(48670),A=t(54193),M=t(39643);!function(e){e.ALL="all",e.CREATE="create",e.DELETE="delete",e.DETAIL="detail",e.LIST="list",e.UPDATE="update"}(Z||(Z={})),function(e){e.PIPELINE="pipeline",e.PIPELINE_SCHEDULE="pipeline_schedule"}(R||(R={})),function(e){e.BUTTON="button",e.FORM="form"}(T||(T={}));var F,B,K=t(74445),G=t(28598);function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.application,t=e.item,l=(0,K.Ds)();if(l&&j.jf.VERSION_CONTROL===(null==l?void 0:l.type)){if([j.oY.DETAIL_LIST,j.oY.LIST].includes(null==n?void 0:n.application_type)){if(j.Xk.PROJECT===(null==t?void 0:t.object_type))return"Add remote, create/switch branches, commit changes...";if(j.Xk.BRANCH===(null==t?void 0:t.object_type)){var i,o,r,u,c=(null==t||null===(i=t.metadata)||void 0===i||null===(o=i.branch)||void 0===o?void 0:o.name)||"";return null!=t&&null!==(r=t.metadata)&&void 0!==r&&null!==(u=r.branch)&&void 0!==u&&u.current&&(c="".concat(c," (current)")),c}if(j.Xk.REMOTE===(null==t?void 0:t.object_type))return"Add, update, delete remotes"}return"Setup projects, clone branches, commit files, push code..."}if(j.oY.DETAIL_LIST===(null==n?void 0:n.application_type)){if(j.Xk.PIPELINE===(null==t?void 0:t.object_type))return"Search blocks and triggers in ".concat(null==t?void 0:t.title);if(j.Xk.TRIGGER===(null==t?void 0:t.object_type))return"Search runs or run ".concat((null==t?void 0:t.title)||"this"," trigger once")}return"Search actions, apps, files, blocks, pipelines, triggers"}!function(e){e.FOCUSED="focused",e.ITEM_ROW="item-row",e.ITEM_ROW_CATEGORY="item-row-category"}(F||(F={})),function(e){e.MAIN="main"}(B||(B={}));var U=t(61896),X=t(82677),W="command-center",q="".concat(W,"-application-footer"),H="".concat(W,"-footer"),Y="".concat(W,"-header"),V="".concat(W,"-header-title"),J="".concat(W,"-items-container"),Q="".concat(W,"-item-context-container"),$="".concat(W,"-main-text-input"),ee="".concat(W,"-input-container"),ne="".concat(W,"-output-container"),te="".concat(W,"-close-output-button"),le=O.nn,ie=396+2*le,oe=5*I.iI,re=5.5*I.iI,ue=(0,s.css)(["bottom:0;opacity:0;position:fixed;right:0;visibility:hidden;z-index:-1;"]),ce=s.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1izoeub-0"})(["border-radius:","px;left:50%;overflow:hidden;position:fixed;top:50%;transform:translate(-50%,-50%);width:","px;z-index:100;.hide{-webkit-backdrop-filter:saturate(140%) blur(","px);backdrop-filter:saturate(140%) blur(","px);}:not(.hide){-webkit-backdrop-filter:saturate(140%) blur(","px);backdrop-filter:saturate(140%) blur(","px);}"," &.hide{bottom:100%;opacity:0;right:100%;border:none;}"],_.Ro,C+2,3*I.iI,3*I.iI,3*I.iI,3*I.iI,(function(e){var n,t,l;return"\n    background-color: ".concat((e.theme||y.Z).background.blackTransparent,";\n    box-shadow: ").concat((e.theme||y.Z).shadow.window,";\n    border: 1px solid ").concat((e.theme||y.Z).monotone.grey400,";\n\n    #").concat(ee," {\n      border-bottom: 1px solid ").concat((e.theme||y.Z).monotone.grey400,";\n    }\n\n    #").concat(ne," {\n      border-top: 1px solid ").concat((e.theme||y.Z).monotone.grey400,";\n    }\n\n    &.version_control {\n      border: 1px solid ").concat(null===(n=(0,X.a3)(j.X9.VersionControlFileDiffs,e))||void 0===n?void 0:n.border,";\n\n      #").concat(ee," {\n        border-bottom: 1px solid ").concat(null===(t=(0,X.a3)(j.X9.VersionControlFileDiffs,e))||void 0===t?void 0:t.border,";\n      }\n\n      #").concat(ne," {\n        border-top: 1px solid ").concat(null===(l=(0,X.a3)(j.X9.VersionControlFileDiffs,e))||void 0===l?void 0:l.border,";\n      }\n    }\n  ")})),ae=s.default.div.withConfig({displayName:"indexstyle__InputContainerStyle",componentId:"sc-1izoeub-1"})(["height:","px;"],oe+2*O.nn),de=s.default.div.withConfig({displayName:"indexstyle__HeaderContainerStyle",componentId:"sc-1izoeub-2"})(["align-items:center;display:flex;padding:","px;"],O.nn),se=s.default.div.withConfig({displayName:"indexstyle__LoadingStyle",componentId:"sc-1izoeub-3"})(["position:absolute;width:100%;&.inactive{","}"],ue),ve=s.default.input.withConfig({displayName:"indexstyle__InputStyle",componentId:"sc-1izoeub-4"})([""," &.active{","}background:none;border:none;display:flex;flex:99;font-family:",";height:","px;padding:","px;width:100%;",""],U.ln,ue,w.YC,oe,1*I.iI,(function(e){return"\n    color: ".concat((e.theme||y.Z).content.active,";\n  ")})),pe=(0,s.css)([""," "," overflow:auto;max-width:","px;&.inactive:hover{-ms-overflow-style:block !important;scrollbar-width:block !important;::-webkit-scrollbar{display:block !important;}}"],O.uF,(0,O.y$)(),C),fe=(0,s.css)([""," height:","px;",""],pe,ie,(function(e){var n,t,l,i,o,r;return"\n    .".concat(F.ITEM_ROW," {\n      &:hover {\n        background-color: ").concat(null===(n=e.theme||y.Z)||void 0===n||null===(t=n.interactive)||void 0===t?void 0:t.defaultBackgroundTransparent,";\n      }\n\n      &.focused {\n        background-color: ").concat(null===(l=e.theme||y.Z)||void 0===l||null===(i=l.interactive)||void 0===i?void 0:i.hoverBackgroundTransparent,";\n\n        &:hover {\n          background-color: ").concat(null===(o=e.theme||y.Z)||void 0===o||null===(r=o.interactive)||void 0===r?void 0:r.hoverBackgroundTransparent,";\n        }\n      }\n    }\n  ")})),me=s.default.div.withConfig({displayName:"indexstyle__ItemsContainerStyle",componentId:"sc-1izoeub-5"})([""," padding-bottom:","px;padding-top:","px;&.active{","}"],fe,O.nn,O.nn,ue),he=s.default.div.withConfig({displayName:"indexstyle__ApplicationContainerStyle",componentId:"sc-1izoeub-6"})([""," &.inactive{","}&:hover{-ms-overflow-style:block !important;scrollbar-width:block !important;::-webkit-scrollbar{display:block !important;}}"],fe,ue),ge=s.default.div.withConfig({displayName:"indexstyle__ApplicationContentStyle",componentId:"sc-1izoeub-7"})(["left:","px;max-width:","px;padding-bottom:","px;padding-top:","px;position:relative;"],O.nn,P,1*I.iI,1*I.iI),xe=s.default.div.withConfig({displayName:"indexstyle__OutputContainerStyle",componentId:"sc-1izoeub-8"})([""," max-height:","px;"," &.inactive{","}&:hover{-ms-overflow-style:block !important;scrollbar-width:block !important;::-webkit-scrollbar{display:block !important;}}"],pe,ie,(function(e){return"\n    background-color: ".concat((e.theme||y.Z).background.blackTransparentDark,";\n  ")}),ue),be=s.default.div.withConfig({displayName:"indexstyle__OutputContentStyle",componentId:"sc-1izoeub-9"})(["left:","px;max-width:","px;padding:","px ","px;position:relative;"],O.nn,P,1*I.iI+O.nn,1*I.iI),ye=s.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-1izoeub-10"})(["align-items:center;display:flex;flex:1;flex-shrink:0;height:","px;white-space:nowrap;&.inactive{","}#",".inactive{","}"],oe,ue,V,ue),je=s.default.div.withConfig({displayName:"indexstyle__HeaderTitleStyle",componentId:"sc-1izoeub-11"})(["flex:1;position:relative;"]),_e=s.default.div.withConfig({displayName:"indexstyle__HeaderSubtitleStyle",componentId:"sc-1izoeub-12"})([""]),we=s.default.div.withConfig({displayName:"indexstyle__FooterWraperStyle",componentId:"sc-1izoeub-13"})(["position:relative;"]),Oe=(0,s.css)(["align-items:center;display:flex;height:","px;padding-left:","px;padding-right:","px;&.output-inactive{#","{display:none;}}&.output-active{#","{display:block;}}",""],re,O.nn+I.iI,O.nn+I.iI,te,te,(function(e){var n,t;return"\n    background-color: ".concat(null===(n=e.theme||y.Z)||void 0===n||null===(t=n.background)||void 0===t?void 0:t.panelTransparent,";\n  ")})),Ie=s.default.div.withConfig({displayName:"indexstyle__FooterStyle",componentId:"sc-1izoeub-14"})([""," &.active{","}"],Oe,ue),Ee=s.default.div.withConfig({displayName:"indexstyle__ApplicationFooterStyle",componentId:"sc-1izoeub-15"})([""," &.inactive{","}"],Oe,ue),ke=s.default.div.withConfig({displayName:"indexstyle__KeyboardShortcutStyle",componentId:"sc-1izoeub-16"})(["position:absolute;right:","px;&.active{","}"],I.iI+O.nn,ue),Ce=t(81728),Pe=t(64827);var Se=function(e){var n,t,l,i,o,r=e.application,u=e.applicationsRef,c=e.item;if((null==u||null===(n=u.current)||void 0===n?void 0:n.length)>=2){var a,d=null==u||null===(a=u.current)||void 0===a?void 0:a[1],s=null==d?void 0:d.item;(null==c?void 0:c.uuid)!==(null==s?void 0:s.uuid)&&(i=(0,Pe.q)(s),o=S(s),l=null==s?void 0:s.title)}return(0,G.jsxs)(g.ZP,{alignItems:"center",fullHeight:!0,fullWidth:!0,justifyContent:"space-between",children:[(0,G.jsxs)(h.Z,{alignItems:"center",flex:1,children:[(0,G.jsx)("div",{style:{marginRight:1*I.iI}}),i&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(i,{fill:null===(t=o)||void 0===t?void 0:t.accent,size:2*I.iI}),(0,G.jsx)("div",{style:{marginRight:1.5*I.iI}})]}),(0,G.jsx)(b.ZP,{weightStyle:4,children:l}),(0,G.jsx)(x.Z,{mr:I.cd})]}),j.oY.DETAIL_LIST!==(null==r?void 0:r.application_type)&&(0,G.jsx)(_e,{children:(0,G.jsx)(b.ZP,{muted:!0,children:(0,Ce.vg)(j.zV[null==c?void 0:c.object_type]||"")})})]})},Ze=t(68562),Re=t(66472),Te=t(95924);var Ne=function(e){var n,t,l,i=e.application,o=(e.applicationsRef,e.closeCommandCenter),r=e.closeOutput,u=e.executeAction,c=e.fetchItems,a=e.focusedItemIndex,d=e.getItemsActionResults,s=e.handleSelectItemRow,v=e.item,p=e.itemsRef,f=e.removeApplication,m=e.refError,y=(v.applications,v.title),j=(0,Pe.q)(v),_=S(v),w=null!==(n=null==i||null===(t=i.buttons)||void 0===t?void 0:t.length)&&void 0!==n?n:0;return(0,G.jsxs)(g.ZP,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,G.jsxs)(h.Z,{alignItems:"center",flex:1,children:[(0,G.jsx)(j,{fill:null==_?void 0:_.accent,size:2*I.iI}),(0,G.jsx)("div",{style:{marginRight:1.5*I.iI}}),(0,G.jsx)(b.ZP,{default:!0,weightStyle:4,children:y}),(0,G.jsx)("div",{style:{marginRight:2*I.iI}}),(0,G.jsx)("div",{id:te,children:(0,G.jsx)(Ze.ZP,{addPlusSignBetweenKeys:!0,bold:!0,compact:!0,default:!0,keyTextGroups:[[M.hE,M.uT]],keyTextsPosition:Ze.Yo.RIGHT,noBackground:!0,onClick:function(e){(0,Te.j)(e),r()},uuid:"command-center-footer-close-output",children:"Close output"})}),(0,G.jsx)(x.Z,{mr:I.cd})]}),(0,G.jsx)(g.ZP,{alignItems:"center",children:null==i||null===(l=i.buttons)||void 0===l?void 0:l.map((function(e,n){var t=e.display_settings,l=e.keyboard_shortcuts,r=e.label;e.tooltip,null==t||t.color_uuid;return(0,G.jsxs)(g.ZP,{alignItems:"center",children:[n>=1&&(0,G.jsx)(x.Z,{mr:I.cd}),(0,G.jsx)(Ze.ZP,{addPlusSignBetweenKeys:!0,bold:!0,compact:!0,default:0===n&&w>=2,keyTextGroups:null==l?void 0:l.map((function(e){return null==e?void 0:e.map((function(e){return M.tE[e]}))})),keyTextsPosition:Ze.Yo.RIGHT,noBackground:0===n&&w>=2,onClick:function(){return(0,Re.G9)({application:i,button:e,closeCommandCenter:o,executeAction:u,fetchItems:c,focusedItemIndex:a,getItemsActionResults:d,handleSelectItemRow:s,item:v,itemsRef:p,refError:m,removeApplication:f})},uuid:"".concat(null==v?void 0:v.uuid,"-").concat(null==i?void 0:i.uuid,"-").concat(n,"-button"),children:r})]},r)}))})]})},De=t(71180),Le=t(72473);var Ae,Me=function(e){var n=e.addApplication,t=e.closeCommandCenter,l=e.closeOutput,i=e.handleNavigation,o=e.handleSelectItemRow,r=e.refFooterButtonEnter,u=e.refFooterButtonEscape,c=e.refFooterButtonUp,a=function(){var e,n,t,l=(0,K.MK)()||{},i={application_type:j.oY.FORM,buttons:[{label:"Cancel",keyboard_shortcuts:[["metaKey",27]],action_types:[j.lH.RESET_FORM,j.lH.CLOSE_APPLICATION]},{label:"Save settings",keyboard_shortcuts:[[13]],action_types:[j.lH.EXECUTE,j.lH.RESET_FORM,j.lH.CLOSE_APPLICATION]}],uuid:"command_center_settings",settings:[{label:"Keyboard shortcut to launch",description:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(g.ZP,{alignItems:"center",children:[(0,G.jsx)(b.ZP,{inline:!0,muted:!0,noWrapping:!0,small:!0,children:"The default is  "}),(0,G.jsx)(D.Z,{addPlusSignBetweenKeys:!0,inline:!0,keyTextGroups:[[M.RJ,M.zw]],monospace:!0}),(0,G.jsxs)(b.ZP,{inline:!0,muted:!0,noWrapping:!0,small:!0,children:["  (",(0,G.jsx)(b.ZP,{inline:!0,monospace:!0,noWrapping:!0,muted:!0,small:!0,children:"Meta"})," + ",(0,G.jsx)(b.ZP,{inline:!0,monospace:!0,noWrapping:!0,muted:!0,small:!0,children:"Period"}),")."]})]}),(0,G.jsxs)(b.ZP,{muted:!0,noWrapping:!0,small:!0,children:["You can change this by entering the desired",(0,G.jsx)("br",{}),(0,G.jsx)(L.Z,{href:"https://www.toptal.com/developers/keycode",inline:!0,openNewWindow:!0,small:!0,children:"key codes"})," separated by commas."]})]}),placeholder:"e.g. 91, 190",display_settings:{icon_uuid:"Alphabet"},name:"request.payload.command_center_item.settings.interface.keyboard_shortcuts.main",type:A.bB.TEXT_FIELD,monospace:!0,action_uuid:"update_model",value:null==l||null===(e=l.interface)||void 0===e||null===(n=e.keyboard_shortcuts)||void 0===n||null===(t=n.main)||void 0===t?void 0:t.join(", ")}]};return{application:i,item:{item_type:j.Oy.ACTION,object_type:j.Xk.SETTINGS,title:"Command center settings",description:"Customize your command center.",applications:[i],actions:[{request:{operation:Z.CREATE,payload:{command_center_item:null},resource:"command_center_items",response_resource_key:"command_center_items"},uuid:"update_model"}],uuid:"command_center_settings"}}}(),d=a.application,s=a.item;return(0,G.jsxs)(g.ZP,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,G.jsx)(h.Z,{alignItems:"center",flex:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",children:[(0,G.jsx)(De.ZP,{iconOnly:!0,noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){n(s,d)},children:(0,G.jsx)(Le.SettingsWithKnobs,{default:!0,size:2*I.iI})}),(0,G.jsx)("div",{style:{marginRight:2*I.iI}}),(0,G.jsx)("div",{id:te,children:(0,G.jsx)(Ze.ZP,{addPlusSignBetweenKeys:!0,bold:!0,compact:!0,default:!0,keyTextGroups:[[M.hE,M.uT]],keyTextsPosition:Ze.Yo.RIGHT,noBackground:!0,onClick:function(e){(0,Te.j)(e),l()},uuid:"command-center-footer-close-output",children:"Close output"})})]})}),(0,G.jsx)(g.ZP,{alignItems:"center",children:(0,G.jsxs)(g.ZP,{alignItems:"center",children:[(0,G.jsx)(Ze.ZP,{addPlusSignBetweenKeys:!0,bold:!0,compact:!0,keyTextGroups:[[M.Lz]],keyTextsPosition:Ze.Yo.RIGHT,onClick:function(e){(0,Te.j)(e),o()},uuid:"command-center-footer-button-enter",children:(0,G.jsx)("span",{ref:r,children:"Select"})}),(0,G.jsx)(x.Z,{mr:1}),(0,G.jsx)(Ze.ZP,{addPlusSignBetweenKeys:!0,bold:!0,compact:!0,default:!0,keyTextGroups:[[M.hs]],keyTextsPosition:Ze.Yo.RIGHT,noBackground:!0,onClick:function(e){(0,Te.j)(e),i(-1)},uuid:"command-center-footer-button-up",children:(0,G.jsx)("span",{ref:c,children:"Up"})}),(0,G.jsx)(Ze.ZP,{addPlusSignBetweenKeys:!0,bold:!0,compact:!0,default:!0,keyTextGroups:[[M.ZV]],keyTextsPosition:Ze.Yo.RIGHT,noBackground:!0,onClick:function(e){(0,Te.j)(e),i(1)},uuid:"command-center-footer-button-right",children:"Down"}),(0,G.jsx)(Ze.ZP,{addPlusSignBetweenKeys:!0,bold:!0,compact:!0,default:!0,keyTextGroups:[[M.ro]],keyTextsPosition:Ze.Yo.RIGHT,noBackground:!0,onClick:function(e){(0,Te.j)(e),t()},uuid:"command-center-footer-button-escape",children:(0,G.jsx)("span",{ref:u,children:"Close"})})]})})]})},Fe=t(91835),Be=t(75810),Ke=t(71377),Ge=t(88543),ze=t(30018),Ue=t(21831),Xe=t(68804),We=t(87432);function qe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function He(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?qe(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ye(e){var n=e.applicationState,t=void 0===n?null:n,i=e.closeCommandCenter,o=(e.commandCenterState,e.fetchItems),r=e.getItems,u=e.handleSelectItemRow,c=e.invokeRequest,a=e.itemsActionResultsRef,d=void 0===a?null:a,s=e.removeApplication,v=e.renderOutput,p=e.router;function m(e){return function(n){var l=((0,E.Kn)(n)?n:null)||{action:null,item:null,results:null,valid:null},i=l.action,o=l.item,r=l.results,u=l.valid;if(!1===u)return Ae.INVALID;var c=(0,Re.fA)(i,r);return function(e){var n,l=!0,i=e.action,o=e.item,r=e.results;return null!=i&&i.validations&&(null==i||null===(n=i.validations)||void 0===n||n.forEach((function(e){if(j.JF.CONFIRMATION===e)l=window.confirm("Are you sure you want to perform this action?");else if(j.JF.CUSTOM_VALIDATION_PARSERS===e){var n;null!=i&&i.validation_parsers&&(l=null==i||null===(n=i.validation_parsers)||void 0===n?void 0:n.every((function(e){var n=e.function_body,l=e.positional_argument_names;return(0,ze.Z)(Function,(0,Ue.Z)(l).concat([n]))(o,i,(null==t?void 0:t.current)||{},r)})))}}))),l}(He(He({},n),{},{action:c}))?((0,We.eM)((function(){return console.log("Executing action: ".concat(null==i?void 0:i.uuid),i,o,r,u)})),e(He(He({},n),{},{action:c}))):Ae.INVALID}}return function(e,n){var a,h=[];if(null===(a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||(null==e?void 0:e.actions)||[])||void 0===a||a.forEach((function(e,l){var a,v,g=He({},e),x=null===(a=t&&(null==t?void 0:t.current)||{})||void 0===a?void 0:a[null==g?void 0:g.uuid];x&&(null===(v=Object.entries(x||{}))||void 0===v||v.forEach((function(e){var n=(0,f.Z)(e,2),t=n[0],l=n[1];(0,E.mv)(g,t,(0,Re.Y4)(t,l))})));var b=g||{interaction:null,page:null,request:null,uuid:null},y=b.interaction,_=b.page,w=b.request,O=(b.uuid,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:null,item:null,results:null,valid:!1};e.results,e.valid});if(_){var I=_||{external:!1,openNewWindow:!1,path:null},k=I.external,C=I.open_new_window;I.path&&(O=m((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:null,item:null,results:null,valid:!1},n=e.action,t=e.item,l=(e.results,e.valid,(0,Re.cF)(null==n?void 0:n.page)),i=null;return i=k?C?window.open(l,"_blank"):window.location.href=l:C?window.open(l,"_blank"):p.push(l),(0,E.mv)(null==d?void 0:d.current,null==t?void 0:t.object_type,[{action:n,item:t,value:i}]),i})))}else if(y){var P=(y||{type:null}).type;j.wX.OPEN_FILE===P?O=m((function(e){e.results;var n=((null==g?void 0:g.interaction)||{options:null}).options;return p.push({pathname:"/files",query:{file_path:"string"==typeof(null==n?void 0:n.file_path)?encodeURIComponent(String(null==n?void 0:n.file_path)):null}})})):j.wX.CLOSE_APPLICATION===P?O=m((function(e){e.action;var n,t=e.item;e.results;return null==s||s({application:null==t||null===(n=t.metadata)||void 0===n?void 0:n.application}),Ae.SUCCESS})):j.wX.CLOSE_COMMAND_CENTER===P?O=m((function(e){e.action,e.item,e.results;return i(),Ae.SUCCESS})):j.wX.RESET_FORM===P?O=m((function(e){var n=e.item,t=new CustomEvent(Xe.mO,{detail:{actionType:j.wX.RESET_FORM,item:n}});return window.dispatchEvent(t),Ae.SUCCESS})):j.wX.SELECT_ITEM===P?O=m((function(e){var n=e.action,t=e.item,l=(e.results,((null==n?void 0:n.interaction)||{options:null}).item);if((0,E.mv)(null==d?void 0:d.current,null==t?void 0:t.object_type,[{action:n,item:t,value:l}]),r&&u){var i=(null==r?void 0:r())||[],o=null==i?void 0:i.findIndex((function(e){return e.uuid===(null==l?void 0:l.uuid)}));null==u||u(null==i?void 0:i[o],o)}else console.log("[ERROR] useExecuteActions: getItems and/or handleSelectItemRow is undefined.");return Ae.SUCCESS})):j.wX.FETCH_ITEMS===P?O=m((function(e){var n=e.action,t=((null==n?void 0:n.interaction)||{options:null}).options;return null==o||o(t),Ae.SUCCESS})):P&&null!=y&&y.element&&(O=m((function(e){var n=e.action,t=e.item,l=(e.results,(null==n?void 0:n.interaction)||{options:null}),i=l.element,o=l.options,r=[];if(null!=i&&i.id){var u=document.getElementById(null==i?void 0:i.id);r.push(u)}else if(null!=i&&i.class_name){var c=document.getElementsByClassName(null==i?void 0:i.class_name);r.push(c)}var a=null==r?void 0:r.map((function(e){var n,t;if(e)return o?null==e||null===(n=e[P])||void 0===n?void 0:n.call(e,o):null==e||null===(t=e[P])||void 0===t?void 0:t.call(e)}));return(0,E.mv)(null==d?void 0:d.current,null==t?void 0:t.object_type,[{action:n,item:t,value:a}]),Ae.SUCCESS})))}else null!=w&&w.operation&&null!=w&&w.resource&&(O=m((function(e){var i,o=e.action,r=e.item,u=e.results,a={};null!=o&&o.application_state_parsers&&(null==o||null===(i=o.application_state_parsers)||void 0===i||i.forEach((function(e){var n=e.function_body,l=e.positional_argument_names,i=(0,ze.Z)(Function,(0,Ue.Z)(l).concat([n]));a=i(r,o,(null==t?void 0:t.current)||{},a)})));return c({action:o,focusedItemIndex:n,index:l,item:r,results:u})})));h.push({action:g,actionFunction:O})})),(null==h?void 0:h.length)>=1)return function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null==h?void 0:h[t],r=o.action,u=o.actionFunction,c=r||{render_options:null},a=c.delay,d=c.render_options,s=c.request,p=c.uuid,f=new Promise((function(n,t){setTimeout((function(){n(u({action:r,item:e,results:i}))}),a||0)}));return null==f?void 0:f.then((function(o){if(void 0!==o&&Ae.INVALID===o)return Ae;var u,c=He(He({},i||{}),{},(0,l.Z)({},p,s&&(null==o?void 0:o.data)||o));return j.A.ITEMS_CONTAINER_AFTER===(null==d?void 0:d.location)&&(null==v||v({action:r,item:e,results:c})),o&&(0,E.Kn)(o)&&(null!=o&&o.error||null!=o&&null!==(u=o.data)&&void 0!==u&&u.error)?void 0:t+1<=(null==h?void 0:h.length)-1?n(t+1,c):void 0}))}(0)}}!function(e){e.INVALID="invalid",e.SUCCESS="success"}(Ae||(Ae={}));var Ve=t(83455),Je=t(5332),Qe=t(72619);function $e(e){var n=e.onSuccessCallback,t=e.showError,l=(0,Ve.Db)((function(e){var n,t=e.action,l=e.results,i=(0,Re.fA)(t,l).request,o=i.operation,r=i.payload,u=i.query,c=i.resource,a=i.resource_id,d=i.resource_parent,s=i.resource_parent_id,v=null===Je.ZP||void 0===Je.ZP?void 0:Je.ZP[c];d&&(v=null===(n=v)||void 0===n?void 0:n[d]);var p=[];s&&p.push(s),a&&p.push(a);var f=null,m=([].concat(p),{}),h=(0,E.hB)(u);if((0,E.Qr)(h)||(m.query=h),Z.CREATE===o?f=function(){var e;return null===(e=v)||void 0===e?void 0:e.useCreate.apply(e,p.concat([m]))(r)}:Z.UPDATE===o?f=function(){var e;return null===(e=v)||void 0===e?void 0:e.useUpdate.apply(e,p.concat([m]))(r)}:Z.DELETE===o?f=function(){var e;return null===(e=v)||void 0===e?void 0:e.useDelete.apply(e,p.concat([null==m?void 0:m.query]))()}:Z.DETAIL===o?f=function(){var e;return null===(e=v)||void 0===e?void 0:e.detailAsync.apply(e,p.concat([null==m?void 0:m.query]))}:Z.LIST===o&&(f=function(){var e;return null===(e=v)||void 0===e?void 0:e.listAsync.apply(e,p.concat([null==m?void 0:m.query]))}),f)return f()}),{onSuccess:function(e,l){return(0,Qe.wD)(e,{callback:function(e){var t=l.action,i=l.focusedItemIndex,o=l.index,r=void 0===o?0:o,u=l.item,c=t.request.response_resource_key,a=null==e?void 0:e[c];n&&(null==n||n(a,{action:t,focusedItemIndex:i,index:r,item:u}))},onErrorCallback:function(e,n){return null==t?void 0:t({errors:n,response:e})}})}}),i=(0,f.Z)(l,2);return{invokeRequest:i[0],isLoading:i[1].isLoading}}var en=.35,nn=s.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-jmdg8i-0"})(["display:flex;flex-direction:row;width:100%;"]),tn=s.default.div.withConfig({displayName:"indexstyle__FormStyle",componentId:"sc-jmdg8i-1"})(["position:relative;"," ",""],(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.fullWidth&&"\n    left: ".concat(P*en,"px;\n    width: ").concat(.65*P,"px;\n  ")})),ln=s.default.div.withConfig({displayName:"indexstyle__ChildrenStyle",componentId:"sc-jmdg8i-2"})([""," height:","px;overflow:auto;position:fixed;width:","px;"],O.w5,ie,P*en);function on(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function rn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?on(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):on(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function un(e){return[e.action_uuid,e.name].join(".")}var cn=function(e){var n=e.application,t=e.applicationState,o=(e.applicationsRef,e.closeCommandCenter),r=(e.executeAction,e.focusedItemIndex),u=e.item,c=e.router,a=e.showError,d=(0,i.useRef)({}),s=n||{configurations:null,settings:null,uuid:null},v=s.configurations,p=s.settings,m=(s.uuid,v||{interaction_parsers:null,requests:null}),h=m.interaction_parsers,x=m.requests,y=(0,i.useState)(null),_=y[0],w=y[1],O=(0,i.useState)(null),k=O[0],C=O[1],P=(0,i.useState)(null),S=P[0],Z=P[1],R=(0,i.useCallback)((function(e){return w((function(n){var l=e?null==e?void 0:e(n):e;return null!=t&&t.current||(t.current={}),t.current=rn(rn({},(null==t?void 0:t.current)||{}),l),l}))}),[]),T=(0,i.useCallback)((function(){var e={};null==p||p.forEach((function(n){var t=n.action_uuid,i=n.name,o=n.value;o&&(e[t]=rn(rn({},e[t]||{}),{},(0,l.Z)({},i,o)))})),R((function(){return e})),C(null),Z(null)}),[p]);(0,i.useEffect)((function(){T()}),[T]),(0,i.useEffect)((function(){x||Z({})}),[x]),(0,i.useEffect)((function(){if((null==p?void 0:p.length)>=1&&function(e){var n;return!("undefined"==typeof document||null==e||!e.current)&&(null===(n=Object.values((null==e?void 0:e.current)||{}))||void 0===n?void 0:n.every((function(e){return document.activeElement!==(null==e?void 0:e.current)})))}(d)){var e=null==p?void 0:p.find((function(e){if(!_)return!0;var n=un(e),t=(0,E.t2)(_,n);return void 0===t||!(null!=t&&t.length)}));if(e||(e=null==p?void 0:p[(null==p?void 0:p.length)-1]),e){var n=un(e);setTimeout((function(){var e,t,l;return null==d||null===(e=d.current)||void 0===e||null===(t=e[n])||void 0===t||null===(l=t.current)||void 0===l?void 0:l.focus()}),1)}}}),[p]),(0,i.useEffect)((function(){var e=function(e){var n=e.detail,t=n.actionType,l=n.item;(null==l?void 0:l.uuid)===(null==u?void 0:u.uuid)&&j.lH.RESET_FORM===t&&T()};return window.addEventListener(Xe.mO,e),function(){window.removeEventListener(Xe.mO,e)}}),[u,T]);var N=(0,i.useMemo)((function(){return null==p?void 0:p.map((function(e,n){var t,o,r,u,c=e.action_uuid,a=e.description,s=e.display_settings,v=e.label,p=e.monospace,f=e.name,m=e.options,h=e.placeholder,x=e.required,y=e.style,j=e.text,w=e.type,O=null==s?void 0:s.icon_uuid,E=un(e),P=(null==d||null===(t=d.current)||void 0===t?void 0:t[E])||(0,i.createRef)();d.current[E]=P;var S=null;if(O&&O in Le){var Z=null==Le?void 0:Le[O];S=(0,G.jsx)(Z,{})}var T,N=y||{multiline:!1,language:null},D=N.multiline,L=N.language,M={selectInput:null,textInput:null,toggleSwitch:null},F=rn(rn({},S?{afterIcon:S}:{}),{},{alignRight:!D,monospace:p,multiline:D,name:f,noBackground:!D,noBorder:!D,paddingHorizontal:D?2*I.iI:null,paddingVertical:D?2*I.iI:null,onChange:function(e){return C((function(e){return rn(rn({},e),{},(0,l.Z)({},c,rn(rn({},(null==e?void 0:e[c])||{}),{},(0,l.Z)({},f,!0))))})),R((function(n){return rn(rn({},n),{},(0,l.Z)({},c,rn(rn({},(null==n?void 0:n[c])||{}),{},(0,l.Z)({},f,e.target.value))))}))},placeholder:h,ref:P,rows:D?12:null,tabIndex:n+1,value:(null==_||null===(o=_[c])||void 0===o?void 0:o[f])||""});return F.onChange,A.bB.TEXT_FIELD===w?M.textInput=F:A.bB.DROPDOWN_MENU===w?M.selectInput=rn(rn({},F),{},{options:m}):A.bB.SWITCH===w?M.toggleSwitch=rn(rn({},F),{},{checked:!(null==F||!F.value),onCheck:function(){return null==F?void 0:F.onChange({target:{value:!(null!=F&&F.value)}})}}):A.bB.CODE===w?T=(0,G.jsx)(Be.Z,{autoHeight:!0,containerWidth:"100%",language:L,onChange:function(e){return F.onChange({target:{value:((0,Ce.Pb)(e)?JSON.parse(e):e).trim()}})},onMountCallback:function(e){P.current=e},padding:2*I.iI,selected:!0,tabSize:2,textareaFocused:!0,value:"string"==typeof(null==F?void 0:F.value)?null==F?void 0:F.value:JSON.stringify(null==F?void 0:F.value,null,2)}):!w&&j&&(T=(0,G.jsx)(g.ZP,{alignContent:"flex-end",flexDirection:"column",children:null==j?void 0:j.map((function(e){return(0,G.jsx)(b.ZP,rn(rn({rightAligned:!0},y),{},{children:e}),e)}))})),(0,i.createElement)(Ge.S,rn(rn({},M),{},{key:null==F?void 0:F.name,description:a,invalid:x&&(null==k||null===(r=k[c])||void 0===r?void 0:r[f])&&!(null!=_&&null!==(u=_[c])&&void 0!==u&&u[f]),title:v}),T)}))}),[_,k,p]),D=$e({onSuccessCallback:function(e,n){var t=n.action.uuid;n.focusedItemIndex;Z((0,l.Z)({},t,e))},showError:a}),L=D.invokeRequest,M=(D.isLoading,Ye({closeCommandCenter:o,fetchItems:null,invokeRequest:L,router:c}));(0,i.useEffect)((function(){var e;x&&M(u,r,null===(e=Object.entries(x||{}))||void 0===e?void 0:e.map((function(e){var n=(0,f.Z)(e,2),t=n[0];return{request:n[1],uuid:t}})))}),[x]);var F=(0,i.useMemo)((function(){var e,n;null!=S&&S.files&&(e=(0,G.jsx)("div",{style:{paddingBottom:8,paddingTop:8},children:null==S||null===(n=S.files)||void 0===n?void 0:n.map((function(e,n){return(0,G.jsx)(Ke.Z,{disableContextMenu:!0,file:e,level:0,onClickFolder:function(e){var n=null==h?void 0:h["files.click.folder"];if(n){var t=n.action_uuid,i=n.name;return C((function(e){return rn(rn({},e),{},(0,l.Z)({},t,rn(rn({},(null==e?void 0:e[t])||{}),{},(0,l.Z)({},i,!0))))})),R((function(n){return rn(rn({},n),{},(0,l.Z)({},t,rn(rn({},(null==n?void 0:n[t])||{}),{},(0,l.Z)({},i,e))))}))}},onlyShowFolders:!0},"".concat(e.name,"-").concat(n))}))}));return e?(0,G.jsx)(ln,{children:e}):null}),[h,S]);return(0,G.jsx)(ge,{children:(0,G.jsxs)(nn,{children:[F,(0,G.jsx)(tn,{fullWidth:!F,children:N})]})})},an=t(23192),dn=t(90299),sn=t(24138),vn=t(48381),pn=t(17717),fn=t(32013),mn=t(98777),hn=t(39236),gn=t(86735);var xn=function(e){var n=e.model,t=(0,i.useMemo)((function(){var e={},t=[],l=[],i=[],o=(null==n?void 0:n.version_control_files)||[];return null==o||o.forEach((function(n){null!=n&&n.staged?t.push(n):null!=n&&n.unstaged?l.push(n):null!=n&&n.untracked&&i.push(n),e[[n.project_uuid,n.name].join(pn.sep)]=n})),{mapping:e,staged:t,unstaged:l,untracked:i}}),[null==n?void 0:n.version_control_files]),l=t.mapping,o=t.staged,r=t.unstaged,u=t.untracked,c=(0,i.useMemo)((function(){var e=[];return(0,gn.YC)([["".concat((0,Ce._6)("file",null==o?void 0:o.length)," ready to commit"),o],[(0,Ce._6)("modified file",null==r?void 0:r.length),r],[(0,Ce._6)("new file",null==u?void 0:u.length),u]],(function(e){return e[1]})).forEach((function(n){var t,l=(0,f.Z)(n,2),i=l[0],o=l[1];null!=o&&o.length&&e.push((0,G.jsx)(mn.Z,{noBorderRadius:!0,noPaddingContent:!0,title:(0,G.jsx)(b.ZP,{default:!0,children:i}),titleXPadding:1*I.iI,titleYPadding:1*I.iI,children:(0,G.jsx)("div",{style:{padding:1*I.iI},children:null===(t=(0,gn.YC)(o,(function(e){return e.name})))||void 0===t?void 0:t.map((function(e){var n=e.name,t=e.staged,l=e.unstaged,i=e.untracked;return(0,G.jsx)(b.ZP,{danger:i,monospace:!0,small:!0,success:t,warning:l,children:n},n)}))})},i))})),e}),[o,r,u]),a=(0,i.useMemo)((function(){return(0,G.jsx)("div",{style:{paddingBottom:8,paddingTop:8},children:(0,G.jsx)(hn.Z,{files:null==n?void 0:n.files,mapping:l})})}),[l,null==n?void 0:n.files]);return(0,G.jsxs)(nn,{children:[(0,G.jsx)(ln,{children:a}),(0,G.jsx)(tn,{fullWidth:!1,children:(0,G.jsx)(fn.Z,{noBorder:!0,noBoxShadow:!0,showDividers:!0,visibleMappingForced:{0:!0,1:!0,2:!0},children:c})})]})},bn=t(19698),yn=t(44425),jn=t(3917),_n=t(89706),wn=t(57653),On=t(44265),In=t(30229),En=t(70320);function kn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function Cn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?kn(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Pn=2.5*I.iI,Sn={default:!0,large:!0,monospace:!0,rightAligned:!0};var Zn=function(e){var n=e.application,t=(e.applicationsRef,e.executeAction,e.focusedItemIndex),l=e.invokeRequest,o=e.item,r=e.itemsRef,u=(e.refError,e.removeApplication,e.router),c=(0,i.useRef)(null),a=(0,bn.Z)().status,d=null==n?void 0:n.actions,s=(0,i.useState)(null),v=s[0],p=s[1],f=(null==c?void 0:c.current)===(null==o?void 0:o.uuid)?v:null,m=(0,i.useState)(null),h=m[0],x=m[1],y=(0,i.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=d&&d.length){var i=null==d?void 0:d[e],u=new Promise((function(u){return u(l({action:i,focusedItemIndex:t,index:e,item:o,results:n}).then((function(e){var n,l=e.data;null==r||null===(n=r.current)||void 0===n||n[t];c.current=null==o?void 0:o.uuid,p((function(e){return Cn(Cn({},e),l)}))})))}));return null==u?void 0:u.then((function(t){if(e+1<=(null==d?void 0:d.length)-1)return y(e+1,Cn(Cn({},n||{}),t||{}))}))}}),[d,t,l,o]);(0,i.useEffect)((function(){y(0)}),[y]);var _=(0,i.useMemo)((function(){var e=[];return j.Xk.PIPELINE_RUN===(null==o?void 0:o.object_type)&&e.push.apply(e,[{uuid:"Overview"},{uuid:"Block runs"},{uuid:"Graph"}]),e}),[o]),w=(0,i.useMemo)((function(){if(null==_||!_.length)return null;var e=S(o);return(0,G.jsx)(dn.Z,{allowScroll:!0,contained:!0,onClickTab:function(e){null==x||x(e)},selectedTabUUID:null==h?void 0:h.uuid,tabs:_,underlineColor:null==e?void 0:e.accent,underlineStyle:!0})}),[o,h,_]);(0,i.useEffect)((function(){(null==_?void 0:_.length)>=1&&!h&&x(null==_?void 0:_[0])}),[h,_]);var O,E=(0,En.qB)();if(j.Xk.FILE===(null==o?void 0:o.object_type)){var C,P,Z,R=(null==o||null===(C=o.metadata)||void 0===C?void 0:C.file)||{extension:null,modified_timestamp:null,size:null},T=(R.extension,R.modified_timestamp),N=R.size,D=(null==f?void 0:f.file_content)||{content:null,name:null,path:null},A=D.content,M=D.name,F=D.path,B=_n.nB[null==o||null===(P=o.metadata)||void 0===P||null===(Z=P.file)||void 0===Z?void 0:Z.extension],K=(0,G.jsx)(Be.Z,{autoHeight:!0,language:B,padding:2*I.iI,readOnly:!0,value:"string"==typeof A&&A?A:""}),z=(0,jn.EP)((0,jn.Mg)(T),E);O=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(Ge.Z,{children:[(0,G.jsx)(Ge.S,{title:"Filename",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{default:!1,children:M}))}),(0,G.jsx)(Ge.S,{title:"File path",children:(0,G.jsx)("div",{style:{maxWidth:"70%"},children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{overflowWrap:!0,children:F}))})}),(0,G.jsx)(Ge.S,{title:"Language",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{children:yn.LE[B]||B}))}),(0,G.jsx)(Ge.S,{title:"Size",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{children:(0,Ce._6)("byte",N,!0)}))}),(0,G.jsx)(Ge.S,{title:"Modified",children:(0,G.jsxs)(b.ZP,Cn(Cn({},Sn),{},{children:[null==z?void 0:z.format(jn.Ob)," at ",null==z?void 0:z.format(jn.cx)]}))})]}),(0,G.jsx)("div",{style:{marginBottom:I.cd*I.iI}}),K]})}else if(j.Xk.BLOCK===(null==o?void 0:o.object_type)){var U,X,W,q,H=(null==o||null===(U=o.metadata)||void 0===U?void 0:U.block)||{file_path:null,language:null,pipelines:null,type:null},Y=H.file_path,V=H.language,J=H.pipelines,Q=H.type,$=(null==f?void 0:f.block)||{color:null,configuration:null,content:null,name:null,uuid:null},ee=$.color,ne=$.configuration,te=$.content,le=$.name,ie=$.uuid,oe=(0,G.jsx)(Be.Z,{autoHeight:!0,language:V,padding:2*I.iI,readOnly:!0,value:te});O=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(Ge.Z,{children:[(0,G.jsx)(Ge.S,{title:"Name",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{default:!1,children:le||name||ie}))}),(0,G.jsx)(Ge.S,{title:"Type",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{color:null===(X=(0,k.qn)(Q,{blockColor:ee}))||void 0===X?void 0:X.accent,children:yn.V4[Q]}))}),(0,G.jsx)(Ge.S,{title:"Language",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{children:yn.LE[V]}))}),(0,G.jsx)(Ge.S,{title:"File path",children:(0,G.jsx)("div",{style:{maxWidth:"70%"},children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{overflowWrap:!0,children:(null==ne||null===(W=ne.file_source)||void 0===W?void 0:W.path)||(null==ne?void 0:ne.file_path)||Y}))})}),(0,G.jsx)(Ge.S,{title:"Pipelines",children:(0,G.jsx)(g.ZP,{flexDirection:"column",alignItems:"flex-end",children:null===(q=(0,gn.YC)(J||[],(function(e){return e.uuid})))||void 0===q?void 0:q.map((function(e,n){var t=e.uuid;return(0,G.jsx)(L.Z,{preventDefault:!0,href:"#",large:!0,monospace:!0,onClick:function(e){e.preventDefault(),u.push("/pipelines/".concat(t,"/edit"),null,{shallow:!0})},style:{marginTop:n>=1?4:0},children:t},"".concat(t,"-").concat(n,"-link"))}))})})]}),(0,G.jsx)("div",{style:{marginBottom:I.cd*I.iI}}),oe]})}else if(j.Xk.PIPELINE===(null==o?void 0:o.object_type)){var re,ue,ce=(null==f?void 0:f.pipeline)||(null==o||null===(re=o.metadata)||void 0===re?void 0:re.pipeline)||{},ae=ce.blocks,de=ce.description,se=ce.name,ve=ce.schedules,pe=ce.tags,fe=ce.type,me=ce.updated_at,he=ce.uuid,xe=((null==o||null===(ue=o.metadata)||void 0===ue?void 0:ue.pipeline)||{}).repo_path,be=me&&(0,jn.XG)(me,E);O=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(Ge.Z,{children:[(0,G.jsx)(Ge.S,{title:"Name",children:(0,G.jsx)(b.ZP,{large:!0,rightAligned:!0,children:se||he})}),(0,G.jsx)(Ge.S,{title:"Description",children:(0,G.jsx)("div",{style:{maxWidth:"70%"},children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{disableWordBreak:!0,muted:!de,monospace:!de,children:de||"-"}))})}),(0,G.jsx)(Ge.S,{title:"Type",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{children:wn.G7[fe]}))}),(0,G.jsx)(Ge.S,{title:"Project",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!xe,children:xe||"-"}))}),(0,G.jsxs)(Ge.S,{title:"Tags",children:[(null==pe?void 0:pe.length)>=1&&(0,G.jsx)(vn.Z,{tags:null==pe?void 0:pe.map((function(e){return{uuid:e}}))}),!(null!=pe&&pe.length)&&(0,G.jsx)(b.ZP,{monospace:!0,muted:!0,children:"-"})]}),(0,G.jsx)(Ge.S,{title:"Updated at",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{children:be}))}),(0,G.jsx)(Ge.S,{title:"Triggers",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{children:(null==ve?void 0:ve.length)||0}))}),(0,G.jsx)(Ge.S,{title:"Blocks",children:(0,G.jsx)(g.ZP,{alignItems:"flex-end",flexDirection:"column",children:null==ae?void 0:ae.map((function(e,n){var t=e.color,l=e.type,i=e.uuid,o=((0,k.qn)(l,{blockColor:t})||{accent:null}).accent;return(0,G.jsx)(L.Z,{block:!0,color:o,preventDefault:!0,href:"#",large:!0,monospace:!0,onClick:function(e){e.preventDefault(),u.push("/pipelines/".concat(he,"/edit?block_uuid=").concat(i),null,{shallow:!0})},style:{marginTop:n>=1?4:null},children:i},"".concat(i,"-").concat(n,"-link"))}))})})]}),(0,G.jsx)(sn.ZP,{disabled:!0,enablePorts:!1,height:50*I.iI,pannable:!1,pipeline:{blocks:ae,uuid:he},zoomable:!1})]})}else if(j.Xk.TRIGGER===(null==o?void 0:o.object_type)){var ye,je,_e,we=(null==f?void 0:f.pipeline_schedule)||(null==o||null===(ye=o.metadata)||void 0===ye?void 0:ye.pipeline)||{},Oe=we.description,Ie=(we.global_data_product_uuid,we.id,we.name),Ee=we.pipeline_uuid,ke=we.repo_path,Pe=we.schedule_interval,Se=we.schedule_type,Ze=(we.settings,we.sla,we.start_time),Re=we.status,Te=(we.variables,(null==f?void 0:f.pipeline_schedule)||{}),Ne=Te.next_pipeline_run_date,De=Te.pipeline_runs_count,Ae=Te.runtime_average,Me=Te.tags,Fe=Ze&&(0,jn.XG)(Ze,E),Ke=Ne&&(0,jn.XG)(Ne,E),ze=null==ke||null===(je=ke.split(null==a?void 0:a.repo_path_root)[1])||void 0===je?void 0:je.slice(1);O=(0,G.jsxs)(Ge.Z,{children:[(0,G.jsx)(Ge.S,{title:"Name",children:(0,G.jsx)(b.ZP,{large:!0,muted:!Ie,rightAligned:!0,children:Ie})}),(0,G.jsx)(Ge.S,{title:"Description",children:(0,G.jsx)("div",{style:{maxWidth:"70%"},children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{disableWordBreak:!0,muted:!Oe,monospace:!Oe,children:Oe||"-"}))})}),(0,G.jsx)(Ge.S,{title:"Type",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{monospace:!1,muted:!Se,children:(0,Ce.kC)((null===(_e=In.Z4[Se])||void 0===_e?void 0:_e.call(In.Z4))||"")}))}),(0,G.jsx)(Ge.S,{title:"Frequency",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!Pe,children:Pe}))}),(0,G.jsx)(Ge.S,{title:"Status",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{danger:In.fq.INACTIVE===Re,muted:!Re,success:In.fq.ACTIVE===Re,children:(0,Ce.kC)(Re||"")}))}),(0,G.jsxs)(Ge.S,{title:"Tags",children:[(null==Me?void 0:Me.length)>=1&&(0,G.jsx)(vn.Z,{tags:null==Me?void 0:Me.map((function(e){return{uuid:e}}))}),!(null!=Me&&Me.length)&&(0,G.jsx)(b.ZP,{monospace:!0,muted:!0,children:"-"})]}),(0,G.jsx)(Ge.S,{title:"Pipeline",children:(0,G.jsx)(L.Z,{block:!0,preventDefault:!0,href:"#",large:!0,monospace:!0,onClick:function(e){e.preventDefault(),u.push("/pipelines/".concat(Ee,"/edit"),null,{shallow:!0})},children:Ee})}),(0,G.jsx)(Ge.S,{title:"Project",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{monospace:!ke,muted:!ke,children:(null==ke?void 0:ke.length)>=1?(null==ze?void 0:ze.length)>=1?ze:null==a?void 0:a.repo_path_relative:"-"}))}),(0,G.jsx)(Ge.S,{title:"Start",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!Fe,children:Fe||"-"}))}),(0,G.jsx)(Ge.S,{title:"Next run",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!Ke,children:Ke||"-"}))}),(0,G.jsx)(Ge.S,{title:"Runs",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!De,children:De||0}))}),(0,G.jsx)(Ge.S,{title:"Average time",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!Ae,children:Ae?(0,Ce._6)("second",Ae,!0):"-"}))})]})}else if(j.Xk.PIPELINE_RUN===(null==o?void 0:o.object_type)){var Ue,Xe,We=(null==o?void 0:o.metadata)||{pipeline_run:{},trigger:{}},qe=We.pipeline_run,He=We.trigger,Ye=(null==f?void 0:f.pipeline_run)||qe||{},Ve=Ye.completed_at,Je=Ye.execution_date,Qe=Ye.id,$e=Ye.passed_sla,en=Ye.pipeline_schedule_id,nn=Ye.pipeline_uuid,tn=Ye.started_at,ln=Ye.status,on=(He||{}).name;O=(0,G.jsxs)(G.Fragment,{children:[w,"Overview"===(null==h?void 0:h.uuid)&&(0,G.jsxs)(Ge.Z,{borderless:!0,noBackground:!0,children:[(0,G.jsx)(Ge.S,{title:"Trigger ".concat(en),children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{default:!1,muted:!on,children:on}))}),(0,G.jsx)(Ge.S,{title:"Run ID",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!Qe,rightAligned:!0,children:Qe}))}),(0,G.jsx)(Ge.S,{title:"Pipeline",children:(0,G.jsx)(L.Z,{block:!0,preventDefault:!0,href:"#",large:!0,monospace:!0,onClick:function(e){e.preventDefault(),u.push("/pipelines/".concat(nn,"/edit"),null,{shallow:!0})},children:nn})}),(0,G.jsx)(Ge.S,{title:"Status",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{danger:On.VO.FAILED===ln,muted:!ln,success:On.VO.COMPLETED===ln,warning:On.VO.CANCELLED===ln,children:On.Do[ln]||"-"}))}),(0,G.jsx)(Ge.S,{title:"Execution date",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!Je,children:Je||"-"}))}),(0,G.jsx)(Ge.S,{title:"Started at",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!tn,children:tn||"-"}))}),(0,G.jsx)(Ge.S,{title:"Completed at",children:(0,G.jsx)(b.ZP,Cn(Cn({},Sn),{},{muted:!Ve,children:Ve||"-"}))}),(0,G.jsx)(Ge.S,{title:"Passed SLA",children:$e?(0,G.jsx)(Le.AlertTriangle,{danger:!0,size:Pn}):(0,G.jsx)(Le.Check,{size:Pn,success:!0})})]}),"Block runs"===(null==h?void 0:h.uuid)&&(null==f||null===(Ue=f.block_runs)||void 0===Ue?void 0:Ue.length)>=1&&(0,G.jsx)(an.ZP,{blockRuns:null==f?void 0:f.block_runs,pipeline:{blocks:null==f?void 0:f.blocks,uuid:nn}}),"Graph"===(null==h?void 0:h.uuid)&&(null==f||null===(Xe=f.blocks)||void 0===Xe?void 0:Xe.length)>=1&&(0,G.jsx)(sn.ZP,{disabled:!0,enablePorts:!1,height:50*I.iI,pannable:!1,pipeline:{blocks:null==f?void 0:f.blocks,uuid:nn},zoomable:!1})]})}else j.Xk.VERSION_CONTROL_FILE===(null==o?void 0:o.object_type)&&(O=(0,G.jsx)(xn,{model:f}));return(0,G.jsx)(ge,{children:O})};function Rn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function Tn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rn(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Nn=function(e){var n=(0,Fe.Z)({},e),t=n||{applicationsRef:null,item:null},l=t.application,i=(t.applicationsRef,t.item,null==l?void 0:l.application_type);return j.oY.DETAIL===i?(0,G.jsx)(Zn,Tn({},n)):j.oY.FORM===i?(0,G.jsx)(cn,Tn({},n)):null},Dn=t(89565),Ln=t.n(Dn);var An=function(e){e.action;var n,t=e.actionResults,l=e.item,i=(e.results,l.object_type);if([j.Xk.BRANCH,j.Xk.PROJECT,j.Xk.REMOTE,j.Xk.VERSION_CONTROL_FILE].includes(i)){var o,r=null==t?void 0:t[i],u=null==r?void 0:r[(null==r?void 0:r.length)-1],c=null==u||null===(o=u.value)||void 0===o?void 0:o.output;if(c){Array.isArray(c)||(console.log("Output is not an array: ",c),c=[String(c)]);var a=c.map((function(e,n){return(0,G.jsx)(b.ZP,{monospace:!0,preWrap:!0,small:!0,children:(0,G.jsx)(Ln(),{children:e})},"".concat(e,"-").concat(n))}));n=(0,G.jsx)("div",{children:a})}}return(0,G.jsx)(be,{children:n})};function Mn(e,n){var t,l,i,o,r,u,c,a,d=e.className,s=e.item,v=e.onClick,p=s.description,f=s.display_settings_by_attribute,m=(s.metadata,s.subtitle),y=s.title,j=f||{description:null,subtitle:null},_=j.description,w=j.subtitle,O=(0,Pe.q)(s),E=S(s),k=E.accent,C=E.useStroke,P=m||(0,Re.P3)(s,!0),Z=(null!=_&&null!==(t=_.text_styles)&&void 0!==t&&t.monospace?100:150)-(1.75*((null==y?void 0:y.length)||0)+((null==P?void 0:P.length)||0)),R=p;((null==p?void 0:p.length)||0)>Z&&(R="".concat(null===(a=R)||void 0===a?void 0:a.slice(0,Z),".."));return(0,G.jsx)(N,{className:d,onClick:v,ref:n,children:(0,G.jsxs)(g.ZP,{alignItems:"center",fullHeight:!0,justifyContent:"space-between",children:[(0,G.jsxs)(h.Z,{alignItems:"center",flex:1,children:[O&&(0,G.jsx)(O,{fill:C?null:k,stroke:C?k:null,size:2*I.iI}),(0,G.jsx)("div",{style:{marginRight:1.5*I.iI}}),(0,G.jsx)(b.ZP,{noWrapping:!0,weightStyle:4,children:y}),(0,G.jsx)(x.Z,{mr:I.cd}),p&&(0,G.jsx)(b.ZP,{default:!0,monospace:null==_||null===(l=_.text_styles)||void 0===l?void 0:l.monospace,small:!(null!=_&&null!==(i=_.text_styles)&&void 0!==i&&i.regular),children:R})]}),(0,G.jsx)(b.ZP,{monospace:null==w||null===(o=w.text_styles)||void 0===o?void 0:o.monospace,small:!(null!=w&&null!==(r=w.text_styles)&&void 0!==r&&r.regular),muted:void 0===(null==w||null===(u=w.text_styles)||void 0===u?void 0:u.muted)||(null==w||null===(c=w.text_styles)||void 0===c?void 0:c.muted),children:P})]})})}var Fn=i.forwardRef(Mn),Bn=t(81106),Kn=t(65927),Gn=t(54277),zn=t(29314);function Un(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function Xn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Un(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Un(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Wn=t(316),qn=t(64314),Hn=t(53808);function Yn(){return(0,Hn.U2)(qn.Fn)}var Vn=t(42041),Jn=t(23780),Qn=t(44688),$n=t(5763);function et(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function nt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?et(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):et(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var tt=function(e){var n,t,l=e.router||(0,m.useRouter)(),o=(0,Jn.VI)(null,{},[],{uuid:W}),r=(0,f.Z)(o,3),u=r[0],c=(r[1],r[2]),a=(0,i.useRef)({}),d=(0,i.useRef)(null),s=(0,i.useRef)(null),p=(0,i.useRef)(!1),h=(0,i.useRef)(null),g=(0,i.useRef)(null),b=(0,i.useRef)(null),y=(0,i.useRef)(null),_=(0,i.useRef)(null),w=(0,i.useRef)(null),O=(0,i.useRef)(null),k=(0,i.useRef)(null),C=(0,i.useRef)(null),P=(0,i.useRef)(null),S=(0,i.useRef)(null),Z=(0,i.useRef)(null),R=(0,i.useRef)(0),T=(0,i.useRef)(null),N=(0,i.useRef)(null),L=(0,i.useRef)(null),A=(0,i.useRef)(null),U=(0,i.useRef)(null),X=(0,i.useRef)(null),te=(0,i.useRef)(null),ie=(0,i.useRef)(null),oe=(0,i.useRef)([]),re=(0,i.useRef)(null),ue=(0,i.useRef)(null),pe=(0,i.useRef)({}),fe=(0,i.useRef)(null),ge=(0,i.useRef)({});function be(){return null==ge?void 0:ge.current}var _e=(0,i.useRef)(null),Oe=(0,i.useRef)(null),Ce=(0,i.useRef)(null),Pe=(0,i.useRef)(null),Ze=(0,i.useRef)(null),Ae=(0,i.useRef)(null),Fe=(0,i.useRef)(null),Be=(0,i.useRef)(null),Ke=(0,i.useRef)(null);function Ge(){var e;null!=k&&k.current&&(k.current.className=(0,Wn.xi)((null==k||null===(e=k.current)||void 0===e?void 0:e.className)||"",["inactive"]))}function ze(){var e;null!=k&&k.current&&(k.current.className=(0,Wn.bS)((null==k||null===(e=k.current)||void 0===e?void 0:e.className)||"",["inactive"]))}function Ue(){var e;return null==Ae||null===(e=Ae.current)||void 0===e?void 0:e[0]}function We(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return[j.oY.LIST,j.oY.DETAIL_LIST].includes(null===(e=t||Ue())||void 0===e||null===(n=e.application)||void 0===n?void 0:n.application_type)}function qe(e,n,t){t.forEach((function(t){var l,i;null!=t&&t.current&&(t.current.className=(0,Wn.bS)((null==t||null===(l=t.current)||void 0===l?void 0:l.className)||"",e),t.current.className=(0,Wn.xi)((null==t||null===(i=t.current)||void 0===i?void 0:i.className)||"",n))}))}function He(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];qe([n?"inactive":"active"],[n?"active":"inactive"],e)}function en(){var e;if(null==_||!_.current){var n=document.getElementById(V);_.current=(0,v.createRoot)(n)}var t=Ue();null==_||null===(e=_.current)||void 0===e||e.render((0,G.jsx)(Se,{application:null==t?void 0:t.application,applicationsRef:Ae,item:null==t?void 0:t.item})),He([O])}function nn(){var e=Ue();null!=P&&P.current&&(P.current.value="",P.current.placeholder=z(e))}var tn=(0,Gn.Z)({applicationState:Ke,onChangeState:function(e){Ke.current=e(null==Ke?void 0:Ke.current)}}),ln=tn.closeApplication,on=tn.renderApplications,rn=tn.startApplication;function un(){P.current.value="",oe.current=null,re.current=null,nn()}function cn(e){var n,t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipAdding:!1},o=nt({},e);if(null==i||!i.skipAdding){null===(null==Ae?void 0:Ae.current)&&(Ae.current=[]);var r=(0,Re.g$)(null==o?void 0:o.item,(null==Ae?void 0:Ae.current)||[],{beforeAddingNextApplication:!0});r&&(o.application=r,Ae.current=[o].concat(Ae.current||[]))}var a=o.application,d=o.item;null==Ae||null===(n=Ae.current)||void 0===n||n.length;if(j.oY.EXPANSION===(null==a?void 0:a.application_type))rn(o),Zn({exclude:[null==d?void 0:d.uuid],refresh:!0}),un();else if([j.oY.DETAIL,j.oY.FORM].includes(null==a?void 0:a.application_type)){var s;if(He([w,P,S,Fe,fe,T,Be]),null==Pe||!Pe.current){var p=document.getElementById(Q);Pe.current=(0,v.createRoot)(p)}null==Pe||null===(s=Pe.current)||void 0===s||s.render((0,G.jsx)(Nn,nt(nt({},o),{},{applicationState:Ke,applicationsRef:Ae,closeCommandCenter:Tn,fetchItems:Zn,getItemsActionResults:be,handleSelectItemRow:In,refError:c,removeApplication:an,router:l,showError:u}))),en()}else if(We(o)){var f;En([d]),Zn({search:null}),(null==Ae||null===(f=Ae.current)||void 0===f?void 0:f.length)>=2&&en(),He([w]),nn()}if(He([Be,T]),null==Ze||!Ze.current){var m=document.getElementById(q);Ze.current=(0,v.createRoot)(m)}null==Ze||null===(t=Ze.current)||void 0===t||t.render((0,G.jsx)(Ne,nt(nt({},o),{},{applicationState:Ke,applicationsRef:Ae,closeCommandCenter:Tn,closeOutput:wn,fetchItems:Zn,getItemsActionResults:be,handleSelectItemRow:In,refError:c,removeApplication:an,router:l})))}function an(e){var n,t,l,i,o;j.oY.EXPANSION===(null==e||null===(n=e.application)||void 0===n?void 0:n.application_type)&&ln(null==e||null===(o=e.application)||void 0===o?void 0:o.uuid);var r=(null==Ae||null===(t=Ae.current)||void 0===t?void 0:t.length)||0;if(null!==(null==Ae?void 0:Ae.current)&&r){var u=(null===(l=Ae.current)||void 0===l?void 0:l[0])||{};Ae.current=null==Ae||null===(i=Ae.current)||void 0===i?void 0:i.slice(1,r);if(r>=2){var c,a=(null===(c=Ae.current)||void 0===c?void 0:c[0])||{};We(a)&&d(),null!==(null==O?void 0:O.current)&&He([O],!0),cn(a,{skipAdding:!0})}else 1===r&&(d(),We(u)&&(ue.current=null,Zn()))}function d(){var e,n,t,l;He([w,O,P,S,fe,Fe,T,Be],!0),null==P||null===(e=P.current)||void 0===e||e.setSelectionRange(0,null==P||null===(n=P.current)||void 0===n||null===(t=n.value)||void 0===t?void 0:t.length),null==P||null===(l=P.current)||void 0===l||l.focus()}}var dn=(0,i.useRef)(null),sn=(0,i.useState)(null),vn=sn[0],pn=sn[1];function fn(){var e,n=null==_e?void 0:_e.current;if(null!==n)return null==oe||null===(e=oe.current)||void 0===e?void 0:e[n]}function mn(){var e,n,t=fn();if(null!==t)return null==pe||null===(e=pe.current)||void 0===e||null===(n=e[null==t?void 0:t.uuid])||void 0===n?void 0:n.current}function hn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||mn();e&&(e.className=(0,Wn.xi)((null==e?void 0:e.className)||"",["focused"]))}function xn(e){var n,t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null==fe?void 0:fe.current,o=(null==i||null===(n=i.getBoundingClientRect())||void 0===n?void 0:n.height)-2*le,r=((0,gn.Sm)(null===(t=Object.values((null==pe?void 0:pe.current)||{}))||void 0===t?void 0:t.map((function(e){var n,t;return(null==e||null===(n=e.current)||void 0===n||null===(t=n.getBoundingClientRect())||void 0===t?void 0:t.height)||0}))),null==i?void 0:i.scrollTop);if(null!==e){var u,c,a,d,s,v,p=null==oe||null===(u=oe.current)||void 0===u?void 0:u[e],f=0,m=0;null==oe||null===(c=oe.current)||void 0===c||null===(a=c.slice(0,e+1))||void 0===a||a.forEach((function(n,t){var l,i,o,r=null==pe||null===(l=pe.current)||void 0===l||null===(i=l[null==n?void 0:n.uuid])||void 0===i?void 0:i.current,u=(null==r||null===(o=r.getBoundingClientRect())||void 0===o?void 0:o.height)||0;f+=u,m+=u,t===e&&(m-=u)}));var h=null;f>o+r?h=f-o:m<r&&(h=r-(r-m)),null!==h&&(i.scrollTop=Math.max(h,0));var g=null==oe||null===(d=oe.current)||void 0===d?void 0:d[e];if((null==l||!l.disableFocusRemoval)&&null!==(null==_e?void 0:_e.current)){var x,b=null==oe||null===(x=oe.current)||void 0===x?void 0:x[null==_e?void 0:_e.current];(null==g?void 0:g.uuid)===(null==b?void 0:b.uuid)||hn()}_e.current=e;var y,_=null==pe||null===(s=pe.current)||void 0===s||null===(v=s[null==g?void 0:g.uuid])||void 0===v?void 0:v.current;if(_)null!=_&&null!==(y=_.className)&&void 0!==y&&y.includes("focused")||(_.className=(0,Wn.bS)((null==_?void 0:_.className)||"",["focused"]));null===(null==Oe?void 0:Oe.current)&&null!==(null==Ce?void 0:Ce.current)&&(Ce.current=null),null!=A&&A.current&&(0===e&&null===(null==Oe?void 0:Oe.current)&&null===Ce.current?A.current.innerText="Recent":A.current.innerText="Up"),null!=L&&L.current&&(null!==(null==Oe?void 0:Oe.current)||null!==Ce.current?L.current.innerText="All":null!==(null==Ae?void 0:Ae.current)?L.current.innerText="Back":L.current.innerText="Close"),null!=N&&N.current&&(N.current.innerText=p&&(0,j.wY)(p)||"Select")}}function bn(){C.current=!1,ze()}var yn=$e({onSuccessCallback:function(e,n){var t=n.action,l=(n.focusedItemIndex,n.item);(0,E.mv)(ge.current,null==l?void 0:l.object_type,[{action:t,item:l,value:e}]),be(),bn()},showError:u}).invokeRequest;function jn(e){var n,t=new AbortController,l=e.action,i=e.item,o=nt({},e);return j.Xk.BRANCH===(null==i?void 0:i.object_type)&&j.Oy.ACTION===(null==i?void 0:i.item_type)&&null!=l&&null!==(n=l.uuid)&&void 0!==n&&n.includes("push")&&setTimeout((function(){var e;t.abort(),bn(),u({errors:{messages:["Request timed out for ".concat(null==o||null===(e=o.item)||void 0===e?void 0:e.title,".")]}})}),7e3),C.current=!0,Ge(),yn(nt(nt({},e),{},{abortController:t}))}function _n(e,n,t){var l,i,o;(0,K.QM)(e);var r=null==P||null===(l=P.current)||void 0===l?void 0:l.value;(null==r?void 0:r.length)>=1&&(0,K.F0)(r,e,null==oe?void 0:oe.current);var u=(null==e||null===(i=e.applications)||void 0===i?void 0:i.length)||0,c=(0,K.Ds)();j.Oy.MODE_DEACTIVATION===(null==e?void 0:e.item_type)&&c?kn(null):j.Oy.MODE_ACTIVATION===(null==e?void 0:e.item_type)&&!c&&null!=e&&null!==(o=e.mode)&&void 0!==o&&o.type?function(e){kn(null==e?void 0:e.mode)}(e):u>=1?cn({application:null,item:e,executeAction:On,focusedItemIndex:n,invokeRequest:jn,itemsRef:oe}):t&&(null==t||t(e,n))}function wn(){He([X],!0),qe(["output-inactive"],["output-active"],[Be,T]),qe(["inactive"],["active"],[X]),te.current=null}var On=Ye({applicationState:Ke,closeCommandCenter:Tn,commandCenterState:a,fetchItems:Zn,getItems:function(){return null==oe?void 0:oe.current},handleSelectItemRow:_n,invokeRequest:jn,itemsActionResultsRef:ge,removeApplication:an,renderOutput:function(e){var n,t=e.item,l=e.action,i=e.results;if(te.current={item:t,action:l,results:i,actionResults:nt({},(null==ge?void 0:ge.current)||{})},null==U||!U.current){var o=document.getElementById(ne);U.current=(0,v.createRoot)(o)}null==U||null===(n=U.current)||void 0===n||n.render((0,G.jsx)(An,nt({},te.current))),He([X]),qe(["output-active"],["output-inactive"],[Be,T]),qe(["aactive"],["inactive"],[X])},router:l});function In(e,n,t){return _n(e,n,t||function(e,n){return On(e,n)})}function En(e){var n,t,l,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=fn(),c=mn();if(oe.current=(0,Re.re)(null!=r&&r.shouldFilter?(0,Re.MI)(null==P||null===(n=P.current)||void 0===n?void 0:n.value,e):e),null==ie||!ie.current){var a=document.getElementById(J);ie.current=(0,v.createRoot)(a)}var d=null==oe||null===(t=oe.current)||void 0===t?void 0:t[0];c&&(null==d?void 0:d.uuid)!==(null==u?void 0:u.uuid)&&hn(c),0!==(null==_e?void 0:_e.current)&&(_e.current=0);var s=null==oe||null===(l=oe.current)||void 0===l?void 0:l.map((function(e,n){var t,l=(null==pe||null===(t=pe.current)||void 0===t?void 0:t[null==e?void 0:e.uuid])||(0,i.createRef)();pe.current[null==e?void 0:e.uuid]=l;var o=[String(F.ITEM_ROW)];return 0===n&&o.push("focused"),(0,G.jsx)(Fn,{className:o.join(" "),item:e,onClick:function(t){var l;(0,Te.j)(t),(null==_e?void 0:_e.current)===n?In(e,n):xn(n),null==P||null===(l=P.current)||void 0===l||l.focus()},ref:l},e.uuid)}));return null==ie||null===(o=ie.current)||void 0===o||o.render(s),xn(0,{disableFocusRemoval:!0}),new Promise((function(e,n){return null==e?void 0:e(null==oe?void 0:oe.current)}))}function kn(e){var n,t;((0,K.PM)(e),un(),En([]),Zn(),e)&&(y.current.className=(0,Wn.bS)((null==y||null===(t=y.current)||void 0===t?void 0:t.className)||"",[null==e?void 0:e.type]));y.current.className=(0,Wn.xi)((null==y||null===(n=y.current)||void 0===n?void 0:n.className)||"",["hide"])}var Cn=function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abortControllerRef:null,onErrorCallback:null,onSuccessCallback:null,searchRef:null})||{abortControllerRef:null,onErrorCallback:null,onSuccessCallback:null,searchRef:null},t=n.abortControllerRef,l=n.onErrorCallback,o=n.onSuccessCallback,r=n.searchRef,u=(0,i.useRef)(null),c=(0,i.useRef)(null),a=(0,i.useRef)(null),d=(0,m.useRouter)(),s=(0,Ve.Db)((function(e){var n,l,i,o=e.application,u=e.item,c=e.results,a=e.search;return Je.ZP.command_center_items.useCreate({signal:null==t||null===(n=t.current)||void 0===n?void 0:n.signal})({command_center_item:{state:(0,E.hB)({application:o,applications:(0,zn.FV)(),component:null,item:u,mode:(0,K.Ds)(),page:{href:window.location.href,origin:window.location.origin,path:null==d?void 0:d.asPath,pathname:null==d?void 0:d.pathname,query:null==d?void 0:d.query,title:"undefined"!=typeof document?null===(l=document)||void 0===l?void 0:l.title:null},results:c}),timeline:(0,E.hB)({page_history:(0,K.mL)(),picks:(0,K.fo)(),search:void 0===a?null==r||null===(i=r.current)||void 0===i?void 0:i.value:a,search_history:(0,K.nO)()})}})}),{onSuccess:function(e,n){return(0,Qe.wD)(e,{callback:function(e){c.current=e,o(e,n)},onErrorCallback:l})}}),v=(0,f.Z)(s,2),p=v[0],h=v[1].isLoading,g=(0,i.useCallback)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(n||{delay:0}).delay;return clearTimeout(a.current),new Promise((function(i){a.current=setTimeout((function(){var l,o=e();null!==(null==t?void 0:t.current)&&(null==t||null===(l=t.current)||void 0===l||l.abort()),t.current=new AbortController;var r=Xn(Xn({},n),{},{uuid:o}),c=null==u?void 0:u.current;return u.current=r,null!=n&&n.refresh&&null!=u&&u.current&&(r=Xn(Xn({},c),(0,E.GL)(n,["exclude","refresh"]))),i(p(r))}),l)}))}),[p,e]);return{fetch:g,isLoading:h}}((function(){var e=((null==R?void 0:R.current)||0)+1;return R.current=e,e}),{abortControllerRef:d,onSuccessCallback:function(e,n){var t=e.command_center_item,l=n.disableRenderingCache,i=(n.exclude,n.refresh),o=n.uuid,r=(null==R?void 0:R.current)===o;if(r||i){var u=function(e){var n,t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==(n=(0,K.Ds)())&&void 0!==n&&n.disable_cache_items)return e;(0,gn.HK)(e||[],(function(e){return e.uuid}));var i=Yn()||[],o=(0,K.hg)([e||[],i||[]]),r=Number(new Date)/1e3;(0,Hn.t8)(qn.Fn,null==o||null===(t=o.filter((function(e){var n=e.settings;return void 0===(null==n?void 0:n.cache_expires_at)||null===(null==n?void 0:n.cache_expires_at)||(null==n?void 0:n.cache_expires_at)>r})))||void 0===t?void 0:t.map((function(e){return(0,E.gR)(e,["score"])})).slice(0,300));var u=null==l?void 0:l.filterCachedItems;return u?(0,K.hg)([e||[],u(i||[])||[]]):o}((null==t?void 0:t.items)||[],{filterCachedItems:function(e){var n;return!l&&(0,Re.MI)(null==P||null===(n=P.current)||void 0===n?void 0:n.value,e)}});r&&(null===(null==re?void 0:re.current)&&(re.current=u),We()&&null===(null==ue?void 0:ue.current)&&(ue.current=u)),b.current=(0,K.MK)((null==t?void 0:t.settings)||{}),En(u)}},onErrorCallback:function(e,n){return u({errors:n,response:e})},searchRef:P}),Pn=Cn.fetch,Sn=Cn.isLoading;function Zn(){var e=nt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),n=Ue();return We(n)&&(e=(0,E.Ee)({disableRenderingCache:!0},n,e)),Pn(e)}function Rn(){[d,s].forEach((function(e){var n;null!=e&&e.current&&(null==e||null===(n=e.current)||void 0===n||n.abort())}))}function Tn(){var e,n;y.current.className=(0,Wn.bS)((null==y||null===(e=y.current)||void 0===e?void 0:e.className)||"",["hide"]),h.current=null,null==P||null===(n=P.current)||void 0===n||n.blur(),p.current=!1,ze(),Rn();var t=new CustomEvent(Xe.Mt,{detail:{state:j.WH.CLOSED}});window.dispatchEvent(t)}function Dn(){var e,n,t;y.current.className=(0,Wn.xi)((null==y||null===(e=y.current)||void 0===e?void 0:e.className)||"",["hide"]),null==P||null===(n=P.current)||void 0===n||n.focus(),p.current=!0,(null==oe||null===(t=oe.current)||void 0===t?void 0:t.length)>=1?null===(null==_e?void 0:_e.current)&&xn(0):Zn(),ze(),Rn();var l=new CustomEvent(Xe.Mt,{detail:{state:j.WH.OPEN}});window.dispatchEvent(l)}(0,i.useEffect)((function(){Sn?Ge():ze()}),[Sn]);var Ln=(0,Qn.y)(),Mn=(Ln.disableGlobalKeyboardShortcuts,Ln.registerOnKeyDown),Un=Ln.registerOnKeyUp,et=Ln.unregisterOnKeyDown,tt=Ln.unregisterOnKeyUp;return(0,i.useEffect)((function(){return function(){et(W),tt(W)}}),[et,tt]),Un(W,(function(e){dn.current=null}),[]),Mn(W,(function(e,n,t){var l,i,o,r,u,a=!1;if(((null==(u=null===(l=(0,K.MK)((null==b?void 0:b.current)||{}))||void 0===l||null===(i=l.interface)||void 0===i||null===(o=i.keyboard_shortcuts)||void 0===o||null===(r=o.main)||void 0===r?void 0:r.filter((function(e){return(null==e?void 0:e.length)>=1})))?void 0:u.length)>=1?null==u?void 0:u.every((function(e){return null==n?void 0:n[e]})):[M.IT,M.cP].every((function(e){return null==n?void 0:n[e]}))||[M.Ch,M.cP].every((function(e){return null==n?void 0:n[e]})))&&((0,Te.j)(e),null!=p&&p.current?Tn():Dn()),null!=p&&p.current){if(null!=te&&te.current&&(0,Vn.y)([M.PQ,M.VS],n,{allowExtraKeys:0}))wn();else if((null==Ae||null===(g=Ae.current)||void 0===g?void 0:g.length)>=1){var d,s=Ue(),v=null===(d=s||{})||void 0===d?void 0:d.application;if(!(0,Vn.y)([M.vP],n,{allowExtraKeys:0})||null!=c&&c.current){if(v&&(null==c||!c.current)){var f,m=!1;null==v||null===(f=v.buttons)||void 0===f||f.forEach((function(t){var l=t.keyboard_shortcuts;null==l||l.forEach((function(l){if((0,Vn.y)(l,n,{allowExtraKeys:1}))return(0,Te.j)(e),m||(m=!0,a=!0),(0,Re.G9)(nt(nt({},s),{},{closeCommandCenter:Tn,button:t,fetchItems:Zn,getItemsActionResults:be,handleSelectItemRow:In,itemsRef:oe,refError:c,removeApplication:an}))}))})),m||We(s)&&(a=!1)}}else(0,Te.j)(e),a=!0,an()}var g;if(B.MAIN===(null==h?void 0:h.current)&&!a){var x,y,j,_=null==_e?void 0:_e.current;if((0,Vn.y)([M.vP],n,{allowExtraKeys:0})&&(null==c||!c.current))return(0,Te.j)(e),(null==P||null===(x=P.current)||void 0===x||null===(y=x.value)||void 0===y?void 0:y.length)>=1?(P.current.value="",null===(null==Oe?void 0:Oe.current)&&null===(null==Ce?void 0:Ce.current)||(Oe.current=null,Ce.current=null),En((null==re?void 0:re.current)||[])):Tn();if((0,Vn.y)([M.Uq],n,{allowExtraKeys:0})&&null!==_&&(null==c||!c.current))return(0,Te.j)(e),In(null==oe||null===(j=oe.current)||void 0===j?void 0:j[_],_);if((0,Vn.y)([M.Qj],n,{allowExtraKeys:0})||(0,Vn.y)([M.Uo],n,{allowExtraKeys:0}))null!==(null==Ce?void 0:Ce.current)&&(Ce.current=null),null!==(null==Oe?void 0:Oe.current)&&(Oe.current=null);else{var w,O=null;if((0,Vn.y)([M.kD],n,{allowExtraKeys:0}))(0,Te.j)(e),null!==(null==Oe?void 0:Oe.current)&&(Ce.current=Oe.current,Oe.current=null),O=_<=(null==oe||null===(w=oe.current)||void 0===w?void 0:w.length)-2?_+1:_;else if((0,Vn.y)([M.Bu],n,{allowExtraKeys:0})){(0,Te.j)(e);var I=null===(null==dn?void 0:dn.current);if(dn.current=null==t?void 0:t[0],_>=1)O=_-1;else if((I||null!==(null==Oe?void 0:Oe.current))&&null===(null==Ce?void 0:Ce.current)){var E=(0,K.nO)()||[],k=null===(null==Oe?void 0:Oe.current)?-1:null==Oe?void 0:Oe.current;if(k<((null==E?void 0:E.length)||0)-1){k+=1,Oe.current=k;var C=null==E?void 0:E[k];C&&(null!=P&&P.current&&(P.current.value=null==C?void 0:C.searchText),null!=C&&C.items&&En((null==C?void 0:C.items)||[]))}}}if(null!==O)return xn(O)}}}}),[Zn,vn]),(0,i.useEffect)((function(){null===(null==g?void 0:g.current)&&pn((function(e){return null===e?0:e+1}));var e=new CustomEvent(Xe.Mt,{detail:{state:j.WH.MOUNTED}});window.dispatchEvent(e)}),[]),(0,i.useEffect)((function(){null!==vn&&(En(Yn(),{shouldFilter:!0}),Zn({delay:5e3}),g.current=((null==g?void 0:g.current)||0)+1)}),[vn]),(0,i.useEffect)((function(){var e=function(e){if(null!=p&&p.current){var n,t,l,i,o=!0;if(null!=y&&y.current)if(null!=y&&null!==(n=y.current)&&void 0!==n&&null!==(t=n.contains)&&void 0!==t&&t.call(n,e.target))o=!1;else{var r,u=e.clientX,c=e.clientY,a=(null==y||null===(r=y.current)||void 0===r?void 0:r.getBoundingClientRect())||{},d=a.height,s=a.width,v=a.x,f=a.y;o=u>v+s||u<v||c>f+d||c<f}if(o)Tn();else null===(null==_e?void 0:_e.current)&&(null==oe||null===(l=oe.current)||void 0===l?void 0:l.length)>=1&&xn(0),null==P||null===(i=P.current)||void 0===i||i.focus()}};return"undefined"!=typeof document&&document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),(0,i.useEffect)((function(){var e=function(){null!=p&&p.current||Dn()},n=function(e){var n,t,l,i=e.detail;[$n.s.CLOSED,$n.s.MINIMIZED].includes(null==i||null===(n=i.item)||void 0===n||null===(t=n.state)||void 0===t?void 0:t.status)&&an(null==i||null===(l=i.item)||void 0===l?void 0:l.applicationConfiguration)};return window.addEventListener(Xe.Yj,n),window.addEventListener(Xe.Or,e),function(){window.removeEventListener(Xe.Yj,n),window.removeEventListener(Xe.Or,e)}}),[]),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(ce,{className:null===(n=[null!=p&&p.current?"":"hide",(null===(t=(0,K.Ds)())||void 0===t?void 0:t.type)||""])||void 0===n?void 0:n.join(" "),ref:y,children:[(0,G.jsx)(ae,{id:ee,children:(0,G.jsxs)(de,{children:[(0,G.jsxs)(ye,{className:"inactive",id:Y,ref:w,children:[(0,G.jsx)(De.ZP,{borderLess:!0,iconOnly:!0,noBackground:!0,onClick:function(){return an()},outline:!0,children:(0,G.jsx)(Le.ArrowLeft,{size:2*I.iI})}),(0,G.jsx)(x.Z,{mr:1}),(0,G.jsx)(D.Z,{addPlusSignBetweenKeys:!0,keyTextGroups:[[M.ro]],monospace:!0}),(0,G.jsx)(x.Z,{mr:1}),(0,G.jsx)(je,{id:V,ref:O})]}),(0,G.jsx)(ve,{autoComplete:"off",className:"inactive",id:$,onBlur:function(){h.current=null},onChange:function(e){var n,t=e.target.value,l=(null==t?void 0:t.length)<(null==Z||null===(n=Z.current)||void 0===n?void 0:n.length);Z.current=t,En(We()?(null==ue?void 0:ue.current)||[]:(0,K.hg)([(null==re?void 0:re.current)||[],(null==oe?void 0:oe.current)||[],Yn()||[]]),{shouldFilter:!0}),Zn({delay:300}),l?(Ce.current=null,Oe.current=null):null!==(null==Oe?void 0:Oe.current)&&(Ce.current=Oe.current,Oe.current=null)},onFocus:function(){h.current=B.MAIN},placeholder:z(Ue()),ref:P}),(0,G.jsx)(ke,{className:"inactive",ref:S,children:(0,G.jsx)(Bn.Z,{settings:null==b?void 0:b.current})})]})}),(0,G.jsx)(me,{className:"inactive",id:J,ref:fe}),(0,G.jsx)(he,{className:"inactive",id:Q,ref:Fe}),(0,G.jsx)(xe,{className:"inactive",id:ne,ref:X}),(0,G.jsxs)(we,{children:[(0,G.jsx)(se,{className:"inactive",ref:k,children:(0,G.jsx)(Kn.Z,{width:"100%"})}),(0,G.jsx)(Ie,{className:"inactive output-inactive",id:H,ref:T,children:(0,G.jsx)(Me,{addApplication:function(e,n){return cn({application:n,executeAction:On,focusedItemIndex:null==_e?void 0:_e.current,invokeRequest:jn,item:e,itemsRef:oe})},closeCommandCenter:Tn,closeOutput:wn,handleNavigation:function(e){var n;e>=1?xn(Math.min((null==oe||null===(n=oe.current)||void 0===n?void 0:n.length)-1,(null==_e?void 0:_e.current)+e)):e<=-1&&xn(Math.max(0,(null==_e?void 0:_e.current)+e))},handleSelectItemRow:function(){var e;return In(null==oe||null===(e=oe.current)||void 0===e?void 0:e[null==_e?void 0:_e.current],null==_e?void 0:_e.current)},refFooterButtonEnter:N,refFooterButtonEscape:L,refFooterButtonUp:A})}),(0,G.jsx)(Ee,{className:"inactive output-inactive",id:q,ref:Be})]})]}),on()]})},lt=t(70613),it=t(21764),ot=s.default.div.withConfig({displayName:"ToastWrapper",componentId:"sc-1a33ph1-0"})([".Toastify__toast-container{margin-top:","px;padding:0 !important;width:500px !important;}.Toastify__toast{border-radius:","px !important;font-family:Greycliff Medium,Helvetica Neue,Helvetica,sans-serif !important;font-size:14px !important;line-height:20px !important;margin-bottom:0 !important;margin-left:0 !important;margin-right:0 !important;margin-top:","px !important;min-height:0 !important;padding:","px !important;}.Toastify__toast-body{margin:0 !important;}",""],3*I.iI,_.n_,2*I.iI,2*I.iI,(function(e){return"\n    .Toastify__toast--error {\n      background: ".concat((e.theme.accent||y.Z.accent).negative," !important;\n      color: ").concat((e.theme.content||y.Z.content).active," !important;\n    }\n    .Toastify__toast--info {\n      background: ").concat((e.theme.accent||y.Z.accent).positive," !important;\n      color: ").concat((e.theme.content||y.Z.content).active," !important;\n    }\n    .Toastify__toast--success {\n      background: ").concat((e.theme.accent||y.Z.accent).positive," !important;\n      color: ").concat((e.theme.content||y.Z.content).active," !important;\n    }\n    .Toastify__toast--warning {\n      background: ").concat((e.theme.accent||y.Z.accent).warning," !important;\n      color: ").concat((e.theme.content||y.Z.content).active," !important;\n    }\n  ")}));function rt(){return(0,G.jsx)(ot,{children:(0,G.jsx)(it.Ix,{transition:it.Mi})})}function ut(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function ct(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ut(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ut(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var at=t(77417),dt=t(66916),st=t(78419),vt=t(89538),pt=t(79633),ft=t(50178),mt=function(){throw new Error("Attempted to call useSheet outside of sheet context. Make sure your app is rendered inside SheetProvider.")},ht=i.createContext({hideSheet:mt,showSheet:mt});ht.displayName="SheetContext";var gt=t(26304),xt=t(85202),bt=t(16910),yt=t(19183),jt=["component"];function _t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function wt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_t(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ot=(0,i.memo)((function(e){return(0,e.component)((0,gt.Z)(e,jt))})),It=12*I.iI,Et=s.default.div.withConfig({displayName:"SheetRoot__ContainerStyle",componentId:"sc-1ue65ow-0"})([""," "," "," .global-sheet-enter-active{opacity:0.5;transition:all 300ms cubic-bezier(0,1,0,1);}.global-sheet-enter-done{opacity:1;transition:all 300ms cubic-bezier(0,1,0,1);}.global-sheet-exit{opacity:1;}.global-sheet-exit-active{transition:all 200ms cubic-bezier(0,1,0,1);}.global-sheet-exit-done{opacity:0.5;transition:all 200ms cubic-bezier(0,1,0,1);}.container-background-enter-active{opacity:0;transition:all 300ms cubic-bezier(0,1,0,1);}.container-background-enter-done{opacity:1;transition:all 300ms cubic-bezier(0,1,0,1);}.container-background-exit{opacity:1;}.container-background-exit-active{transition:all 200ms cubic-bezier(0,1,0,1);}.container-background-exit-done{opacity:0;transition:all 200ms cubic-bezier(0,1,0,1);}"],(function(e){return e.enterFromLeft&&"\n    .global-sheet-enter-active {\n      left: -".concat(e.maxWidth?e.maxWidth:e.width-It,"px;\n    }\n\n    .global-sheet-enter-done {\n      left: 0;\n    }\n\n    .global-sheet-exit {\n      left: 0;\n    }\n    .global-sheet-exit-done {\n      left: -").concat(e.maxWidth?e.maxWidth:e.width-It,"px;\n    }\n  ")}),(function(e){return e.enterFromRight&&"\n    .global-sheet-enter-active {\n      left: ".concat(e.width,"px;\n    }\n\n    .global-sheet-enter-done {\n      left: ").concat(e.maxWidth?e.width-e.maxWidth:It,"px;\n    }\n\n    .global-sheet-exit {\n      left: ").concat(e.maxWidth?e.width-e.maxWidth:It,"px;\n    }\n    .global-sheet-exit-done {\n      left: ").concat(e.width,"px;\n    }\n  ")}),(function(e){return e.enterFromBottom&&"\n    .global-sheet-enter-active {\n      top: ".concat(e.height,"px;\n    }\n\n    .global-sheet-enter-done {\n      top: ").concat(e.maxHeight?e.height-e.maxHeight:It,"px;\n    }\n\n    .global-sheet-exit {\n      top: ").concat(e.maxHeight?e.height-e.maxHeight:It,"px;\n    }\n    .global-sheet-exit-done {\n      top: ").concat(e.height,"px;\n    }\n  ")})),kt=s.default.div.withConfig({displayName:"SheetRoot__SheetBackgroundStyle",componentId:"sc-1ue65ow-1"})(["-webkit-tap-highlight-color:transparent;background-color:rgba(0,0,0,0.5);height:100%;touch-action:none;left:0;opacity:0;position:fixed;top:0;width:100%;z-index:151;"]),Ct=s.default.div.withConfig({displayName:"SheetRoot__SheetStyle",componentId:"sc-1ue65ow-2"})(["overflow-y:auto;position:fixed;z-index:152;"," "," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||y.Z.background).dialog,";\n  ")}),(function(e){return e.enterFromLeft&&"\n    height: ".concat(e.height,"px;\n    left: -").concat(e.maxWidth?e.maxWidth:e.width-It,"px;\n    top: 0;\n    width: ").concat(e.maxWidth?e.maxWidth:e.width-It,"px;\n  ")}),(function(e){return e.enterFromRight&&"\n    height: ".concat(e.height,"px;\n    left: ").concat(e.width,"px;\n    top: 0;\n    width: ").concat(e.maxWidth||e.width-It,"px;\n  ")}),(function(e){return e.enterFromBottom&&"\n    height: ".concat(e.maxHeight||e.height-It,"px;\n    left: 0;\n    top: ").concat(e.height,"px;\n    width: ").concat(e.width,"px;\n  ")})),Pt=(0,i.memo)((function(e){var n=e.component,t=void 0===n?i.Fragment:n,o=e.container,r=e.sheets,u=(0,i.useState)(void 0),c=u[0],a=u[1],d=(0,i.useState)({}),s=d[0],v=d[1],p=(0,yt.i)(),m=p.height,h=p.width;(0,i.useEffect)((function(){return a(o||document.body)}),[o,a]),(0,i.useEffect)((function(){var e=Object.entries(r||{}).reduce((function(e,n){var t=(0,f.Z)(n,2),i=t[0],o=t[1];return wt(wt({},e),{},(0,l.Z)({},i,o.visible))}),{});setTimeout((function(){return v(e)}),1);var n=Object.values(e).filter((function(e){return e})).length>=1;document.body.style.overflow=n?"hidden":"unset"}),[r,v]),(0,i.useEffect)((function(){return function(){document.body.style.overflow="unset"}}),[]);var g=(0,i.useCallback)((function(e){"Escape"===e.key&&(Object.entries(r||{}).forEach((function(e){var n=(0,f.Z)(e,2),t=n[0],l=n[1],i=l.hideSheet,o=l.hideSheetCallback;s[t]&&(i(t),o&&o())})),e.preventDefault())}),[r,s]);return(0,i.useEffect)((function(){return window.addEventListener("keydown",g),function(){window.removeEventListener("keydown",g)}}),[g]),c&&r?xt.createPortal((0,G.jsx)(t,{children:Object.entries(r).map((function(e){var n=(0,f.Z)(e,2),t=n[0],l=n[1],i=l.component,o=l.hideSheet,r=l.hideSheetCallback,u=l.sheetProps,c=u||{},a=c.enterFromBottom,d=c.enterFromRight,v=(null==u?void 0:u.enterFromLeft)||!(a||d),p=v||d?h-It:h,g=a?m-It:m;return(0,G.jsxs)(Et,wt(wt({enterFromLeft:v,height:m,width:h},u),{},{children:[(0,G.jsx)(bt.Z,{classNames:"global-sheet",in:s[t],timeout:300,children:(0,G.jsx)(Ct,wt(wt({enterFromLeft:v,height:m,width:h},u),{},{children:(0,G.jsx)(Ot,{component:i,height:g,width:p})}))}),(0,G.jsx)(bt.Z,{classNames:"container-background",in:s[t],timeout:300,unmountOnExit:!0,children:(0,G.jsx)(kt,{onClick:function(){o(t),r&&r()}})})]}),t)}))}),c):(0,G.jsx)("div",{})})),St=t(51638);function Zt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function Rt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zt(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Tt=function(e){var n=e.container,t=e.rootComponent,o=e.children;if(n&&!(n instanceof HTMLElement))throw new Error("\n      Container must specify DOM element to mount sheet root into.\n      This behavior has changed in 3.0.0. Please use `rootComponent` prop instead.\n    ");var r=(0,i.useState)(),u=r[0],c=r[1],a=(0,i.useCallback)((function(e,n){return c((function(t){return(0,St.f)(e,t,n)}))}),[]),d=(0,i.useCallback)((function(e,n,t,i,o){return c((function(r){return Rt(Rt({},r),{},(0,l.Z)({},e,Rt(Rt({},o),{},{component:n,hideSheet:t,sheetProps:i,visible:!0})))}))}),[]),s=(0,i.useMemo)((function(){return{showSheet:d,hideSheet:a}}),[a,d]);return(0,G.jsx)(ht.Provider,{value:s,children:(0,G.jsxs)(G.Fragment,{children:[o,(0,G.jsx)(Pt,{component:t,container:n,sheets:u})]})})},Nt=t(63055),Dt=t(69419);function Lt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function At(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Lt(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Mt="command-center-root",Ft=c()((function(){return t.e(1235).then(t.bind(t,11235))}),{ssr:!1,loadableGenerated:{webpack:function(){return[11235]}}});var Bt=function(e){console.log("render");var n=(0,i.useRef)(null),t=(0,i.useRef)(null),u=(0,i.useRef)({}),c=(0,i.useRef)([]),m=e.Component,h=e.currentTheme,g=e.pageProps,x=e.router,b=g.defaultTitle,y=g.themeProps,j=void 0===y?{}:y,_=g.title,w=(0,at.Z)(),O=w.featureEnabled,I=w.featureUUIDs,k=(0,i.useMemo)((function(){return null==O?void 0:O(null==I?void 0:I.COMMAND_CENTER)}),[O,I]),C=!0,P=(0,i.useMemo)((function(){return(0,We.xf)()}),[]),S=(0,i.useCallback)((function(){var e;k&&("undefined"!=typeof document&&(0,K.YT)({path:null==x?void 0:x.asPath,pathname:null==x?void 0:x.pathname,query:null==x?void 0:x.query,title:null===(e=document)||void 0===e?void 0:e.title}))}),[k,x]);(0,i.useEffect)((function(){setTimeout((function(){return S()}),3e3)}),[S]),(0,i.useEffect)((function(){var e=function(){var e,n;null==t||null===(e=t.current)||void 0===e||null===(n=e.complete)||void 0===n||n.call(e),S()},n=function(){var e,n;c.current={},u.current={},null==t||null===(e=t.current)||void 0===e||null===(n=e.continuousStart)||void 0===n||n.call(e)};return x.events.on("routeChangeStart",n),x.events.on("routeChangeComplete",e),function(){x.events.off("routeChangeStart",n),x.events.off("routeChangeComplete",e)}}),[c,u,x.events,S]);var Z=(0,i.useMemo)((function(){return Object.assign(Nt.rS,(null==j?void 0:j.currentTheme)||h)}),[h,j]);(0,i.useEffect)((function(){var e=function(){if(null==n||!n.current){var e=document.getElementById(Mt);n.current=(0,v.createRoot)(e)}var t;null!=n&&n.current&&(null==n||null===(t=n.current)||void 0===t||t.render((0,G.jsx)(Qn.Z.Provider,{value:B,children:(0,G.jsx)(s.ThemeProvider,{theme:Z,children:(0,G.jsx)(d.GridThemeProvider,{gridTheme:Nt.k,children:(0,G.jsx)(vt.DY,{children:(0,G.jsx)(Tt,{children:(0,G.jsx)(Jn.BC,{children:(0,G.jsx)(tt,{router:x})})})})})})})))};return window.addEventListener(Xe.YS.COMMAND_CENTER_ENABLED,e),function(){window.removeEventListener(Xe.YS.COMMAND_CENTER_ENABLED,e)}}),[]);var R=function(e,n){var t=(0,i.useState)(!1),o=t[0],r=t[1],u=(0,i.useRef)(null),c=(0,i.useMemo)((function(){return{}}),[]),a=(0,i.useMemo)((function(){return{}}),[]),d=(0,i.useMemo)((function(){return{}}),[]),s=(0,i.useMemo)((function(){return{}}),[]),v=(0,i.useCallback)((function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e&&(c[e]=t,a[e]=n)}),[c,a]),p=(0,i.useCallback)((function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e&&(d[e]=t,s[e]=n)}),[d,s]),m=(0,i.useCallback)((function(e){null==c||delete c[e],null==a||delete a[e]}),[c,a]),h=(0,i.useCallback)((function(e){null==d||delete d[e],null==s||delete s[e]}),[d,s]);return(0,i.useEffect)((function(){var t=function(t){var i;if(!(0,E.Qr)(a)||!(0,E.Qr)(s)){var o=t.altKey,r=t.ctrlKey,u=t.keyCode,c=t.metaKey,d=t.shiftKey,v=ct(ct({},e.current),{},(i={altKey:o,ctrlKey:r},(0,l.Z)(i,u,!0),(0,l.Z)(i,"metaKey",c),(0,l.Z)(i,"shiftKey",d),i)),p=[u].concat(n.current);e.current[u]||(e.current=v,n.current=p),Object.entries(a).forEach((function(e){var n=(0,f.Z)(e,2);n[0],(0,n[1])(t,v||{},p)}))}};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[a,s]),(0,i.useEffect)((function(){var t=function(t){var i;if(!(0,E.Qr)(a)||!(0,E.Qr)(s)){var o=t.altKey,r=t.ctrlKey,c=t.keyCode,d=t.metaKey,v=t.shiftKey,p=e.current,m=n.current,h=M.vk.includes(c)?{}:ct(ct({},p),{},(i={altKey:o,ctrlKey:r},(0,l.Z)(i,c,!1),(0,l.Z)(i,"metaKey",d),(0,l.Z)(i,"shiftKey",v),i));e.current=h,clearTimeout(u.current),u.current=setTimeout((function(){n.current=[]}),1e3),Object.entries(s).forEach((function(e){var n=(0,f.Z)(e,2);n[0],(0,n[1])(t,p||{},m,h||{})}))}};return window.addEventListener("keyup",t),function(){window.removeEventListener("keyup",t)}}),[a,s]),(0,i.useEffect)((function(){var t=function(){n.current=[],e.current={}};return window.addEventListener("focus",t),function(){return window.removeEventListener("focus",t)}}),[n,e]),{disableGlobalKeyboardShortcuts:o,registerOnKeyDown:v,registerOnKeyUp:p,setDisableGlobalKeyboardShortcuts:r,unregisterOnKeyDown:m,unregisterOnKeyUp:h}}(u,c),T=R.disableGlobalKeyboardShortcuts,N=R.registerOnKeyDown,D=R.registerOnKeyUp,L=R.setDisableGlobalKeyboardShortcuts,A=R.unregisterOnKeyDown,F=R.unregisterOnKeyUp,B=(0,i.useMemo)((function(){return{disableGlobalKeyboardShortcuts:T,registerOnKeyDown:N,registerOnKeyUp:D,setDisableGlobalKeyboardShortcuts:L,unregisterOnKeyDown:A,unregisterOnKeyUp:F}}),[T,N,D,L,A,F]),z=o.Z.get(ft.Dy,ft.dU),U=null==z||!(0,ft.YB)(),X=o.Z.get(ft.pG,ft.f6),W=null==X||!(0,ft.Bw)(),q=(0,bn.Z)({delay:3e3,pauseFetch:!U&&!W}).status,H=(0,i.useMemo)((function(){return null==q?void 0:q.require_user_authentication}),[q]),Y=(0,i.useMemo)((function(){return null==q?void 0:q.require_user_permissions}),[q]),V=Je.ZP.projects.list({},{revalidateOnFocus:!1}).data;(0,i.useEffect)((function(){var e;U&&null!=H&&o.Z.set(ft.Dy,H,ft.dU),W&&null!=Y&&o.Z.set(ft.pG,Y,ft.f6);var n=p.Z.isLoggedIn();if(H&&!n||401===(null==V||null===(e=V.error)||void 0===e?void 0:e.code)){var t=window.location.pathname,l=t&&t.split("/").pop();if("sign-in"!==l&&"oauth"!==l){var i=At(At({},(0,Dt.iV)()),{},{redirect_url:t});(0,Dt.nL)("/sign-in?".concat((0,Dt.uM)(i)))}}}),[V,U,W,H,Y,C]);var J=(0,i.useMemo)((function(){return(!H||p.Z.isLoggedIn())&&k}),[k,H]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Qn.Z.Provider,{value:B,children:(0,G.jsxs)(s.ThemeProvider,{theme:Z,children:[(0,G.jsx)(d.GridThemeProvider,{gridTheme:Nt.k,children:(0,G.jsx)(vt.DY,{children:(0,G.jsx)(Tt,{children:(0,G.jsxs)(Jn.BC,{children:[(0,G.jsx)(lt.Z,{defaultTitle:b,title:_,children:(0,G.jsx)("meta",{content:"width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=0",name:"viewport"})}),(0,G.jsx)(r.Z,{color:pt.hM,ref:t}),(0,G.jsx)(m,At({},g)),P&&(0,G.jsx)(Ft,{linkProps:{href:"https://github.com/mage-ai/mage-ai",label:"GET MAGE"},localStorageHideKey:st.dT,textProps:{message:"Public demo. Do not add private credentials.",warning:!0}}),J&&(0,G.jsx)(tt,{}),!J&&(0,G.jsx)("div",{id:Mt})]})})})}),(0,G.jsx)(rt,{})]})}),P&&(0,G.jsx)(a.GoogleAnalytics,{gaId:dt.TL})]})}},23192:function(e,n,t){t.d(n,{fi:function(){return z},lG:function(){return G}});var l=t(82394),i=t(75582),o=t(82684),r=t(92083),u=t.n(r),c=t(12691),a=t.n(c),d=t(34376),s=t.n(d),v=t(9518),p=t(83455),f=t(84749),m=t(41143),h=t(71180),g=t(39867),x=t(55485),b=t(48670),y=t(57653),j=t(38276),_=t(75499),w=t(30160),O=t(12468),I=t(5332),E=t(89706),k=t(11498),C=t(72473),P=t(81655),S=t(70515),Z=t(3917),R=t(55283),T=t(86735),N=t(72619),D=t(81728),L=t(74052),A=t(69419),M=t(70320),F=t(28598);function B(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?B(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var G=[0,2,4,5,6],z={0:"status",2:"block_uuid",4:"created_at",5:"started_at",6:"completed_at"};n.ZP=function(e){var n=e.blockRuns,t=e.onClickRow,l=e.pipeline,r=e.selectedRun,c=e.setErrors,d=e.sortableColumnIndexes,B=(0,M.qB)(),G=(0,o.useContext)(v.ThemeContext),z=(0,o.useState)(null),U=z[0],X=z[1],W=(0,o.useState)(null),q=W[0],H=W[1],Y=l||{},V=Y.uuid,J=Y.type,Q=(0,o.useMemo)((function(){return l.blocks||[]}),[l]),$=(0,o.useMemo)((function(){return(0,T.HK)(Q,(function(e){return e.uuid}))}),[Q]),ee=(0,o.useMemo)((function(){return y.qL.INTEGRATION===J}),[J]),ne=(0,o.useMemo)((function(){return y.qL.PYTHON===J}),[J]),te=(0,A.iV)(),le=null==te?void 0:te[P.lG.SORT_COL_IDX],ie=(0,o.useMemo)((function(){return le?{columnIndex:+le,sortDirection:(null==te?void 0:te[P.lG.SORT_DIRECTION])||P.sh.ASC}:void 0}),[te,le]),oe=(0,o.useMemo)((function(){var e,n;return null===(e=new f.Z)||void 0===e||null===(n=e.decodedToken)||void 0===n?void 0:n.token}),[]),re=(0,p.Db)((function(e){var n=e.blockUUID,t=e.pipelineRunId;return I.ZP.block_outputs.pipelines.downloads.detailAsync(null==l?void 0:l.uuid,n,{pipeline_run_id:t,token:oe},{onDownloadProgress:function(e){return X((Number((null==e?void 0:e.loaded)||0)/1e6).toFixed(3))},responseType:k.Eg.BLOB})}),{onSuccess:function(e){return(0,N.wD)(e,{callback:function(e){H(null),(0,L.uS)(e,"block_output.".concat(E.Lu.CSV))},onErrorCallback:function(e,n){return null==c?void 0:c({errors:n,response:e})}})}}),ue=(0,i.Z)(re,2),ce=ue[0],ae=ue[1].isLoading,de=(0,o.useMemo)((function(){return n.some((function(e){return!!e.completed_at}))}),[n]),se=(0,o.useMemo)((function(){return B?P.O$:{}}),[B]),ve=(0,o.useMemo)((function(){var e=[1,null,2,2,1,1,1,null],n=[{uuid:"Status"},{center:!0,uuid:"Logs"},{uuid:"Block"},{uuid:"Trigger"},K(K({},se),{},{uuid:"Created at"}),K(K({},se),{},{uuid:"Started at"}),K(K({},se),{},{uuid:"Completed at"})];return de&&(n.push({center:!0,uuid:"Runtime"}),e.push(null)),ne&&n.push({uuid:"Output"}),{columnFlex:e,columns:n}}),[ne,de,se]),pe=ve.columns,fe=ve.columnFlex;return(0,F.jsx)(_.Z,{columnFlex:fe,columns:pe,isSelectedRow:function(e){return n[e].id===(null==r?void 0:r.id)},onClickRow:t,rows:null==n?void 0:n.map((function(e){var n,t,l,i,r=e||{},c=r.block_uuid,d=r.completed_at,v=r.created_at,p=r.id,f=(r.metrics,r.pipeline_run_id),y=r.pipeline_schedule_id,_=r.pipeline_schedule_name,I=r.started_at,E=r.status,k=c,T=k.split(":"),N=q===p&&ae;ee&&(k=T[0],l=T[1],i=T[2]);var L=$[k];L||(L=$[T[0]]);var A=I&&d?u()(d).diff(u()(I),"seconds"):null,M=[(0,o.createElement)(w.ZP,K(K({},(0,P.NC)(E)),{},{key:"".concat(p,"_status")}),E),(0,F.jsx)(h.ZP,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return s().push("/pipelines/".concat(V,"/logs?block_run_id[]=").concat(p))},children:(0,F.jsx)(C.Logs,{default:!0,size:2*S.iI})},"".concat(p,"_logs")),(0,F.jsx)(a(),{as:"/pipelines/".concat(V,"/edit?block_uuid=").concat(k),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,F.jsxs)(b.Z,{bold:!0,fitContentWidth:!0,verticalAlignContent:!0,children:[(0,F.jsx)(g.Z,{color:(0,R.qn)(null===(n=L)||void 0===n?void 0:n.type,{blockColor:null===(t=L)||void 0===t?void 0:t.color,theme:G}).accent,size:1.5*S.iI,square:!0}),(0,F.jsx)(j.Z,{mr:1}),(0,F.jsxs)(w.ZP,{monospace:!0,sky:!0,children:[k,l&&":",l&&(0,F.jsx)(w.ZP,{default:!0,inline:!0,monospace:!0,children:l}),i>=0&&":",i>=0&&(0,F.jsx)(w.ZP,{default:!0,inline:!0,monospace:!0,children:i})]})]})},"".concat(p,"_block_uuid")),(0,F.jsx)(a(),{as:"/pipelines/".concat(V,"/triggers/").concat(y),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,F.jsx)(b.Z,{bold:!0,sky:!0,children:_})},"".concat(p,"_trigger")),(0,F.jsx)(w.ZP,{default:!0,monospace:!0,small:!0,title:v?(0,Z._6)(v):null,children:B?(0,Z.XG)(v,B):(0,Z.d$)(v,{includeSeconds:!0})},"".concat(p,"_created_at")),(0,F.jsx)(w.ZP,{default:!0,monospace:!0,small:!0,title:I?(0,Z._6)(I):null,children:I?B?(0,Z.XG)(I,B):(0,Z.d$)(I,{includeSeconds:!0}):(0,F.jsx)(F.Fragment,{children:"—"})},"".concat(p,"_started_at")),(0,F.jsx)(w.ZP,{default:!0,monospace:!0,small:!0,title:d?(0,Z._6)(d):null,children:d?B?(0,Z.XG)(d,B):(0,Z.d$)(d,{includeSeconds:!0}):(0,F.jsx)(F.Fragment,{children:"—"})},"".concat(p,"_completed_at")),(0,F.jsx)(w.ZP,{default:!0,monospace:!0,small:!0,children:A?(0,D.zf)(A):"-"},"".concat(p,"_runtime"))];return ne&&M.push((0,F.jsx)(x.ZP,{alignItems:"center",justifyContent:"center",children:(0,F.jsx)(O.Z,{appearBefore:!0,autoHide:!N,block:!0,forceVisible:N,label:N?"".concat(U||0,"mb downloaded..."):"Save block run output as CSV file (not supported for dynamic blocks)",size:null,children:(0,F.jsx)(h.ZP,{default:!0,disabled:!ne||!(m.V.COMPLETED===E)||ae,iconOnly:!0,loading:N,noBackground:!0,onClick:function(){X(null),H(p),ce({blockUUID:k,pipelineRunId:f})},children:(0,F.jsx)(C.Save,{default:!0,size:2*S.iI})})})},"".concat(p,"_save_output"))),M})),sortableColumnIndexes:d,sortedColumn:ie,uuid:"block-runs"})}},44265:function(e,n,t){t.d(n,{Az:function(){return s},BF:function(){return d},Do:function(){return p},IK:function(){return c},P0:function(){return i},VO:function(){return r},hn:function(){return a},sZ:function(){return v}});var l,i,o=t(82394),r=t(41143).V,u="last_run_failed",c=[r.FAILED,u,r.COMPLETED,r.RUNNING,r.CANCELLED,r.INITIAL],a=[r.FAILED,r.COMPLETED,r.RUNNING,r.CANCELLED,r.INITIAL],d=[r.INITIAL,r.RUNNING],s=[r.CANCELLED,r.COMPLETED,r.FAILED],v="__mage_variables",p=(l={},(0,o.Z)(l,u,"Last run failed"),(0,o.Z)(l,r.CANCELLED,"Cancelled"),(0,o.Z)(l,r.COMPLETED,"Done"),(0,o.Z)(l,r.FAILED,"Failed"),(0,o.Z)(l,r.INITIAL,"Ready"),(0,o.Z)(l,r.RUNNING,"Running"),l);!function(e){e.PIPELINE_UUID="pipeline_uuid[]",e.STATUS="status[]",e.TAG="pipeline_tag[]"}(i||(i={}))},31882:function(e,n,t){var l=t(9518),i=t(71180),o=t(55485),r=t(30160),u=t(44897),c=t(72473),a=t(70515),d=t(61896),s=t(28598),v=l.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||u.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||u.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((a.iI+d.Al)/2,"px;\n    height: ").concat(1.5*a.iI+d.Al,"px;\n    padding: ").concat(a.iI/1.5,"px ").concat(1.25*a.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((a.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+a.iI/2+2,"px;\n    padding: ").concat(a.iI/4,"px ").concat(a.iI,"px;\n  ")}),(function(e){return e.xsmall&&"\n    border-radius: ".concat((a.iI/1+d.Al)/1,"px;\n    height: ").concat(20,"px;\n    padding: 4px 6px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||u.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,l=e.disabled,u=e.label,d=e.monospace,p=e.onClick,f=e.primary,m=e.small,h=e.xsmall;return(0,s.jsx)(v,{border:n,primary:f,small:m,xsmall:h,children:(0,s.jsx)(i.ZP,{basic:!0,disabled:l,noBackground:!0,noPadding:!0,onClick:p,transparent:!0,children:(0,s.jsxs)(o.ZP,{alignItems:"center",children:[t,u&&(0,s.jsx)(r.ZP,{monospace:d,small:m,xsmall:h,children:u}),!l&&p&&(0,s.jsx)("div",{style:{marginLeft:2}}),!l&&p&&(0,s.jsx)(c.Close,{default:f,muted:!f,size:m?a.iI:1.25*a.iI})]})})})}}}]);