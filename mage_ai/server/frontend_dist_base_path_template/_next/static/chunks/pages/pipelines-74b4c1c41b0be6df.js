(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1221],{55072:function(e,n,t){"use strict";t.d(n,{Et:function(){return p},Q:function(){return d}});t(82684);var i=t(71180),r=t(55485),o=t(38276),u=t(31748),l=t(72473),c=t(79633),a=t(70515),s=t(28598),d=30,p=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,p=e.totalPages,f=[],h=t;if(h>p)f=Array.from({length:p},(function(e,n){return n}));else{var m=Math.floor(h/2),b=n-m;n+m>=p?(b=p-h+2,h-=2):n-m<=0?(b=0,h-=2):(h-=4,b=n-Math.floor(h/2)),f=Array.from({length:h},(function(e,n){return n+b}))}return(0,s.jsx)(s.Fragment,{children:p>0&&(0,s.jsxs)(r.ZP,{alignItems:"center",children:[(0,s.jsx)(i.ZP,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,s.jsx)(l.PaginateArrowLeft,{size:1.5*a.iI,stroke:u.Av})}),!f.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(i.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!f.includes(1)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(i.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),f.map((function(e){return(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(i.ZP,{backgroundColor:e===n&&c.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!f.includes(p-1)&&(0,s.jsxs)(s.Fragment,{children:[!f.includes(p-2)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(i.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(i.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(p-1)},children:p})},p-1)]}),(0,s.jsx)(o.Z,{ml:1}),(0,s.jsx)(i.ZP,{disabled:n===p-1,onClick:function(){return d(n+1)},children:(0,s.jsx)(l.PaginateArrowRight,{size:1.5*a.iI,stroke:u.Av})})]})})}},93808:function(e,n,t){"use strict";t.d(n,{Z:function(){return O}});var i=t(77837),r=t(26304),o=t(62243),u=t(29385),l=t(80022),c=t(13692),a=t(93189),s=t(15544),d=t(82394),p=t(38860),f=t.n(p),h=t(82684),m=t(56663),b=t.n(m),v=t(84749),g=t(34661),x=t(36105),j=t(50178),Z=t(69419),y=t(28598),C=["auth"];function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function I(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=(0,s.Z)(e);if(n){var r=(0,s.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,a.Z)(this,t)}}function O(e){return function(n){(0,c.Z)(s,n);var t,a=I(s);function s(){var e;(0,o.Z)(this,s);for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return e=a.call.apply(a,[this].concat(t)),(0,d.Z)((0,l.Z)(e),"state",{auth:new v.Z(e.props.token)}),e}return(0,u.Z)(s,[{key:"componentDidMount",value:function(){this.setState({auth:new v.Z(this.props.token)})}},{key:"render",value:function(){var n=this.props,t=(n.auth,(0,r.Z)(n,C));return(0,y.jsx)(e,P({auth:this.state.auth},t))}}],[{key:"getInitialProps",value:(t=(0,i.Z)(f().mark((function n(t){var i,r,o,u,l,c,a,s,d;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=b()(t),r=(0,j.ex)(t),o=r.id,u=i[g.Mv],l=i[x.qt],c=new v.Z(u),a=P(P({},t),{},{auth:c,currentGroupId:o,theme:l}),(0,j.YB)(t)&&c.isExpired&&(console.log("OAuth token has expired."),s=P(P({},t.query),{},{redirect_url:t.asPath}),(0,Z.nL)("/sign-in?".concat((0,Z.uM)(s)),t.res)),!e.getInitialProps){n.next=12;break}return n.next=10,e.getInitialProps(a);case 10:return d=n.sent,n.abrupt("return",P(P({},d),{},{auth:c,currentGroupId:o,theme:l}));case 12:return n.abrupt("return",a);case 13:case"end":return n.stop()}}),n)}))),function(e){return t.apply(this,arguments)})}]),s}(h.Component)}},35526:function(e,n,t){"use strict";t.d(n,{Au:function(){return s},I6:function(){return c},Nb:function(){return i},OK:function(){return a},hZ:function(){return p},k2:function(){return d}});var i,r=t(42631),o=t(72473),u=t(70515),l=t(28598),c="".concat(1.5*u.iI,"px"),a=40*u.iI,s=58;!function(e){e[e.FIRST=1]="FIRST",e[e.SECOND=2]="SECOND"}(i||(i={}));var d={autoHide:!0,size:null,widthFitContent:!0},p={afterIconSize:1.5*u.iI,beforeIcon:(0,l.jsx)(o.Search,{}),borderRadius:r.n_,defaultColor:!0,fullWidth:!0,greyBorder:!0,maxWidth:40*u.iI}},85544:function(e,n,t){"use strict";t.d(n,{Z:function(){return K}});var i=t(82394),r=t(75582),o=t(82684),u=t(81066),l=t(79757),c=t(50724),a=t(97618),s=t(55485),d=t(46732),p=t(68562),f=t(89515),h=t(38276),m=t(30160),b=t(17488),v=t(71180),g=t(69650),x=t(9518),j=t(44897),Z=t(42631),y=t(47041),C=t(70515),k=74*C.iI,P=48*C.iI,I=x.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-18n432u-0"})(["position:absolute;border-radius:","px;overflow:hidden;width:","px;display:none;"," "," "," "," ",""],Z.n_,k,(function(e){return"\n    background-color: ".concat((e.theme||j.Z).background.panel,";\n    border: ").concat(Z.mP,"px ").concat(Z.M8," ").concat((e.theme||j.Z).interactive.defaultBackground,";\n    box-shadow: ").concat((e.theme.shadow||j.Z.shadow).window,";\n  ")}),(function(e){return e.display&&"\n    display: block;\n  "}),(function(e){return e.compact&&"\n    width: ".concat(.75*k,"px;\n  ")}),(function(e){return void 0!==e.left&&"\n    left: ".concat(e.left,"px;\n  ")}),(function(e){return void 0!==e.top&&"\n    top: ".concat(e.top,"px;\n  ")})),O=x.default.div.withConfig({displayName:"indexstyle__MainStyle",componentId:"sc-18n432u-1"})(["display:flex;border-radius:","px;overflow:hidden;height:","px;"," ",""],Z.n_,P,(function(e){return"\n    background-color: ".concat((e.theme||j.Z).background.content,";\n    border: ").concat(Z.YF,"px ").concat(Z.M8," ").concat((e.theme||j.Z).interactive.defaultBackground,";\n  ")}),(function(e){return e.compact&&"\n    height: ".concat(P/2,"px;\n  ")})),w=x.default.aside.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-18n432u-2"})(["width:100%;overflow:auto;"," ",""],y.w5,(function(e){return"\n    border-right: ".concat(Z.YF,"px ").concat(Z.M8," ").concat((e.theme||j.Z).background.panel,";\n  ")})),_=x.default.div.withConfig({displayName:"indexstyle__ContentStyle",componentId:"sc-18n432u-3"})(["width:100%;overflow:auto;",""],y.w5),T=(0,x.css)(["display:flex;align-items:center;justify-content:space-between;padding:","px ","px;"],C.iI,2*C.iI),E=x.default.div.withConfig({displayName:"indexstyle__OptionStyle",componentId:"sc-18n432u-4"})([""," padding-top:","px;padding-bottom:","px;&:hover{cursor:pointer;","}",""],T,1.5*C.iI,1.5*C.iI,(function(e){return"\n      background-color: ".concat((e.theme||j.Z).monotone.black,";\n    ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme||j.Z).monotone.black,";\n  ")})),S=x.default.div.withConfig({displayName:"indexstyle__ToggleValueStyle",componentId:"sc-18n432u-5"})([""," ",""],T,(function(e){return"\n    border-bottom: ".concat(Z.YF,"px ").concat(Z.M8," ").concat((e.theme||j.Z).borders.medium2,";\n  ")})),A=t(72473),M=t(15610),D=t(11498),R=t(55072),L=t(81728),B=t(28598);function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F=function(e){var n,t,u,l=e.children,d=e.compact,p=e.onClickCallback,f=e.onClickOutside,b=e.onSecondaryClick,x=e.open,j=e.options,Z=void 0===j?{}:j,y=e.parentRef,C=e.query,k=e.resetLimitOnApply,P=e.resetPageOnApply,T=e.setOpen,N=e.toggleValueMapping,F=(0,o.useState)(null),U=F[0],$=F[1],Y=(0,o.useState)(Z),H=Y[0],V=Y[1];(0,o.useEffect)((function(){V(Z)}),[Z]);var z=((null==y||null===(n=y.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).top,q=void 0===z?0:z,K=Object.keys(Z);return(0,B.jsxs)(c.Z,{onClickOutside:f,open:!0,children:[(0,B.jsx)("div",{ref:y,children:l}),(0,B.jsxs)(I,{compact:d,display:x,top:q-5,children:[(0,B.jsxs)(O,{compact:d,children:[(0,B.jsx)(a.Z,{flex:"1",children:(0,B.jsx)(w,{children:K.map((function(e){return(0,B.jsxs)(E,{highlighted:U===e,onMouseEnter:function(){return $(e)},children:[(0,B.jsx)(m.ZP,{children:(0,L.J3)((0,L.kC)(e))}),(0,B.jsx)(A.ChevronRight,{})]},e)}))})}),(0,B.jsx)(a.Z,{flex:"2",children:(0,B.jsx)(_,{children:U&&Object.entries((null===(u=H||Z)||void 0===u?void 0:u[U])||{}).map((function(e){var n,t=(0,r.Z)(e,2),o=t[0],u=t[1],l=null==N?void 0:N[U],c=("function"==typeof(null==l?void 0:l[o])?(0,L.kC)(null==l||null===(n=l[o])||void 0===n?void 0:n.call(l)):null==l?void 0:l[o])||o;return(0,B.jsxs)(S,{children:[(0,B.jsx)(m.ZP,{title:l?null:c,width:200,children:c}),(0,B.jsx)(g.Z,{checked:u,onCheck:function(){return V((function(e){return G(G({},e),{},(0,i.Z)({},U,G(G({},null==e?void 0:e[U]),{},(0,i.Z)({},o,!u))))}))}})]},o)}))})})]}),(0,B.jsx)(h.Z,{m:1,children:(0,B.jsxs)(s.ZP,{children:[(0,B.jsx)(v.ZP,{onClick:function(){var e=Object.entries(H).reduce((function(e,n){var t=(0,r.Z)(n,2),i=t[0],o=t[1],u=[];return Object.entries(o).forEach((function(e){var n=(0,r.Z)(e,2),t=n[0];return n[1]&&u.push(t)})),e[i]=u,e}),{});null==p||p(C,e);var n={addingMultipleValues:!0,itemsPerPage:R.Q,pushHistory:!0,resetLimitParams:k,resetPage:P};null!=C&&C[D.$D.LIMIT]&&(n.itemsPerPage=+(null==C?void 0:C[D.$D.LIMIT])),(0,M.g)(C,e,n)},secondary:!0,children:"Apply"}),(0,B.jsx)(h.Z,{mr:1}),(0,B.jsx)(v.ZP,{noBackground:!0,onClick:function(){T(!1),null==b||b()},children:"Defaults"})]})})]})]})},U=t(12468),$=t(35526),Y=t(24944),H=t(42122),V=t(50178);function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K=function(e){var n=e.addButtonProps,t=e.children,i=e.deleteRowProps,v=e.extraActionButtonProps,g=e.filterOptions,x=void 0===g?{}:g,j=e.filterValueLabelMapping,Z=e.groupButtonProps,y=e.moreActionsMenuItems,k=e.onClickFilterDefaults,P=e.onFilterApply,I=e.query,O=void 0===I?{}:I,w=e.resetLimitOnFilterApply,_=e.resetPageOnFilterApply,T=e.secondaryButtonProps,E=e.searchProps,S=e.selectedRowId,M=e.setSelectedRow,D=e.showDivider,R=(0,V.Ct)(),L=(0,o.useRef)(null),N=(0,o.useRef)(null),G=(0,o.useRef)(null),z=(0,o.useRef)(null),K=(0,o.useRef)(null),Q=(0,o.useState)(!1),W=Q[0],X=Q[1],J=(0,o.useState)(!1),ee=J[0],ne=J[1],te=(0,o.useState)(!1),ie=te[0],re=te[1],oe=(0,o.useState)(!1),ue=oe[0],le=oe[1],ce=(0,o.useState)(null),ae=ce[0],se=ce[1],de=!S,pe=(0,o.useCallback)((function(){return X(!1)}),[]),fe=(0,o.useCallback)((function(){return ne(!1)}),[]),he=(0,o.useCallback)((function(){return re(!1)}),[]),me=(0,o.useCallback)((function(){return le(null)}),[]),be=(0,o.useCallback)((function(){return se(null)}),[]),ve=v||{},ge=ve.Icon,xe=ve.confirmationDescription,je=ve.confirmationMessage,Ze=ve.disabled,ye=void 0===Ze?de:Ze,Ce=ve.isLoading,ke=ve.label,Pe=ve.onClick,Ie=ve.openConfirmationDialogue,Oe=ve.tooltip,we=i||{},_e=we.confirmationMessage,Te=we.isLoading,Ee=we.item,Se=we.onDelete,Ae=E||{},Me=Ae.placeholder,De=Ae.onChange,Re=Ae.value,Le=(0,o.useMemo)((function(){return Object.entries(x).reduce((function(e,n){var t=(0,r.Z)(n,2),i=t[0],o=t[1];return e[i]={},o.forEach((function(n){var t,r=(null===(t=O["".concat(i,"[]")])||void 0===t?void 0:t.includes(n))||!1;e[i][n]=r})),e}),{})}),[x,O]),Be=n||{},Ne=Be.label,Ge=Be.menuItems,Fe=Be.onClick,Ue=Be.isLoading,$e=(0,o.useMemo)((function(){return(0,B.jsx)(u.Z,{addButtonMenuOpen:W,addButtonMenuRef:L,isLoading:Ue,label:Ne,menuItems:Ge,onClick:Fe||function(){return X((function(e){return!e}))},onClickCallback:pe})}),[Ne,Ge,W,pe,Ue,Fe]),Ye=T||{},He=Ye.beforeIcon,Ve=Ye.disabled,ze=Ye.label,qe=Ye.onClick,Ke=Ye.isLoading,Qe=Ye.tooltip,We=(0,o.useMemo)((function(){return(0,B.jsx)(p.ZP,{beforeElement:He,bold:!0,disabled:Ve,greyBorder:!0,loading:Ke,onClick:qe,outline:!0,paddingBottom:9,paddingTop:9,title:Qe,uuid:"Table/Toolbar/SecondaryButton",children:ze})}),[Ke,qe,He,Ve,ze,Qe]),Xe=(0,o.useMemo)((function(){return(0,H.dw)(Le)}),[Le]),Je=(0,o.useMemo)((function(){return(0,B.jsx)(F,{compact:!0,onClickCallback:function(e,n){P&&(null==P||P(e,n)),fe&&(null==fe||fe())},onClickOutside:fe,onSecondaryClick:k,open:ee,options:Le,parentRef:N,query:O,resetLimitOnApply:w,resetPageOnApply:_,setOpen:ne,toggleValueMapping:j,children:(0,B.jsx)(p.ZP,q(q({},u.B),{},{afterElement:Xe>0?(0,B.jsx)(l.Z,{cyan:!0,noVerticalPadding:!0,children:(0,B.jsx)(m.ZP,{bold:!0,inverted:!0,children:Xe})}):null,beforeElement:(0,B.jsx)(A.Filter,{size:2*C.iI}),onClick:function(){return ne((function(e){return!e}))},uuid:"Table/Toolbar/FilterButton",children:"Filter"}))})}),[fe,ee,Le,j,Xe,k,P,O,w,_]),en=Z||{},nn=en.groupByLabel,tn=en.menuItems,rn=(0,o.useMemo)((function(){return(0,B.jsx)(d.Z,{disableKeyboardShortcuts:!0,items:tn,onClickCallback:he,onClickOutside:he,open:ie,parentRef:G,roundedStyle:!0,topOffset:1,uuid:"Table/Toolbar/GroupMenu",children:(0,B.jsx)(p.ZP,q(q({},u.B),{},{beforeElement:(0,B.jsx)(A.Group,{size:2.5*C.iI}),onClick:function(){re((function(e){return!e}))},uuid:"Table/Toolbar/GroupButton",children:nn?"Grouped by ".concat(nn):"Group"}))})}),[he,ie,nn,tn]),on=(0,o.useMemo)((function(){return(0,B.jsx)(d.Z,{disableKeyboardShortcuts:!0,items:y,onClickCallback:me,onClickOutside:me,open:ue,parentRef:z,roundedStyle:!0,topOffset:1,uuid:"Table/Toolbar/MoreActionsMenu",children:(0,B.jsx)(U.Z,q(q({},$.k2),{},{label:"More actions",children:(0,B.jsx)(p.ZP,{Icon:A.Ellipsis,bold:!0,disabled:de,greyBorder:!0,onClick:function(){return le((function(e){return!e}))},smallIcon:!0,uuid:"Table/Toolbar/MoreActionsButton"})}))})}),[me,de,ue,y]);return(0,B.jsxs)(s.ZP,{alignItems:"center",children:[n&&$e,T&&(0,B.jsx)(h.Z,{ml:1,children:We}),t,D&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(h.Z,{ml:"12px"}),(0,B.jsx)(Y.lZ,{})]}),(n||T||t)&&(0,B.jsx)(h.Z,{mr:$.I6}),Je,(null==tn?void 0:tn.length)>0&&(0,B.jsx)(h.Z,{ml:$.I6,children:rn}),!R&&Pe&&(0,B.jsxs)(h.Z,{ml:$.I6,children:[(0,B.jsx)(U.Z,q(q({},$.k2),{},{label:Oe,children:(0,B.jsx)(p.ZP,{Icon:!Ce&&ge,bold:!0,disabled:ye,greyBorder:!0,loading:Ce,onClick:Ie?function(){return se($.Nb.FIRST)}:Pe,smallIcon:!0,uuid:"Table/Toolbar/ExtraActionButton",children:ke})})),(0,B.jsx)(c.Z,{onClickOutside:be,open:ae===$.Nb.FIRST,children:(0,B.jsx)(f.Z,{onCancel:be,onClick:function(){null==Pe||Pe(),be(),null==M||M(null)},subtitle:xe,title:je,top:$.Au,width:$.OK})})]}),!R&&Se&&(0,B.jsxs)(h.Z,{ml:$.I6,children:[(0,B.jsx)(U.Z,q(q({},$.k2),{},{label:"Delete ".concat(Ee),children:(0,B.jsx)(p.ZP,{Icon:!Te&&A.Trash,bold:!0,disabled:de,greyBorder:!0,loading:Te,onClick:function(){return se($.Nb.SECOND)},smallIcon:!0,uuid:"Table/Toolbar/DeleteButton"})})),(0,B.jsx)(c.Z,{onClickOutside:be,open:ae===$.Nb.SECOND,children:(0,B.jsx)(f.Z,{danger:!0,onCancel:be,onClick:function(){null==Se||Se(S),be(),null==M||M(null)},subtitle:_e,title:"Are you sure you want to delete the ".concat(Ee," ").concat(S,"?"),top:$.Au,width:$.OK})})]}),!R&&(null==y?void 0:y.length)>0&&(0,B.jsx)(h.Z,{ml:$.I6,children:on}),De&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(h.Z,{ml:$.I6}),(0,B.jsx)(a.Z,{flex:1,children:(0,B.jsx)(b.Z,q(q({},$.hZ),{},{afterIcon:Re?(0,B.jsx)(A.Close,{}):null,afterIconClick:function(){var e;De(""),null==K||null===(e=K.current)||void 0===e||e.focus()},onChange:function(e){return De(e.target.value)},paddingVertical:9,placeholder:Me||null,ref:K,value:Re}))})]})]})}},8666:function(e,n,t){"use strict";var i;t.d(n,{b:function(){return i}}),function(e){e.BLOCK="block",e.PIPELINE="pipeline"}(i||(i={}))},30229:function(e,n,t){"use strict";t.d(n,{PN:function(){return l},TR:function(){return h},U5:function(){return a},Wb:function(){return f},Xm:function(){return o},Z4:function(){return s},fq:function(){return c},gm:function(){return d},kJ:function(){return p}});var i,r,o,u=t(82394),l="__bookmark_values__";!function(e){e.API="api",e.EVENT="event",e.TIME="time"}(o||(o={}));var c,a,s=(i={},(0,u.Z)(i,o.API,(function(){return"API"})),(0,u.Z)(i,o.EVENT,(function(){return"event"})),(0,u.Z)(i,o.TIME,(function(){return"schedule"})),i);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(c||(c={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly",e.ALWAYS_ON="@always_on"}(a||(a={}));var d,p,f=[a.ONCE,a.HOURLY,a.DAILY,a.WEEKLY,a.MONTHLY];!function(e){e.INTERVAL="frequency[]",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(d||(d={})),function(e){e.CREATED_AT="created_at",e.NAME="name",e.PIPELINE="pipeline_uuid",e.STATUS="status",e.TYPE="schedule_type"}(p||(p={}));var h=(r={},(0,u.Z)(r,p.CREATED_AT,"Created at"),(0,u.Z)(r,p.NAME,"Name"),(0,u.Z)(r,p.PIPELINE,"Pipeline"),(0,u.Z)(r,p.STATUS,"Active"),(0,u.Z)(r,p.TYPE,"Type"),r)},31882:function(e,n,t){"use strict";var i=t(9518),r=t(71180),o=t(55485),u=t(30160),l=t(44897),c=t(72473),a=t(70515),s=t(61896),d=t(28598),p=i.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||l.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||l.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((a.iI+s.Al)/2,"px;\n    height: ").concat(1.5*a.iI+s.Al,"px;\n    padding: ").concat(a.iI/1.5,"px ").concat(1.25*a.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((a.iI/2+s.Al)/2,"px;\n    height: ").concat(s.Al+a.iI/2+2,"px;\n    padding: ").concat(a.iI/4,"px ").concat(a.iI,"px;\n  ")}),(function(e){return e.xsmall&&"\n    border-radius: ".concat((a.iI/1+s.Al)/1,"px;\n    height: ").concat(20,"px;\n    padding: 4px 6px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||l.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,i=e.disabled,l=e.label,s=e.monospace,f=e.onClick,h=e.primary,m=e.small,b=e.xsmall;return(0,d.jsx)(p,{border:n,primary:h,small:m,xsmall:b,children:(0,d.jsx)(r.ZP,{basic:!0,disabled:i,noBackground:!0,noPadding:!0,onClick:f,transparent:!0,children:(0,d.jsxs)(o.ZP,{alignItems:"center",children:[t,l&&(0,d.jsx)(u.ZP,{monospace:s,small:m,xsmall:b,children:l}),!i&&f&&(0,d.jsx)("div",{style:{marginLeft:2}}),!i&&f&&(0,d.jsx)(c.Close,{default:h,muted:!h,size:m?a.iI:1.25*a.iI})]})})})}},55620:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Me}});var i=t(77837),r=t(75582),o=t(21831),u=t(82394),l=t(38860),c=t.n(l),a=t(12691),s=t.n(a),d=t(82684),p=t(83455),f=t(34376),h=t(52749),m=t(60523),b=t(71180),v=t(90299),g=t(31882),x=t(76111),j=t(94629),Z=t(97618),y=t(55485),C=t(68562),k=t(65956),P=t(38276),I=t(30160),O=t(35576),w=t(17488),_=t(28598);var T=function(e){var n=e.description,t=e.isLoading,i=e.maxWidth,r=e.minWidth,o=e.noEmptyValue,u=e.onClose,l=e.onSave,c=e.textArea,a=e.title,s=e.value,p=(0,d.useRef)(null),f=(0,d.useState)(s),h=f[0],m=f[1],v=c?O.Z:w.Z;return(0,d.useEffect)((function(){var e;null==p||null===(e=p.current)||void 0===e||e.focus()}),[]),(0,_.jsxs)(k.Z,{maxWidth:i,minWidth:r,children:[(0,_.jsx)(I.ZP,{bold:!0,children:a}),(0,_.jsx)(P.Z,{mt:1,children:(0,_.jsx)(v,{monospace:!0,onChange:function(e){return m(e.target.value)},ref:p,rows:c?7:null,value:h})}),n&&(0,_.jsx)(P.Z,{mt:2,children:(0,_.jsx)(I.ZP,{muted:!0,small:!0,children:n})}),(0,_.jsx)(P.Z,{mt:3,children:(0,_.jsxs)(y.ZP,{children:[(0,_.jsx)(C.ZP,{bold:!0,inline:!0,loading:t,onClick:function(){h===s||o&&!h?u():l(h)},outline:!0,primary:!0,uuid:"Inputs/InputModal/SaveInput",children:"Save"}),(0,_.jsx)(P.Z,{ml:1}),(0,_.jsx)(b.ZP,{onClick:u,children:"Cancel"})]})})]})},E=t(48670),S=t(55072),A=t(57653),M=t(55729),D=t(93808),R=t(82359),L=t(44085),B=t(4190),N=t(75499),G=t(48381),F=t(85544),U=t(70026),$=t(5332),Y=t(44897),H=t(77417),V=t(42631),z=t(44425),q=t(72473),K=t(23780),Q=t(8666),W=t(46684),X=t(53808),J="pipeline_list_filters",ee="pipeline_list_group_bys",ne="pipeline_list_sort_column_index",te="pipeline_list_sort_direction",ie="pipeline_list_selected_tab_uuid";function re(e){return(0,X.t8)(J,e),e}function oe(e){return(0,X.t8)(ee,e),e}var ue=t(11498),le=t(32929),ce=t(44898),ae=t(70515),se=t(30229),de=t(81655),pe=t(31608),fe=t(81728),he=t(3917),me=t(72619),be=t(69419),ve=t(65458),ge=t(15610),xe=t(42122),je=t(95924),Ze=t(86735),ye=t(70320),Ce=t(89538),ke=t(44952);function Pe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pe(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Oe={Icon:q.Schedule,label:function(){return"Recently viewed"},uuid:"recent"},we={Icon:q.PipelineV3,label:function(e){return null!=e&&e.count?"All pipelines › ".concat((null==e?void 0:e.count)||0):"All pipelines"},uuid:"all"},_e=[we,Oe],Te="tab",Ee=[A.$1.SEARCH],Se={borderRadius:"".concat(V.BG,"px"),iconOnly:!0,noBackground:!0,noBorder:!0,outline:!0,padding:"4px"};function Ae(){var e,n=(0,f.useRouter)(),t=(0,d.useRef)(null),i=(0,d.useRef)(null),l=(0,d.useRef)(null),c=(0,d.useRef)(null),a=(0,H.Z)(),C=a.fetchProjects,O=a.project,w=(0,d.useState)(null),D=w[0],V=w[1],Pe=(0,d.useState)(null),Ae=Pe[0],Me=Pe[1],De=(0,d.useState)(null),Re=De[0],Le=De[1],Be=(0,d.useCallback)((function(e){Le(e),clearTimeout(c.current),c.current=setTimeout((function(){var n;return(0,ge.u)((n={},(0,u.Z)(n,ue.$D.OFFSET,0),(0,u.Z)(n,A.$1.SEARCH,e),n))}),500)}),[Le]),Ne=(0,d.useState)({}),Ge=Ne[0],Fe=Ne[1],Ue=(0,d.useState)(null),$e=Ue[0],Ye=Ue[1],He=(0,be.iV)(),Ve=Ie({},(0,be.DQ)(He,[A.$1.SEARCH,A.$1.STATUS,A.$1.TAG,A.$1.TYPE].concat((0,o.Z)(ue.RG)))),ze=(0,d.useMemo)((function(){return null==He?void 0:He[Te]}),[He]);(0,d.useEffect)((function(){var e;V(null==t||null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().height)}),[He,t]);var qe=(0,d.useMemo)((function(){var e;return(0,ye.hY)(null==O||null===(e=O.features)||void 0===e?void 0:e[R.d.LOCAL_TIMEZONE])}),[null==O?void 0:O.features]),Ke=(0,d.useMemo)((function(){var e;return null==O||null===(e=O.features)||void 0===e?void 0:e[R.d.OPERATION_HISTORY]}),[O]),Qe=(0,d.useMemo)((function(){return qe?de.O$:{}}),[qe]),We=$.ZP.pipelines.list(Ie(Ie({},Ve),{},{include_schedules:1}),{revalidateOnFocus:!1}),Xe=We.data,Je=We.mutate,en=(0,d.useMemo)((function(){return(null==He?void 0:He[A.$1.HISTORY_DAYS])||7}),[He]),nn=$.ZP.pipelines.list(Ie(Ie({},Ve),{},(e={},(0,u.Z)(e,A.$1.HISTORY_DAYS,(0,fe.HW)(en)?Number(en):en),(0,u.Z)(e,"include_schedules",1),e)),{},{pauseFetch:!Ke||!ze||Oe.uuid!==ze}),tn=nn.data,rn=nn.mutate,on=(0,d.useCallback)((function(e){return e}),[]),un=(0,d.useMemo)((function(){var e=on((null==Xe?void 0:Xe.pipelines)||[]);if(null!=He&&He[A.$1.TAG]){var n=He[A.$1.TAG];e=e.filter((function(e){var t=e.tags;return t.some((function(e){return n.includes(e)}))||0===t.length&&n.includes(A.$1.NO_TAGS)}))}return e}),[Xe,on,He]),ln=(0,d.useMemo)((function(){return on((null==tn?void 0:tn.pipelines)||[])}),[tn,on]),cn=(0,d.useMemo)((function(){return[1,2,3,4,5,6,8,9]}),[]),an=null==He?void 0:He[de.lG.SORT_COL_IDX],sn=null==He?void 0:He[de.lG.SORT_DIRECTION],dn=(0,d.useMemo)((function(){return an?{columnIndex:+an,sortDirection:sn||de.sh.ASC}:void 0}),[an,sn]),pn=null==He?void 0:He[A.$1.GROUP],fn=(0,p.Db)((function(e){var n=e.pipelineUUID,t=e.filesOnly,i=void 0!==t&&t;return $.ZP.downloads.pipelines.useCreate(n)({download:{ignore_folder_structure:i}})}),{onSuccess:function(e){return(0,me.wD)(e,{callback:function(){var n=e.data.download.token;(0,ke.K)(n)},onErrorCallback:function(e,n){return Ye({errors:n,response:e})}})}}),hn=(0,r.Z)(fn,1)[0];(0,d.useEffect)((function(){null!=Ve&&Ve[A.$1.SEARCH]&&null===Re&&Le(null==Ve?void 0:Ve[A.$1.SEARCH])}),[Ve,Re,Le]),(0,d.useEffect)((function(){var e,n={};if(!an){var t=(0,X.U2)(ne,null),i=(0,X.U2)(te,de.sh.ASC);null!==t&&(n[de.lG.SORT_COL_IDX]=t,n[de.lG.SORT_DIRECTION]=i)}Ke&&(ze?(0,X.t8)(ie,ze):n[Te]=(0,X.U2)(ie,null==_e||null===(e=_e[0])||void 0===e?void 0:e.uuid));if(pn)oe((0,u.Z)({},pn,!0));else{var o,l=(0,X.U2)(ee,{});l&&Object.entries(l).forEach((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];!o&&i&&(o=t)})),o&&(n[A.$1.GROUP]=o)}if((0,xe.Qr)(Ve)){var c=(0,u.Z)({},ue.$D.LIMIT,S.Q),a=(0,X.U2)(J,{});a&&Object.entries(a).forEach((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];null!=i&&(ue.RG.includes(t)||Ee.includes(t)?c[t]=i:(c[t]=[],Object.entries(i).forEach((function(e){var n=(0,r.Z)(e,2),i=n[0];n[1]&&c[t].push(i)}))))})),(0,xe.Qr)(c)||(n={},Object.entries(Ie(Ie({},n),c)||{}).forEach((function(e){var t=(0,r.Z)(e,2),i=t[0],o=t[1];null!=o&&(n[i]=o)})))}else{var s={};Object.entries(Ve).forEach((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];s[t]={};var o,u=i;null!=i&&(ue.RG.includes(t)||Ee.includes(t)?s[t]=u:(Array.isArray(u)||(u=[u]),u&&Array.isArray(u)&&(null===(o=u)||void 0===o||o.forEach((function(e){s[t][e]=!0})))))})),re((0,xe.hB)(s))}(0,xe.Qr)(n)||(0,ge.u)((0,xe.hB)(n),{pushHistory:!1})}),[pn,Ke,Ve,ze,cn,an,sn]),(0,d.useEffect)((function(){(0,me.bB)(Xe,Ye)}),[Xe]);var mn=function(e){return(0,p.Db)($.ZP.pipelines.useCreate(),{onSuccess:function(n){return(0,me.wD)(n,{callback:function(n){var t=n.pipeline.uuid;null==e||e(t)},onErrorCallback:function(e,n){return Ye({errors:n,response:e})}})}})},bn=mn((function(e){return n.push("/pipelines/[pipeline]/edit","/pipelines/".concat(e,"/edit"))})),vn=(0,r.Z)(bn,2),gn=vn[0],xn=vn[1].isLoading,jn=mn((function(){null==Je||Je(),null==rn||rn()})),Zn=(0,r.Z)(jn,2),yn=Zn[0],Cn=Zn[1].isLoading,kn=(0,p.Db)((function(e){return $.ZP.pipelines.useUpdate(e.uuid)({pipeline:e})}),{onSuccess:function(e){return(0,me.wD)(e,{callback:function(e){var n=e.pipeline.uuid;Fe((function(e){return Ie(Ie({},e),{},(0,u.Z)({},n,!1))})),Je(),null==rn||rn(),null==Nn||Nn(),Me(null)},onErrorCallback:function(e,n){var t,i=null==e||null===(t=e.url_parameters)||void 0===t?void 0:t.pk;Fe((function(e){return Ie(Ie({},e),{},(0,u.Z)({},i,!1))})),Ye({errors:n,response:e})}})}}),Pn=(0,r.Z)(kn,2),In=Pn[0],On=Pn[1].isLoading,wn=(0,p.Db)((function(e){return $.ZP.pipelines.useDelete(e)()}),{onSuccess:function(e){return(0,me.wD)(e,{callback:function(){null==Je||Je(),null==rn||rn()},onErrorCallback:function(e,n){return Ye({errors:n,response:e})}})}}),_n=(0,r.Z)(wn,2),Tn=_n[0],En=_n[1].isLoading,Sn=(0,Ce.dd)((function(e){var n=e.pipelineType;return(0,_.jsx)(x.Z,{onClose:Dn,onSave:function(e){var t=e.name,i=e.description,r=e.tags;gn({pipeline:{description:i,name:t,tags:r,type:n}})},pipelineType:n})}),{},[gn],{background:!0,disableEscape:!0,uuid:"overview/create_pipeline"}),An=(0,r.Z)(Sn,2),Mn=An[0],Dn=An[1],Rn=(0,Ce.dd)((function(e){var n=e.pipeline,t=e.pipelineDescription,i=e.pipelineName;return(0,_.jsx)(T,{isLoading:On,minWidth:55*ae.iI,noEmptyValue:!!i,onClose:Nn,onSave:function(e){var t=n||Ae;if(t){var r=t.uuid,o={uuid:r};i?o.name=e:o.description=e,Fe((function(e){return Ie(Ie({},e),{},(0,u.Z)({},r,!0))})),In(o)}},textArea:!i,title:i?"Rename pipeline":"Edit description for ".concat(null==n?void 0:n.uuid),value:i||t})}),{},[On,Ae],{background:!0,uuid:"rename_pipeline_and_save"}),Ln=(0,r.Z)(Rn,2),Bn=Ln[0],Nn=Ln[1],Gn=(0,Ce.dd)((function(){return(0,_.jsx)(U.Z,{fetchPipelines:Je,onCancel:$n})}),{},[Je],{background:!0,uuid:"upload_pipeline"}),Fn=(0,r.Z)(Gn,2),Un=Fn[0],$n=Fn[1],Yn=(0,Ce.dd)((function(){return(0,_.jsx)(K.BC,{children:(0,_.jsx)(m.Z,{contained:!0,onClickCustomTemplate:function(e){gn({pipeline:{custom_template_uuid:null==e?void 0:e.template_uuid,name:(0,fe.Y6)()}}).then((function(){zn()}))},showBreadcrumbs:!0,tabs:[le.A2]})})}),{},[gn],{background:!0,uuid:"browse_templates"}),Hn=(0,r.Z)(Yn,2),Vn=Hn[0],zn=Hn[1],qn=(0,Ce.dd)((function(e){var n=e.cancelButtonText,t=(e.header,e.onCancel),i=e.onSaveSuccess;return(0,_.jsx)(K.BC,{children:(0,_.jsx)(M.Z,{cancelButtonText:n,contained:!0,header:(0,_.jsx)(P.Z,{mb:ae.HN,children:(0,_.jsxs)(k.Z,{children:[(0,_.jsx)(I.ZP,{warning:!0,children:"You need to add an OpenAI API key to your project before you can generate pipelines using AI."}),(0,_.jsx)(P.Z,{mt:1,children:(0,_.jsxs)(I.ZP,{warning:!0,children:["Read ",(0,_.jsx)(E.Z,{href:"https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key",openNewWindow:!0,children:"OpenAI’s documentation"})," to get your API key."]})})]})}),onCancel:function(){null==t||t(),Wn()},onSaveSuccess:function(e){C(),Wn(),null==i||i(e)}})})}),{},[C],{background:!0,uuid:"configure_project"}),Kn=(0,r.Z)(qn,2),Qn=Kn[0],Wn=Kn[1],Xn=(0,Ce.dd)((function(){return(0,_.jsx)(K.BC,{children:(0,_.jsx)(h.Z,{createPipeline:gn,isLoading:xn,onClose:nt})})}),{},[gn,xn],{background:!0,disableClickOutside:!0,disableCloseButton:!0,uuid:"AI_modal"}),Jn=(0,r.Z)(Xn,2),et=Jn[0],nt=Jn[1],tt=(0,d.useMemo)((function(){return(0,ve.d)(gn,{showAIModal:function(){null!=O&&O.openai_api_key?et():Qn({onSaveSuccess:function(){et()}})},showBrowseTemplates:Vn,showCreatePipelineModal:Mn,showImportPipelineModal:Un})}),[gn,O,et,Vn,Qn,Mn,Un]),it=$.ZP.tags.list().data,rt=(0,d.useMemo)((function(){return(0,Ze.YC)((null==it?void 0:it.tags)||[],(function(e){return e.uuid}))}),[it]),ot=(0,d.useMemo)((function(){return(0,_.jsx)(F.Z,{addButtonProps:{isLoading:xn,label:"New",menuItems:tt},deleteRowProps:{confirmationMessage:"This is irreversible and will immediately delete everything associated           with the pipeline, including its blocks, triggers, runs, logs, and history.",isLoading:En,item:"pipeline",onDelete:function(){window.confirm("Are you sure you want to delete pipeline ".concat(null==Ae?void 0:Ae.uuid,"?"))&&Tn(null==Ae?void 0:Ae.uuid)}},extraActionButtonProps:{Icon:q.Clone,confirmationDescription:"Cloning the selected pipeline will create a new pipeline with the same           configuration and code blocks. The blocks use the same block files as the original pipeline.           Pipeline triggers, runs, backfills, and logs are not copied over to the new pipeline.",confirmationMessage:"Do you want to clone the pipeline ".concat(null==Ae?void 0:Ae.uuid,"?"),isLoading:Cn,onClick:function(){return yn({pipeline:{clone_pipeline_uuid:null==Ae?void 0:Ae.uuid}})},openConfirmationDialogue:!0,tooltip:"Clone pipeline"},filterOptions:{status:A.kA,tag:[A.$1.NO_TAGS].concat((0,o.Z)(rt.map((function(e){return e.uuid})))),type:Object.values(A.qL)},filterValueLabelMapping:{status:A.kA.reduce((function(e,n){return Ie(Ie({},e),{},(0,u.Z)({},n,(0,fe.J3)((0,fe.kC)(n))))}),{}),tag:Ie((0,u.Z)({},A.$1.NO_TAGS,"No tags"),rt.reduce((function(e,n){var t=n.uuid;return Ie(Ie({},e),{},(0,u.Z)({},t,t))}),{})),type:A.G7},groupButtonProps:{groupByLabel:pn,menuItems:[{beforeIcon:pn===A.r0.STATUS?(0,_.jsx)(q.Check,{fill:Y.Z.content.default,size:1.5*ae.iI}):(0,_.jsx)(q.Circle,{muted:!0,size:1.5*ae.iI}),label:function(){return(0,fe.kC)(A.r0.STATUS)},onClick:function(){var e=pn===A.r0.STATUS?null:A.r0.STATUS;e||oe({}),(0,ge.u)((0,u.Z)({},A.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Status"},{beforeIcon:pn===A.r0.TAG?(0,_.jsx)(q.Check,{fill:Y.Z.content.default,size:1.5*ae.iI}):(0,_.jsx)(q.Circle,{muted:!0,size:1.5*ae.iI}),label:function(){return(0,fe.kC)(A.r0.TAG)},onClick:function(){var e=pn===A.r0.TAG?null:A.r0.TAG;e||oe({}),(0,ge.u)((0,u.Z)({},A.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Tag"},{beforeIcon:pn===A.r0.TYPE?(0,_.jsx)(q.Check,{fill:Y.Z.content.default,size:1.5*ae.iI}):(0,_.jsx)(q.Circle,{muted:!0,size:1.5*ae.iI}),label:function(){return(0,fe.kC)(A.r0.TYPE)},onClick:function(){var e=pn===A.r0.TYPE?null:A.r0.TYPE;e||oe({}),(0,ge.u)((0,u.Z)({},A.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Type"}]},moreActionsMenuItems:[{label:function(){return"Rename pipeline"},onClick:function(){return Bn({pipelineName:null==Ae?void 0:Ae.name})},uuid:"Pipelines/MoreActionsMenu/Rename"},{label:function(){return"Edit description"},onClick:function(){return Bn({pipeline:Ae,pipelineDescription:null==Ae?void 0:Ae.description})},uuid:"Pipelines/MoreActionsMenu/EditDescription"}],onClickFilterDefaults:function(){re({}),Le(""),null==Je||Je().then((function(){var e;(0,ge.u)((e={},(0,u.Z)(e,ue.$D.LIMIT,(null==Ve?void 0:Ve[ue.$D.LIMIT])||S.Q),(0,u.Z)(e,A.$1.SEARCH,""),e),{replaceParams:!0})}))},onFilterApply:function(e,n){Object.values(n).every((function(e){return!(null!=e&&e.length)}))&&re({})},query:Ve,resetLimitOnFilterApply:!0,searchProps:{onChange:Be,value:Re},selectedRowId:null==Ae?void 0:Ae.uuid,setSelectedRow:Me})}),[yn,Tn,Je,pn,Cn,xn,En,tt,Ve,Re,Ae,Be,Bn,rt]),ut=(0,d.useCallback)((function(e){var n={};null==e||e.forEach((function(e,t){var i=null==e?void 0:e[pn];if(A.r0.STATUS===pn){var r=(e||{}).schedules,o=void 0===r?[]:r,u=o.length;i=o.find((function(e){var n=e.status;return se.fq.ACTIVE===n}))?A.QK.ACTIVE:u>=1?A.QK.INACTIVE:A.QK.NO_SCHEDULES}else if(A.r0.TAG===pn){i=(null==e?void 0:e.tags)?(0,Ze.YC)(e.tags,(function(e){return e})).join(", "):""}n[i]||(n[i]=[]),n[i].push(t)}));var t=[],i=[];A.r0.STATUS===pn?Object.values(A.QK).forEach((function(e){t.push(n[e]),i.push((0,fe.vg)(e))})):A.r0.TAG===pn?(0,Ze.YC)(Object.keys(n),(function(e){return e})).forEach((function(e){t.push(n[e]),e?i.push(e.split(", ").map((function(e,n){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{style:{marginLeft:n>=1?4:0}},"".concat(e,"-").concat(n,"-spacing")),(0,_.jsx)(g.Z,{small:!0,children:(0,_.jsx)(I.ZP,{children:e})},"".concat(e,"-").concat(n))]})}))):i.push("No tags")})):A.r0.TYPE===pn&&Object.values(A.qL).forEach((function(e){t.push(n[e]),i.push(A.G7[e])}));var r=[],o=[];return null==t||t.forEach((function(e,n){null!=e&&(null==e?void 0:e.length)>=1&&(o.push(e),r.push(null==i?void 0:i[n]))})),{rowGroupHeaders:r,rowsGroupedByIndex:o}}),[pn]),lt=(0,d.useMemo)((function(){return ut(un)}),[ut,un]),ct=lt.rowGroupHeaders,at=lt.rowsGroupedByIndex,st=(0,d.useMemo)((function(){return ut(ln)}),[ut,ln]),dt=st.rowGroupHeaders,pt=st.rowsGroupedByIndex,ft=(0,d.useCallback)((function(e,t,r){return(0,_.jsx)(N.Z,{columnFlex:[null,null,null,2,null,null,null,1,null,null,null],columns:[{label:function(){return""},uuid:"action"},{uuid:(0,fe.kC)(A.r0.STATUS)},{uuid:"Name"},{uuid:"Description"},{uuid:(0,fe.kC)(A.r0.TYPE)},Ie(Ie({},Qe),{},{uuid:"Updated at"}),Ie(Ie({},Qe),{},{uuid:"Created at"}),{uuid:"Tags"},{uuid:"Blocks"},{uuid:"Triggers"},{center:!0,label:function(){return""},uuid:"Actions"}],isSelectedRow:function(n){var t;return(null===(t=e[n])||void 0===t?void 0:t.uuid)===(null==Ae?void 0:Ae.uuid)},localStorageKeySortColIdx:ne,localStorageKeySortDirection:te,onClickRow:function(n){return Me((function(t){var i=e[n];return(null==t?void 0:t.uuid)!==(null==i?void 0:i.uuid)?i:null}))},onDoubleClickRow:function(t){n.push("/pipelines/[pipeline]/edit","/pipelines/".concat(e[t].uuid,"/edit"))},ref:i,renderRightClickMenuItems:function(t){var i=e[t];return[{label:function(){return"Edit description"},onClick:function(){return Bn({pipeline:i,pipelineDescription:null==i?void 0:i.description})},uuid:"edit_description"},{label:function(){return"Rename"},onClick:function(){return Bn({pipeline:i,pipelineName:null==i?void 0:i.name})},uuid:"rename"},{label:function(){return"Clone"},onClick:function(){return yn({pipeline:{clone_pipeline_uuid:null==i?void 0:i.uuid}})},uuid:"clone"},{label:function(){return"Download (keep folder structure)"},onClick:function(){hn({filesOnly:!1,pipelineUUID:null==i?void 0:i.uuid})},uuid:"download_keep_folder_structure"},{label:function(){return"Download (without folder structure)"},onClick:function(){hn({filesOnly:!0,pipelineUUID:null==i?void 0:i.uuid})},uuid:"download_without_folder_structure"},{label:function(){return"Add/Remove tags"},onClick:function(){n.push("/pipelines/[pipeline]/settings","/pipelines/".concat(null==i?void 0:i.uuid,"/settings"))},uuid:"add_tags"},{label:function(){return"Create template"},onClick:function(){n.push("/templates?object_type=".concat(ce.R,"&new=1&pipeline_uuid=").concat(null==i?void 0:i.uuid))},uuid:"create_custom_template"},{label:function(){return"Create global data product"},onClick:function(){n.push("/global-data-products?object_type=".concat(Q.b.PIPELINE,"&new=1&object_uuid=").concat(null==i?void 0:i.uuid))},uuid:"create_global_data_product"},{label:function(){return"Delete"},onClick:function(){window.confirm("Are you sure you want to delete pipeline ".concat(null==i?void 0:i.uuid,"?"))&&Tn(null==i?void 0:i.uuid)},uuid:"delete"}]},rightClickMenuHeight:252,rightClickMenuWidth:30*ae.iI,rowGroupHeaders:t,rows:null==e?void 0:e.map((function(e,t){var i=e.blocks,r=e.created_at,o=e.description,l=e.schedules,c=e.tags,a=e.type,d=e.updated_at,p=e.uuid,f=i.filter((function(e){var n=e.type;return z.tf.SCRATCHPAD!==n})).length,h=l.length,m=l.find((function(e){var n=e.status;return se.fq.ACTIVE===n})),v=a===A.ad,g=(0,_.jsx)("div",{children:(0,_.jsx)(G.Z,{tags:null==c?void 0:c.map((function(e){return{uuid:e}}))})},"pipeline_tags_".concat(t));return[h>=1||Ge[p]?(0,_.jsx)(b.ZP,{iconOnly:!0,loading:!!Ge[p],noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(n){(0,je.j)(n),Fe((function(e){return Ie(Ie({},e),{},(0,u.Z)({},p,!0))})),In(Ie(Ie({},e),{},{status:m?se.fq.INACTIVE:se.fq.ACTIVE}))},children:m?(0,_.jsx)(q.Pause,{muted:!0,size:2*ae.iI}):(0,_.jsx)(q.PlayButtonFilled,{default:!0,size:2*ae.iI})}):null,(0,_.jsx)(I.ZP,{default:!m,monospace:!0,success:!!m,children:m?se.fq.ACTIVE:h>=1?se.fq.INACTIVE:"no schedules"},"pipeline_status_".concat(t)),(0,_.jsx)(s(),{as:"/pipelines/".concat(p),href:"/pipelines/[pipeline]",passHref:!0,children:(0,_.jsx)(E.Z,{sameColorAsText:!0,children:p})},"pipeline_name_".concat(t)),(0,_.jsx)(I.ZP,{default:!0,preWrap:!0,title:o,children:o},"pipeline_description_".concat(t)),(0,_.jsx)(I.ZP,{bold:v,danger:v,children:v?(0,fe.kC)(A.ad):A.G7[a]},"pipeline_type_".concat(t)),(0,_.jsx)(I.ZP,{monospace:!0,small:!0,title:d?(0,he._6)(d):null,children:d?(0,he.XG)((0,he.d$)(d,{includeSeconds:!0,utcFormat:!0}),qe):(0,_.jsx)(_.Fragment,{children:"—"})},"pipeline_updated_at_".concat(t)),(0,_.jsx)(I.ZP,{monospace:!0,small:!0,title:r?(0,he._6)(r):null,children:r?(0,he.XG)(r.slice(0,19),qe):(0,_.jsx)(_.Fragment,{children:"—"})},"pipeline_created_at_".concat(t)),g,(0,_.jsx)(I.ZP,{default:0===f,monospace:!0,children:f},"pipeline_block_count_".concat(t)),(0,_.jsx)(I.ZP,{default:0===h,monospace:!0,children:h},"pipeline_trigger_count_".concat(t)),(0,_.jsxs)(Z.Z,{flex:1,justifyContent:"flex-end",children:[(0,_.jsx)(b.ZP,Ie(Ie({},Se),{},{onClick:function(){hn({pipelineUUID:p})},title:"Download (keep folder structure)",children:(0,_.jsx)(q.Save,{default:!0,size:2*ae.iI})})),(0,_.jsx)(P.Z,{mr:1}),(0,_.jsx)(b.ZP,Ie(Ie({},Se),{},{onClick:function(){n.push("/pipelines/[pipeline]","/pipelines/".concat(p))},title:"Detail",children:(0,_.jsx)(q.Open,{default:!0,size:2*ae.iI})})),(0,_.jsx)(P.Z,{mr:1}),(0,_.jsx)(b.ZP,Ie(Ie({},Se),{},{onClick:function(){n.push("/pipelines/[pipeline]/logs","/pipelines/".concat(p,"/logs"))},title:"Logs",children:(0,_.jsx)(q.File,{default:!0,size:2*ae.iI})}))]},"chevron_icon_".concat(t))]})),rowsGroupedByIndex:r,sortableColumnIndexes:cn,sortedColumn:dn,stickyHeader:!0,uuid:"pipelines_table"})}),[yn,Tn,hn,qe,Ge,n,Ae,Fe,Me,Bn,cn,dn,Qe,In]),ht=(0,d.useMemo)((function(){return ft(un,ct,at)}),[un,ft,ct,at]),mt=(0,d.useMemo)((function(){return ft(ln,dt,pt)}),[ln,ft,dt,pt]),bt=(0,d.useMemo)((function(){return(null==un?void 0:un.length)||0}),[un]),vt=(0,d.useMemo)((function(){return(null==ln?void 0:ln.length)||0}),[ln]),gt=(0,d.useMemo)((function(){return(!Ke||we.uuid===ze)&&!bt||Ke&&Oe.uuid===ze&&!vt}),[Ke,bt,vt,ze]),xt=(0,d.useMemo)((function(){var e=null==Ve?void 0:Ve[ue.$D.LIMIT];return(0,_.jsxs)(y.ZP,{alignItems:"center",children:[(0,_.jsx)(I.ZP,{muted:!0,small:!0,children:"Per page"}),(0,_.jsx)(P.Z,{mr:1}),(0,_.jsxs)(L.Z,{compact:!0,onChange:function(e){var n;return(0,ge.u)((n={},(0,u.Z)(n,ue.$D.LIMIT,e.target.value),(0,u.Z)(n,ue.$D.OFFSET,0),n),{pushHistory:!0})},small:!0,value:e,children:[e&&(e>5*S.Q||e%S.Q)&&(0,_.jsx)("option",{value:e,children:e}),(0,Ze.w6)(5).map((function(e,n){var t=(n+1)*S.Q;return(0,_.jsx)("option",{value:t,children:t},t)}))]})]})}),[Ve]),jt=(0,d.useMemo)((function(){var e,n,t=Xe;Ke&&Oe.uuid===ze&&(t=tn);var i=(null===(e=t)||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.count)||0,r=(null==Ve?void 0:Ve[ue.$D.LIMIT])||S.Q,o=(null==Ve?void 0:Ve[ue.$D.OFFSET])||0,l=Math.ceil(i/r);return(0,_.jsx)(P.Z,{p:ae.cd,children:(0,_.jsx)(S.ZP,{maxPages:S.Et,onUpdate:function(e){var n=Number(e);(0,ge.u)((0,u.Z)({},ue.$D.OFFSET,n*r))},page:Math.floor(o/r),totalPages:l})})}),[Xe,tn,Ke,Ve,ze]);return(0,_.jsxs)(j.Z,{errors:$e,setErrors:Ye,subheaderChildren:(0,_.jsxs)(y.ZP,{alignItems:"center",justifyContent:"space-between",children:[ot,xt]}),title:"Pipelines",uuid:"pipelines/index",children:[Ke&&(0,_.jsx)(P.Z,{px:ae.cd,ref:t,children:(0,_.jsx)(v.Z,{noPadding:!0,onClickTab:function(e){var n,t=e.uuid;return(0,ge.u)((n={},(0,u.Z)(n,Te,t),(0,u.Z)(n,ue.$D.OFFSET,0),n),{pushHistory:!0})},regularSizeText:!0,selectedTabUUID:ze,tabs:_e.map((function(e){var n=e.Icon,t=e.label;return{Icon:n,label:function(){var e;return t({count:null==Xe||null===(e=Xe.metadata)||void 0===e?void 0:e.count})},uuid:e.uuid}})),underlineStyle:!0})}),gt?(0,_.jsx)(P.Z,{p:ae.Mq,children:Xe?(0,_.jsx)(I.ZP,{bold:!0,default:!0,monospace:!0,muted:!0,children:"No pipelines available"}):(0,_.jsx)(B.Z,{inverted:!0,large:!0})}):null,(0,_.jsxs)(pe.cl,{hide:gt,includePadding:!!pn,maxHeight:"calc(100vh - ".concat(W.Mz+74+(D||44)+68,"px)"),children:[(!Ke||we.uuid===ze)&&ht,Ke&&Oe.uuid===ze&&mt]}),(0,_.jsx)("div",{ref:l,children:jt})]})}Ae.getInitialProps=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var Me=(0,D.Z)(Ae)},44952:function(e,n,t){"use strict";t.d(n,{K:function(){return r}});var i=t(4383);function r(e){var n=(0,i.ZP)("downloads",e),t=document.createElement("a");t.href=n,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(n),document.body.removeChild(t)}},79274:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines",function(){return t(55620)}])},80022:function(e,n,t){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return i}})},15544:function(e,n,t){"use strict";function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}t.d(n,{Z:function(){return i}})},13692:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var i=t(61049);function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,i.Z)(e,n)}},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(12539),r=t(80022);function o(e,n){if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.Z)(e)}}},function(e){e.O(0,[2678,365,184,9518,5946,2655,3745,9565,5329,3656,2755,341,6639,433,2125,8522,402,5332,9868,9895,564,2371,1557,2512,5499,18,3498,770,2056,4052,6370,7893,9774,2888,179],(function(){return n=79274,e(e.s=n);var n}));var n=e.O();_N_E=n}]);