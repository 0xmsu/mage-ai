(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6780],{74395:function(e,n,t){"use strict";t.d(n,{M:function(){return a},W:function(){return l}});var r=t(9518),i=t(46684),l=34*t(70515).iI,a=r.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);"],i.Mz)},28795:function(e,n,t){"use strict";var r;t.d(n,{B:function(){return i},M:function(){return r}}),function(e){e.BACKFILLS="backfills",e.BLOCK_RUNS="block_runs",e.DASHBOARD="dashboard",e.EDIT="edit",e.MONITOR="monitor",e.PIPELINE_LOGS="pipeline_logs",e.PIPELINE_RUNS="pipeline_runs",e.RUNS="runs",e.SETTINGS="settings",e.SYNCS="syncs",e.TRIGGERS="triggers"}(r||(r={}));var i="cancel_all_running_pipeline_runs"},75457:function(e,n,t){"use strict";t.d(n,{Z:function(){return I}});var r=t(82394),i=t(21831),l=t(82684),a=t(34376),c=t(50724),s=t(94629),u=t(15338),o=t(82555),d=t(55485),p=t(85854),f=t(38276),b=t(5332),h=t(9518),m=t(44897),v=t(42631),j=t(70515),g=h.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],v.n_,3*j.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||m.Z.shadow).small,";\n  ")}),(function(e){return e.background&&"\n    background: ".concat(e.background,";\n  ")}),(function(e){return e.backgroundImage&&'\n    background-image: url("'.concat(e.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),x=t(46684),Z=t(85010),P=t(72619),O=t(19183),y=t(28598);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e,n){var t=e.after,r=e.afterHidden,h=e.afterWidth,m=e.before,v=e.beforeWidth,k=e.breadcrumbs,S=e.buildSidekick,I=e.children,w=e.errors,E=e.headline,D=e.pageName,C=e.pipeline,M=e.setErrors,N=e.subheader,T=e.subheaderBackground,L=e.subheaderBackgroundImage,R=e.subheaderButton,A=e.subheaderNoPadding,B=e.subheaderText,F=e.title,U=e.uuid,V=(0,O.i)().height,H=(0,a.useRouter)().query.pipeline,z=null==C?void 0:C.uuid,G=b.ZP.pipelines.detail(z,{includes_outputs:!1},{revalidateOnFocus:!1}).data,Y=null==G?void 0:G.pipeline;(0,l.useEffect)((function(){(0,P.bB)(G,M)}),[G,M]);var K=h||(t||S?50*j.iI:null),W=(0,l.useCallback)((function(e){var n=e.width;return t||(S?S({height:V,heightOffset:x.Mz,pipeline:Y,width:n||K}):null)}),[t,K,S,V,Y]),J=(0,l.useMemo)((function(){var e=[];return Y?(e.push.apply(e,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),k?(e.push({label:function(){return Y.uuid},linkProps:{as:"/pipelines/".concat(z,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),e.push.apply(e,(0,i.Z)(k)),e[e.length-1].bold=!0):e.push({bold:!0,label:function(){return Y.name}})):null!=G&&G.error&&e.push({bold:!0,danger:!0,label:function(){return"Error loading pipeline"}}),e}),[k,null==G?void 0:G.error,Y,z]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.Z,{after:t||S?W:null,afterHidden:r,afterWidth:K,before:m,beforeWidth:v,breadcrumbs:J,navigationItems:(0,Z.H)(D,Y,H),ref:n,subheaderChildren:void 0!==N&&N,subheaderNoPadding:A,title:Y?F?F(Y):Y.name:null,uuid:U,children:[(R||B)&&(0,y.jsx)(f.Z,{mb:j.Mq,mt:j.cd,mx:j.cd,children:(0,y.jsx)(g,{background:T,backgroundImage:L,children:(0,y.jsxs)(d.ZP,{alignItems:"center",children:[R,B&&(0,y.jsx)(f.Z,{ml:3}),B]})})}),E&&(0,y.jsx)(f.Z,{p:j.cd,children:(0,y.jsxs)(f.Z,{mt:j.cd,px:j.cd,children:[(0,y.jsx)(p.Z,{level:5,children:E}),(0,y.jsx)(u.Z,{light:!0,mt:j.cd,short:!0})]})}),I]}),w&&(0,y.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null==M?void 0:M(null)},children:(0,y.jsx)(o.Z,_(_({},w),{},{onClose:function(){return null==M?void 0:M(null)}}))})]})}var I=l.forwardRef(S)},85010:function(e,n,t){"use strict";t.d(n,{H:function(){return c}});var r=t(57653),i=t(72473),l=t(28795),a=t(50178);function c(e,n,t){var c=(n||{}).uuid||t,s=[{Icon:i.Lightning,id:l.M.TRIGGERS,isSelected:function(){return l.M.TRIGGERS===e},label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(c,"/triggers"),href:"/pipelines/[pipeline]/triggers"}},{Icon:i.Schedule,id:l.M.RUNS,isSelected:function(){return l.M.RUNS===e},label:function(){return"Runs"},linkProps:{as:"/pipelines/".concat(c,"/runs"),href:"/pipelines/[pipeline]/runs"}},{Icon:i.Logs,id:l.M.PIPELINE_LOGS,isSelected:function(){return l.M.PIPELINE_LOGS===e},label:function(){return"Logs"},linkProps:{as:"/pipelines/".concat(c,"/logs"),href:"/pipelines/[pipeline]/logs"}},{Icon:i.Monitor,id:l.M.MONITOR,isSelected:function(){return l.M.MONITOR===e},label:function(){return"Monitor"},linkProps:{as:"/pipelines/".concat(c,"/monitors"),href:"/pipelines/[pipeline]/monitors"}}];return r.qL.PYTHON===(null==n?void 0:n.type)&&s.splice(2,0,{Icon:i.BackfillV2,id:l.M.BACKFILLS,isSelected:function(){return l.M.BACKFILLS===e},label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(c,"/backfills"),href:"/pipelines/[pipeline]/backfills"}}),r.qL.INTEGRATION===(null==n?void 0:n.type)&&s.unshift({Icon:i.PipeIcon,id:l.M.SYNCS,isSelected:function(){return l.M.SYNCS===e},label:function(){return"Syncs"},linkProps:{as:"/pipelines/".concat(c,"/syncs"),href:"/pipelines/[pipeline]/syncs"}}),s.unshift({Icon:i.Code,disabled:!c,id:l.M.EDIT,isSelected:function(){return l.M.EDIT===e},label:function(){return(0,a.Ct)()?"View pipeline":"Edit pipeline"},linkProps:{as:"/pipelines/".concat(c,"/edit"),href:"/pipelines/[pipeline]/edit"}}),s.push({Icon:i.SettingsWithKnobs,id:l.M.SETTINGS,isSelected:function(){return l.M.SETTINGS===e},label:function(){return"Pipeline settings"},linkProps:{as:"/pipelines/".concat(c,"/settings"),href:"/pipelines/[pipeline]/settings"}}),s.unshift({Icon:i.NavDashboard,id:l.M.DASHBOARD,isSelected:function(){return l.M.DASHBOARD===e},label:function(){return"Dashboard"},linkProps:{as:"/pipelines/".concat(c,"/dashboard"),href:"/pipelines/[pipeline]/dashboard"}}),s}},8955:function(e,n,t){"use strict";t.d(n,{G7:function(){return P},ZP:function(){return O},u$:function(){return g}});var r=t(75582),i=t(82394),l=t(26304),a=t(90299),c=t(9134),s=t(24138),u=t(38276),o=t(30160),d=t(75499),p=t(70515),f=t(16488),b=t(42122),h=t(28598),m=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=44,x={uuid:"Run details"},Z={uuid:"Dependency tree"},P=[Z,x];function O(e){var n=e.height,t=e.heightOffset,i=e.pipeline,v=e.selectedRun,O=e.selectedTab,y=e.setSelectedTab,k=j({},(0,l.Z)(e,m));v?k.blockStatus=(0,f.IJ)(null==v?void 0:v.block_runs):k.noStatus=!0;var _=(0,b.Kn)(null==v?void 0:v.variables)?j({},null==v?void 0:v.variables):(null==v?void 0:v.variables)||{},S=null==v?void 0:v.event_variables;if(S&&(0,b.Kn)(S)&&!(0,b.Qr)(S))if((0,b.Kn)(_)&&_.hasOwnProperty("event")){var I=(0,b.Kn)(_.event)?_.event:{};_.event=j(j({},I),S)}else _.event=j({},S);var w=[];_&&JSON.stringify(_,null,2).split("\n").forEach((function(e){w.push("    ".concat(e))}));var E=v&&[["Run ID",null==v?void 0:v.id],["Variables",(0,h.jsx)(c.Z,{language:"json",small:!0,source:w.join("\n")},"variable_value")]],D=v&&(0,h.jsx)(u.Z,{pb:p.cd,px:p.cd,children:(0,h.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:E.map((function(e,n){var t=(0,r.Z)(e,2),i=t[0],l=t[1];return[(0,h.jsx)(o.ZP,{monospace:!0,muted:!0,children:i},"key_".concat(n)),(0,h.jsx)(o.ZP,{monospace:!0,textOverflow:!0,children:l},"val_".concat(n))]})),uuid:"LogDetail"})}),C=O&&y;return(0,h.jsxs)(h.Fragment,{children:[C&&(0,h.jsx)(a.Z,{onClickTab:y,selectedTabUUID:null==O?void 0:O.uuid,tabs:P,underlineStyle:!0}),(!C||Z.uuid===(null==O?void 0:O.uuid))&&(0,h.jsx)(s.ZP,j(j({},k),{},{height:n,heightOffset:(t||0)+(C?g:0),pipeline:i})),x.uuid===(null==O?void 0:O.uuid)&&D]})}},8916:function(e,n,t){"use strict";t.d(n,{FS:function(){return u},JZ:function(){return p},Tt:function(){return d},e7:function(){return f},wx:function(){return o}});var r=t(75582),i=t(82394),l=t(83784),a=t(30229);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e){return"string"==typeof e?e:JSON.stringify(e)}function o(e,n){var t,r;return null==e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return s(s({},e),{},{value:u(n)})}))}function d(e){var n;return null===(n=o(e,(function(e){return e.uuid===l.C})))||void 0===n?void 0:n.reduce((function(e,n){var t=n.uuid,r=n.value;return s(s({},e),{},(0,i.Z)({},t,r))}),{})}function p(e,n){return n===a.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===a.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function f(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,r.Z)(n,2),l=t[0],a=t[1],c=a;try{c=JSON.parse(a)}catch(e){}return s(s({},e),{},(0,i.Z)({},l,c))}),{}):e}},88785:function(e,n,t){"use strict";t.d(n,{J:function(){return s},U:function(){return c}});var r=t(9518),i=t(44897),l=t(42631),a=t(70515),c=r.default.div.withConfig({displayName:"indexstyle__CardStyle",componentId:"sc-m7tlau-0"})(["border-radius:","px;border-style:solid;border-width:2px;height:","px;margin-right:","px;padding:","px;width:","px;"," ",""],l.TR,14*a.iI,a.cd*a.iI,a.cd*a.iI,40*a.iI,(function(e){return!e.selected&&"\n    border-color: ".concat((e.theme.borders||i.Z.borders).light,";\n  ")}),(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.interactive||i.Z.interactive).linkPrimary,";\n  ")})),s=r.default.div.withConfig({displayName:"indexstyle__DateSelectionContainer",componentId:"sc-m7tlau-1"})(["border-radius:","px;padding:","px;"," "," ",""],l.n_,a.tr,(function(e){return"\n    background-color: ".concat((e.theme.interactive||i.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.absolute&&"\n    position: absolute;\n    z-index: 2;\n    right: 0;\n    top: ".concat(2.5*a.iI,"px;\n  ")}),(function(e){return e.topPosition&&"\n    top: -".concat(42*a.iI,"px;\n  ")}))},37899:function(e,n,t){"use strict";var r=t(82394),i=t(75582),l=t(82684),a=t(71180),c=t(15338),s=t(97618),u=t(55485),o=t(38276),d=t(75499),p=t(30160),f=t(35576),b=t(17488),h=t(72473),m=t(70515),v=t(42122),j=t(81728),g=t(28598);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){e.borderless,e.compact;var n=e.enableVariablesOverwrite,t=e.originalVariables,x=e.runtimeVariables,P=(e.setEnableVariablesOverwrite,e.setRuntimeVariables),O=(0,l.useState)({}),y=O[0],k=O[1],_=(0,l.useState)(null),S=_[0],I=_[1],w=(0,l.useState)(null),E=w[0],D=w[1];(0,l.useEffect)((function(){var e=Object.entries(x||{}).reduce((function(e,n){var t=(0,i.Z)(n,2),l=t[0],a=t[1],c=(0,j.Pb)(a)&&"object"==typeof JSON.parse(a)&&!Array.isArray(JSON.parse(a))&&null!==JSON.parse(a);return Z(Z({},e),{},(0,r.Z)({},l,c))}),{});k(e)}),[]);var C=function(e,n){var t={borderless:!0,key:"variable_uuid_input_".concat(e),monospace:!0,onChange:function(n){n.preventDefault(),P((function(t){return Z(Z({},t),{},(0,r.Z)({},e,n.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:n};return y[e]?(0,g.jsx)(f.Z,Z(Z({},t),{},{rows:1,value:n})):(0,g.jsx)(b.Z,Z({},t))};return(0,g.jsxs)(g.Fragment,{children:[n&&x&&Object.entries(x).length>0&&(0,g.jsx)(d.Z,{columnFlex:[null,1,null],columns:[{uuid:"Variable"},{uuid:"Value"},{label:function(){return""},uuid:"Action"}],rows:Object.entries(x).map((function(e){var n=(0,i.Z)(e,2),r=n[0],l=n[1];return[(0,g.jsx)(p.ZP,{default:!0,monospace:!0,children:r},"variable_".concat(r)),C(r,l),!(null!=t&&t[r])&&(0,g.jsx)(a.ZP,{iconOnly:!0,onClick:function(){P((function(e){return(0,v.gR)(e,[r])}))},children:(0,g.jsx)(h.Trash,{default:!0})})]}))}),(0,g.jsx)(o.Z,{p:m.cd,children:(0,g.jsxs)(u.ZP,{alignItems:"center",children:[(0,g.jsx)(s.Z,{flex:1,children:(0,g.jsx)(b.Z,{fullWidth:!0,monospace:!0,onChange:function(e){return I(e.target.value)},placeholder:"New variable UUID",value:S||""})}),(0,g.jsx)(o.Z,{mr:1}),(0,g.jsx)(s.Z,{flex:1,children:(0,g.jsx)(b.Z,{fullWidth:!0,monospace:!0,onChange:function(e){return D(e.target.value)},placeholder:"Variable value",value:E||""})}),(0,g.jsx)(o.Z,{mr:1}),(0,g.jsx)(a.ZP,{beforeIcon:(0,g.jsx)(h.Add,{}),disabled:!S||!E,onClick:function(){P((function(e){return Z(Z({},e),{},(0,r.Z)({},S,E))})),I(null),D(null)},children:"Add runtime variable"})]})}),(0,g.jsx)(c.Z,{light:!0})]})}},55072:function(e,n,t){"use strict";t.d(n,{Et:function(){return p},Q:function(){return d}});t(82684);var r=t(71180),i=t(55485),l=t(38276),a=t(31748),c=t(72473),s=t(79633),u=t(70515),o=t(28598),d=30,p=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,p=e.totalPages,f=[],b=t;if(b>p)f=Array.from({length:p},(function(e,n){return n}));else{var h=Math.floor(b/2),m=n-h;n+h>=p?(m=p-b+2,b-=2):n-h<=0?(m=0,b-=2):(b-=4,m=n-Math.floor(b/2)),f=Array.from({length:b},(function(e,n){return n+m}))}return(0,o.jsx)(o.Fragment,{children:p>0&&(0,o.jsxs)(i.ZP,{alignItems:"center",children:[(0,o.jsx)(r.ZP,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,o.jsx)(c.PaginateArrowLeft,{size:1.5*u.iI,stroke:a.Av})}),!f.includes(0)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{ml:1,children:(0,o.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!f.includes(1)&&(0,o.jsx)(l.Z,{ml:1,children:(0,o.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),f.map((function(e){return(0,o.jsx)(l.Z,{ml:1,children:(0,o.jsx)(r.ZP,{backgroundColor:e===n&&s.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!f.includes(p-1)&&(0,o.jsxs)(o.Fragment,{children:[!f.includes(p-2)&&(0,o.jsx)(l.Z,{ml:1,children:(0,o.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,o.jsx)(l.Z,{ml:1,children:(0,o.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(p-1)},children:p})},p-1)]}),(0,o.jsx)(l.Z,{ml:1}),(0,o.jsx)(r.ZP,{disabled:n===p-1,onClick:function(){return d(n+1)},children:(0,o.jsx)(c.PaginateArrowRight,{size:1.5*u.iI,stroke:a.Av})})]})})}},83641:function(e,n,t){"use strict";t.d(n,{I7:function(){return r},IB:function(){return s},VV:function(){return l},_7:function(){return a},rn:function(){return c}});var r,i=t(41143),l="datetime",a="code",c=i.V;!function(e){e.SECOND="second",e.MINUTE="minute",e.HOUR="hour",e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year",e.CUSTOM="custom"}(r||(r={}));var s=[r.MINUTE,r.HOUR,r.DAY,r.WEEK,r.MONTH,r.YEAR]},83784:function(e,n,t){"use strict";t.d(n,{C:function(){return r}});var r="global"},14805:function(e,n,t){"use strict";var r=t(82394),i=t(52396),l=t(55485),a=t(44085),c=t(38276),s=t(30160),u=t(88785),o=t(70515),d=t(86735),p=t(28598);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.localTime,t=e.selectedDate,r=e.selectedTime,f=e.setSelectedDate,h=e.setSelectedTime,m=e.topPosition;return(0,p.jsxs)(u.J,{absolute:!0,topPosition:m,children:[(0,p.jsx)(i.ZP,{onChange:f,value:t}),(0,p.jsx)(c.Z,{mb:2}),(0,p.jsxs)(l.ZP,{alignItems:"center",children:[(0,p.jsxs)(s.ZP,{default:!0,large:!0,children:["Time (",n?"Local":"UTC","):"]}),(0,p.jsx)(c.Z,{pr:2}),(0,p.jsx)(a.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),h((function(n){return b(b({},n),{},{hour:e.target.value})}))},paddingRight:5*o.iI,placeholder:"HH",value:null==r?void 0:r.hour,children:(0,d.m5)(24,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"hour_".concat(e))}))}),(0,p.jsx)(c.Z,{px:1,children:(0,p.jsx)(s.ZP,{bold:!0,large:!0,children:":"})}),(0,p.jsx)(a.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),h((function(n){return b(b({},n),{},{minute:e.target.value})}))},paddingRight:5*o.iI,placeholder:"MM",value:null==r?void 0:r.minute,children:(0,d.m5)(60,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"minute_".concat(e))}))})]})]})}},79500:function(e,n,t){"use strict";t.d(n,{a:function(){return l}});var r=t(16488),i=t(3917);function l(e,n){var t,l;if(null!=n&&n.localTimezone)t=(0,i.n$)(e),l={hour:(0,i.lJ)(String(t.getHours())),minute:(0,i.lJ)(String(t.getMinutes()))};else{var a=e.split(" ")[1];t=(0,r.eI)(e),l={hour:a.substring(0,2),minute:a.substring(3,5)}}return{date:t,time:l}}},9134:function(e,n,t){"use strict";var r=t(82684),i=t(20433),l=t(31811),a=t(9518),c=t(65292),s=t(44897),u=t(95363),o=t(70515),d=t(28598);n.Z=function(e){var n=e.language,t=e.maxWidth,p=e.showLineNumbers,f=e.small,b=e.source,h=e.wrapLines,m=(0,r.useContext)(a.ThemeContext);function v(e){var r=e.value;return(0,d.jsx)(l.Z,{customStyle:{backgroundColor:(m.background||s.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:u.Vp,fontSize:f?12:14,marginBottom:0,marginTop:0,maxWidth:t,paddingBottom:2*o.iI,paddingTop:2*o.iI},language:n,lineNumberStyle:{color:(m.content||s.Z.content).muted},showLineNumbers:p,style:c._4,useInlineStyles:!0,wrapLines:h,children:r})}return(0,d.jsx)(i.D,{components:{code:function(e){var n=e.children;return(0,d.jsx)(v,{value:n})}},children:b})}},51532:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return de}});var r=t(75582),i=t(77837),l=t(82394),a=t(38860),c=t.n(a),s=t(82684),u=t(83455),o=t(34376),d=t(83641),p=t(71180),f=t(15338),b=t(55485),h=t(85854),m=t(55072),v=t(75457),j=t(27966),g=t(44265),x=t(83784),Z=t(44085),P=t(38276),O=t(4190),y=t(75499),k=t(30160),_=t(12468),S=t(5332),I=t(8955),w=t(72473),E=t(74395),D=t(72191),C=t(70515),M=t(28795),N=t(81728),T=t(16488),L=t(8916),R=t(81655),A=t(15610),B=t(42122),F=t(50178),U=t(72619),V=t(95924),H=t(69419),z=t(70320),G=t(28598);function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var W=function(e){var n=e.backfill,t=e.errors,i=e.fetchBackfill,l=e.pipeline,a=e.setErrors,c=e.variables,Y=(0,F.Ct)(),W=(0,z.qB)(),J=(0,o.useRouter)(),X=n||{},q=X.block_uuid,Q=X.end_datetime,$=X.id,ee=X.interval_type,ne=X.interval_units,te=X.name,re=X.pipeline_run_dates,ie=X.start_datetime,le=X.started_at,ae=X.status,ce=X.total_run_count,se=X.variables,ue=void 0===se?{}:se,oe=l.uuid,de=(0,H.iV)(),pe={_limit:40,_offset:40*(null!=de&&de.page?de.page:0)};null!=de&&de.status&&(pe.status=de.status);var fe=S.ZP.pipeline_runs.list(K(K({},pe),{},{backfill_id:$}),{refreshInterval:3e3,revalidateOnFocus:!0},{pauseFetch:!$}),be=fe.data,he=fe.mutate,me=!(ie&&Q&&ee&&ne),ve=!ae,je=(0,s.useMemo)((function(){return(ve?re:null==be?void 0:be.pipeline_runs)||[]}),[be,re,ve]),ge=(0,s.useMemo)((function(){var e;return ve?ce:null==be||null===(e=be.metadata)||void 0===e?void 0:e.count}),[be,ve,ce]),xe=(0,s.useState)(null),Ze=xe[0],Pe=xe[1],Oe=(0,s.useMemo)((function(){var e=null!=de&&de.page?de.page:0;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(j.Z,{disableRowSelect:ve,emptyMessage:null!=de&&de.status||ae?"No runs available":'No runs available. Please complete backfill configuration by clicking "Edit backfill" above.',fetchPipelineRuns:he,hidePipelineColumn:!0,onClickRow:function(e){return Pe((function(n){var t=je[e];return(null==n?void 0:n.id)!==t.id?t:null}))},pipelineRuns:je,selectedRun:Ze,setErrors:a,setSelectedRun:Pe}),(0,G.jsx)(P.Z,{p:2,children:(0,G.jsx)(m.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),t=K(K({},de),{},{page:n>=0?n:0});J.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(oe,"/backfills/").concat($,"?").concat((0,H.uM)(t)))},page:Number(e),totalPages:Math.ceil(ge/40)})})]})}),[he,$,je,oe,de,J,Ze,a,ve,ae,ge]),ye=(0,s.useState)(I.G7[0]),ke=ye[0],_e=ye[1],Se=(0,u.Db)(S.ZP.backfills.useUpdate($),{onSuccess:function(e){return(0,U.wD)(e,{callback:function(){i(),he()},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),Ie=(0,r.Z)(Se,2),we=Ie[0],Ee=Ie[1].isLoading,De=(0,s.useMemo)((function(){return!!ae&&(d.rn.CANCELLED!==ae&&d.rn.FAILED!==ae)}),[ae]),Ce=(0,s.useMemo)((function(){return ae&&d.rn.CANCELLED!==ae&&d.rn.FAILED!==ae&&d.rn.INITIAL!==ae&&d.rn.RUNNING!==ae}),[ae]),Me=(0,s.useMemo)((function(){var e={default:!0,size:1.5*C.iI},n=[[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.MultiShare,K({},e)),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Backfill type"})]},"backfill_type_label"),(0,G.jsx)(k.ZP,{monospace:!0,children:q?d._7:d.VV},"backfill_type")],[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.Switch,K({},e)),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Status"})]},"backfill_status_label"),(0,s.createElement)(k.ZP,K(K({},(0,R.NC)(ae)),{},{key:"backfill_status"}),ae||"inactive")]];return q||n.push.apply(n,[[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.CalendarDate,K({},e)),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Start date and time"})]},"backfill_start_date_label"),(0,G.jsx)(k.ZP,{monospace:!0,small:!0,children:(0,T.Uc)(ie,W)},"backfill_start_date")],[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.CalendarDate,K({},e)),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"End date and time"})]},"backfill_end_date_label"),(0,G.jsx)(k.ZP,{monospace:!0,small:!0,children:(0,T.Uc)(Q,W)},"backfill_end_date")],[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.Schedule,K({},e)),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Interval type"})]},"interval_type_label"),(0,G.jsx)(k.ZP,{monospace:!0,children:ee&&(0,N.kC)(ee)},"interval_type")],[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.Schedule,K({},e)),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Interval units"})]},"interval_units_label"),(0,G.jsx)(k.ZP,{monospace:!0,children:ne},"interval_units")],[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.NumberHash,K({},e)),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Total runs"}),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(_.Z,{default:!0,label:"This count does not include retries.",size:D.gt,widthFitContent:!0})]},"total_runs_label"),(0,G.jsx)(k.ZP,{monospace:!0,children:ce},"total_runs")]]),(0,G.jsx)(y.Z,{columnFlex:[null,1],rows:n})}),[q,W,Q,ee,ne,ie,ae,ce]),Ne=(0,s.useMemo)((function(){return ue||{}}),[ue]),Te=(0,s.useMemo)((function(){var e=(0,L.wx)(c,(function(e){return e.uuid===x.C}))||[];return(0,B.Qr)(Ne)||Object.entries(Ne).forEach((function(n){var t=(0,r.Z)(n,2),i=t[0],l=t[1],a=e.findIndex((function(e){return(null==e?void 0:e.uuid)===i}));-1!==a?e.splice(a,1,{uuid:i,value:(0,L.FS)(l)}):e.push({uuid:i,value:(0,L.FS)(l)})})),void 0!==e&&null!=e&&e.length?(0,G.jsx)(y.Z,{columnFlex:[null,1],rows:e.map((function(e){var n=e.uuid,t=e.value;return[(0,G.jsx)(k.ZP,{default:!0,monospace:!0,small:!0,children:n},"settings_variable_label_".concat(n)),(0,G.jsx)(k.ZP,{monospace:!0,small:!0,children:t},"settings_variable_".concat(n))]}))}):null}),[Ne,c]);return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(v.Z,{afterHidden:!Ze,before:(0,G.jsxs)(E.M,{children:[(0,G.jsxs)(P.Z,{mb:C.HN,pt:C.cd,px:C.cd,children:[(0,G.jsx)(P.Z,{mb:C.cd,children:(0,G.jsx)(w.Backfill,{size:5*C.iI})}),(0,G.jsx)(h.Z,{children:te})]}),(0,G.jsx)(P.Z,{px:C.cd,children:(0,G.jsx)(h.Z,{level:5,children:"Settings"})}),(0,G.jsx)(f.Z,{light:!0,mt:1,short:!0}),Me,Te&&(0,G.jsxs)(P.Z,{my:C.HN,children:[(0,G.jsx)(P.Z,{px:C.cd,children:(0,G.jsx)(h.Z,{level:5,children:"Runtime variables"})}),(0,G.jsx)(f.Z,{light:!0,mt:1,short:!0}),Te]})]}),beforeWidth:34*C.iI,breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(oe,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return te},linkProps:{as:"/pipelines/".concat(oe,"/backfills/").concat($),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],buildSidekick:function(e){return(0,I.ZP)(K(K({},e),{},{selectedRun:Ze,selectedTab:ke,setSelectedTab:_e}))},errors:t,pageName:M.M.BACKFILLS,pipeline:l,setErrors:a,subheader:(0,G.jsxs)(b.ZP,{alignItems:"center",children:[!Ce&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(p.ZP,{beforeIcon:De?(0,G.jsx)(w.Pause,{size:2*C.iI}):(0,G.jsx)(w.PlayButtonFilled,{inverted:!(d.rn.CANCELLED===ae||d.rn.FAILED===ae),size:2*C.iI}),danger:De,disabled:me,loading:Ee,onClick:function(e){(0,V.j)(e),we({backfill:{status:De?d.rn.CANCELLED:d.rn.INITIAL}})},outline:!0,success:!De&&!(d.rn.CANCELLED===ae||d.rn.FAILED===ae)&&!me,children:De?"Cancel backfill":d.rn.CANCELLED===ae||d.rn.FAILED===ae?"Retry backfill":"Start backfill"}),(0,G.jsx)(P.Z,{mr:C.cd})]}),!Y&&!le&&(0,G.jsx)(p.ZP,{linkProps:{as:"/pipelines/".concat(oe,"/backfills/").concat($,"/edit"),href:"/pipelines/[pipeline]/backfills/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,title:"Backfills cannot be edited once they've been started.",children:"Edit backfill"}),!ve&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(k.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}),(0,G.jsx)(P.Z,{mr:C.cd}),(0,G.jsxs)(Z.Z,{compact:!0,defaultColor:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?J.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(oe,"/backfills/").concat($)):(0,A.u)({page:0,status:e.target.value})},paddingRight:4*C.iI,placeholder:"Select run status",value:(null==de?void 0:de.status)||"all",children:[(0,G.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),g.IK.map((function(e){return(0,G.jsx)("option",{value:e,children:g.Do[e]},e)}))]})]})]}),title:function(){return te},uuid:"backfill/detail",children:[(0,G.jsx)(P.Z,{mt:C.cd,px:C.cd,children:(0,G.jsx)(h.Z,{level:5,children:"Runs for this backfill"})}),(0,G.jsx)(f.Z,{light:!0,mt:C.cd,short:!0}),be?Oe:(0,G.jsx)(P.Z,{m:2,children:(0,G.jsx)(O.Z,{inverted:!0})})]})})},J=t(14805),X=t(50724),q=t(97618),Q=t(37899),$=t(17488),ee=[{label:function(){return"Date and time window"},description:function(){return"Backfill between a date and time range."},uuid:d.VV}],ne=t(88785),te=t(79500);function re(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?re(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var le=function(e){var n=e.backfill,t=e.errors,i=e.fetchBackfill,l=e.pipeline,a=e.setErrors,c=e.variables,m=(0,o.useRouter)(),j=(0,z.qB)(),g=(0,s.useState)(),x=g[0],O=g[1],_=(0,s.useState)(),I=_[0],E=_[1],D=x||{},R=D.block_uuid,A=D.id,F=D.interval_type,V=D.interval_units,H=D.name,Y=l.uuid,K=(0,s.useMemo)((function(){return(0,B.Qr)((null==n?void 0:n.variables)||{})?(0,L.Tt)(c)||{}:(0,B.Xc)(n.variables,(function(e){return(0,L.FS)(e)}))}),[null==n?void 0:n.variables,c]),W=(0,s.useState)(!0),re=W[0],le=W[1],ae=(0,s.useState)(K),ce=ae[0],se=ae[1],ue=(0,s.useState)(R?d._7:d.VV),oe=ue[0],de=ue[1],pe=(0,s.useState)(!1),fe=pe[0],be=pe[1],he=(0,s.useState)(!1),me=he[0],ve=he[1],je=(0,s.useState)(null),ge=je[0],xe=je[1],Ze=(0,s.useState)(null),Pe=Ze[0],Oe=Ze[1],ye=(0,s.useState)({hour:"00",minute:"00"}),ke=ye[0],_e=ye[1],Se=(0,s.useState)({hour:"00",minute:"00"}),Ie=Se[0],we=Se[1];(0,s.useEffect)((function(){if(n){O(n);var e=n.start_datetime;if(e){var t=(0,te.a)(e,{localTimezone:j});Oe(null==t?void 0:t.date),we(t.time)}var r=n.end_datetime;if(r){var i=(0,te.a)(r,{localTimezone:j});xe(null==i?void 0:i.date),_e(null==i?void 0:i.time)}}}),[j,n]),(0,s.useEffect)((function(){!I&&null!=x&&x.settings&&E(x.settings)}),[I,null==x?void 0:x.settings]);var Ee=(0,s.useMemo)((function(){var e=[[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.Alphabet,{default:!0}),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Backfill name"})]},"model_name_detail"),(0,G.jsx)($.Z,{monospace:!0,onChange:function(e){e.preventDefault(),O((function(n){return ie(ie({},n),{},{name:e.target.value})}))},placeholder:"Name this backfill",value:H},"model_name_input_detail")]];return d.VV===oe&&e.push.apply(e,[[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.CalendarDate,{default:!0}),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Start date and time"})]},"start_time"),(0,G.jsxs)("div",{style:{minHeight:"".concat(5.75*C.iI,"px")},children:[!fe&&(0,G.jsx)($.Z,{monospace:!0,onClick:function(){return be((function(e){return!e}))},onFocus:function(){return be(!0)},placeholder:"YYYY-MM-DD HH:MM",value:Pe?(0,T.XM)(Pe,Ie,{localTimezone:j}):""}),(0,G.jsx)("div",{style:{width:"400px"},children:(0,G.jsx)(X.Z,{disableEscape:!0,onClickOutside:function(){return be(!1)},open:fe,style:{position:"relative"},children:(0,G.jsx)(J.Z,{localTime:j,selectedDate:Pe,selectedTime:Ie,setSelectedDate:Oe,setSelectedTime:we,topPosition:!0})})})]},"start_time_input")],[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.CalendarDate,{default:!0}),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"End date and time"})]},"end_time"),(0,G.jsxs)("div",{style:{minHeight:"".concat(5.75*C.iI,"px")},children:[!me&&(0,G.jsx)($.Z,{monospace:!0,onClick:function(){return ve((function(e){return!e}))},onFocus:function(){return ve(!0)},placeholder:"YYYY-MM-DD HH:MM",value:ge?(0,T.XM)(ge,ke,{localTimezone:j}):""}),(0,G.jsx)("div",{style:{width:"400px"},children:(0,G.jsx)(X.Z,{disableEscape:!0,onClickOutside:function(){return ve(!1)},open:me,style:{position:"relative"},children:(0,G.jsx)(J.Z,{localTime:j,selectedDate:ge,selectedTime:ke,setSelectedDate:xe,setSelectedTime:_e,topPosition:!0})})})]},"end_time_input")],[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.Schedule,{default:!0}),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Interval type"})]},"interval_type"),(0,G.jsx)(Z.Z,{monospace:!0,onChange:function(e){e.preventDefault(),O((function(n){return ie(ie({},n),{},{interval_type:e.target.value})}))},placeholder:"Time spacing between each backfill",value:F,children:d.IB.map((function(e){return(0,G.jsx)("option",{value:e,children:(0,N.kC)(e)},e)}))},"interval_type_input")],[(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.Schedule,{default:!0}),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Interval units"})]},"interval_units"),(0,G.jsx)($.Z,{disabled:!F,minValue:1,monospace:!0,onChange:function(e){e.preventDefault();var n=+e.target.value;O((function(e){return ie(ie({},e),{},{interval_units:n<1?1:n})}))},placeholder:F?"Number of ".concat(F).concat(F!==d.I7.CUSTOM?"s":""," between each backfill"):"Interval type is required",type:"number",value:V},"interval_unit_input")]]),(0,B.Qr)(K)||e.push([(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(w.Variables,{default:!0}),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(k.ZP,{default:!0,children:"Runtime variables"})]},"overwrite_runtime_variables"),(0,G.jsx)(Q.Z,{borderless:!0,compact:!0,enableVariablesOverwrite:re,runtimeVariables:ce,setEnableVariablesOverwrite:le,setRuntimeVariables:se},"overwrite_runtime_variables_table")]),e.push([(0,G.jsx)(b.ZP,{alignItems:"center",children:(0,G.jsx)(k.ZP,{default:!0,children:"Max concurrent runs"})},"concurrency"),(0,G.jsx)($.Z,{minValue:1,monospace:!0,onChange:function(e){e.preventDefault();var n=e.target.value,t=n<0||""===n;E((function(e){return ie(ie({},e),{},{pipeline_run_limit:t?null:n})}))},type:"number",value:null==I?void 0:I.pipeline_run_limit},"concurrency_input")]),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(P.Z,{mb:2,px:C.cd,children:(0,G.jsx)(h.Z,{children:"Settings"})}),(0,G.jsx)(f.Z,{light:!0,short:!0}),(0,G.jsx)(y.Z,{columnFlex:[null,1],rows:e})]})}),[ge,Pe,j,re,F,V,H,ce,K,null==I?void 0:I.pipeline_run_limit,oe,fe,me,ke,Ie]),De=(0,u.Db)(S.ZP.backfills.useUpdate(A),{onSuccess:function(e){return(0,U.wD)(e,{callback:function(){i(),m.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(Y,"/backfills/").concat(A))},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),Ce=(0,r.Z)(De,2),Me=Ce[0],Ne=Ce[1].isLoading,Te=(0,s.useCallback)((function(){var e=ie(ie({},(0,B.GL)(x,["name"])),{},{end_datetime:null,interval_type:null,interval_units:null,settings:I,start_datetime:null,variables:re?(0,L.e7)(ce):{}});return d._7===oe||(e.interval_type=F,e.interval_units=V,e.end_datetime=ge&&null!=ke&&ke.hour&&null!=ke&&ke.minute?(0,T.XM)(ge,ke,{convertToUtc:j,includeSeconds:!0,localTimezone:j}):null,e.start_datetime=Pe&&null!=Ie&&Ie.hour&&null!=Ie&&Ie.minute?(0,T.XM)(Pe,Ie,{convertToUtc:j,includeSeconds:!0,localTimezone:j}):null),Me({backfill:e})}),[ge,Pe,j,re,F,V,x,ce,I,oe,ke,Ie,Me]),Le=(0,s.useMemo)((function(){return d._7===oe?!R:!(ge&&Pe&&F&&V)}),[R,ge,Pe,F,V,oe]);return(0,G.jsxs)(v.Z,{breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(Y,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return null==x?void 0:x.name},linkProps:{as:"/pipelines/".concat(Y,"/backfills/").concat(A),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],errors:t,pageName:M.M.BACKFILLS,pipeline:l,setErrors:a,subheader:(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(p.ZP,{disabled:Le,loading:Ne,onClick:Te,outline:!0,primary:!0,children:"Save changes"}),(0,G.jsx)(P.Z,{mr:1}),(0,G.jsx)(p.ZP,{linkProps:{href:"/pipelines/[pipeline]/backfills/[...slug]",as:"/pipelines/".concat(Y,"/backfills/").concat(A)},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel"})]}),title:function(){return"Edit ".concat(null==x?void 0:x.name)},uuid:"backfill/edit",children:[(0,G.jsxs)(P.Z,{p:C.cd,children:[(0,G.jsxs)(P.Z,{mb:2,children:[(0,G.jsx)(h.Z,{children:"Backfill type"}),(0,G.jsx)(k.ZP,{muted:!0,children:"How would you like this pipeline to be backfilled?"})]}),(0,G.jsx)(b.ZP,{children:ee.map((function(e){var n=e.label,t=e.description,r=e.uuid,i=oe===r,l=oe&&!i;return(0,G.jsx)(p.ZP,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){de(r)},children:(0,G.jsx)(ne.U,{selected:i,children:(0,G.jsxs)(b.ZP,{alignItems:"center",children:[(0,G.jsx)(q.Z,{children:(0,G.jsx)("input",{checked:i,type:"radio"})}),(0,G.jsx)(P.Z,{mr:C.cd}),(0,G.jsxs)(q.Z,{alignItems:"flex-start",flexDirection:"column",children:[(0,G.jsx)(h.Z,{bold:!0,default:!i&&!l,level:5,muted:!i&&l,children:n()}),(0,G.jsx)(k.ZP,{default:!i&&!l,leftAligned:!0,muted:l,children:t()})]})]})})},r)}))})]}),(0,G.jsx)(P.Z,{mt:5,children:Ee})]})},ae=t(93808),ce=t(98464);function se(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?se(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function oe(e){var n=e.backfillId,t=e.pipelineUUID,r=e.subpath,i=(0,s.useState)(null),l=i[0],a=i[1],c=S.ZP.variables.pipelines.list(t,{},{revalidateOnFocus:!1}).data,u=(0,s.useMemo)((function(){return null==c?void 0:c.variables}),[c]),o=S.ZP.pipelines.detail(t,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,d=(0,s.useMemo)((function(){return ue(ue({},null==o?void 0:o.pipeline),{},{uuid:t})}),[o,t]),p=(0,H.iV)(),f={_limit:40,_offset:40*(null!=p&&p.page?p.page:0),include_preview_runs:!0},b=S.ZP.backfills.detail(n,ue({},f),{revalidateOnFocus:!0}),h=b.data,m=b.mutate,v=(0,s.useMemo)((function(){return null==h?void 0:h.backfill}),[h]),j=(0,ce.Z)(p);return(0,s.useEffect)((function(){(null==j?void 0:j.page)!==(null==p?void 0:p.page)&&m()}),[m,p,j]),"edit"===r?(0,G.jsx)(le,{backfill:v,errors:l,fetchBackfill:m,pipeline:d,setErrors:a,variables:u}):(0,G.jsx)(W,{backfill:v,errors:l,fetchBackfill:m,pipeline:d,setErrors:a,variables:u})}oe.getInitialProps=function(){var e=(0,i.Z)(c().mark((function e(n){var t,i,l,a,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.query,i=t.pipeline,l=t.slug,!Array.isArray(l)){e.next=4;break}return a=(0,r.Z)(l,2),s=a[0],u=a[1],e.abrupt("return",{backfillId:s,pipelineUUID:i,subpath:u});case 4:return e.abrupt("return",{pipelineUUID:i});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var de=(0,ae.Z)(oe)},53664:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/backfills/[...slug]",function(){return t(51532)}])},61049:function(e,n,t){"use strict";function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[2678,365,184,9518,5946,2655,3745,9565,5329,2755,433,7849,2055,5332,9868,9895,564,2371,1557,2512,5604,5499,18,7966,9774,2888,179],(function(){return n=53664,e(e.s=n);var n}));var n=e.O();_N_E=n}]);