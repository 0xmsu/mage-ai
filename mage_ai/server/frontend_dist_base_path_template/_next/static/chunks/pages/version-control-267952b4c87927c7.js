(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2858],{32929:function(e,n,t){"use strict";t.d(n,{A2:function(){return p},dP:function(){return g},hS:function(){return j},iK:function(){return b},n9:function(){return v},qy:function(){return x}});var r,o=t(26304),i=t(82394),c=t(13507),l=t(44425),u=t(72473),s=t(57653),a=t(55283),d=["uuid"],f=["uuid"];function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v={uuid:"Blocks"},p={uuid:"Pipelines"},g=[v,p],b=(r={},(0,i.Z)(r,l.tf.CALLBACK,u.AQ),(0,i.Z)(r,l.tf.CHART,u.GQ),(0,i.Z)(r,l.tf.CONDITIONAL,u.hW),(0,i.Z)(r,l.tf.CUSTOM,u.VS),(0,i.Z)(r,l.tf.DATA_EXPORTER,u.zS),(0,i.Z)(r,l.tf.DATA_LOADER,u.rH),(0,i.Z)(r,l.tf.DBT,u.xE),(0,i.Z)(r,l.tf.EXTENSION,u.Bf),(0,i.Z)(r,l.tf.MARKDOWN,u.$B),(0,i.Z)(r,l.tf.SENSOR,u.LM),(0,i.Z)(r,l.tf.TRANSFORMER,u.Sv),r),x=[{Icon:u.zQ,uuid:"All templates"}].concat([{uuid:l.tf.DATA_LOADER},{uuid:l.tf.TRANSFORMER},{selectedIconProps:{inverted:!0},uuid:l.tf.DATA_EXPORTER},{uuid:l.tf.SENSOR},{selectedIconProps:{inverted:!0},uuid:l.tf.CUSTOM},{uuid:l.tf.CHART},{selectedIconProps:{inverted:!0},uuid:l.tf.CALLBACK},{selectedIconProps:{inverted:!0},uuid:l.tf.CONDITIONAL},{uuid:l.tf.EXTENSION},{selectedBackgroundColor:null,uuid:l.tf.DBT},{selectedIconProps:{inverted:!0},uuid:l.tf.MARKDOWN}].map((function(e){var n=e.uuid,t=(0,o.Z)(e,d);return m({Icon:b[n],filterTemplates:function(e){return null===e||void 0===e?void 0:e.filter((function(e){return e.block_type===n}))},label:function(){return l.V4[n]},selectedBackgroundColor:function(e){return(0,a.qn)(n,{theme:e}).accent},uuid:n},t)}))),j=[{Icon:u.zQ,uuid:"All templates"}].concat([{Icon:u.X5,uuid:s.qL.PYTHON},{Icon:u.ZG,uuid:s.qL.INTEGRATION},{Icon:c.Z,uuid:s.qL.STREAMING}].map((function(e){var n=e.uuid,t=(0,o.Z)(e,f);return m({filterTemplates:function(e){return null===e||void 0===e?void 0:e.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.pipeline)||void 0===t?void 0:t.type)===n}))},label:function(){return s.G7[n]},uuid:n},t)})))},94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var r=t(82394),o=t(21831),i=t(82684),c=t(50724),l=t(82555),u=t(97618),s=t(70613),a=t(31557),d=t(68899),f=t(28598);function h(e,n){var t=e.children,r=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:r,ref:n,children:t})}var m=i.forwardRef(h),v=t(62547),p=t(82571),g=t(98464),b=t(77417),x=t(46684),j=t(70515),Z=t(53808),C=t(19183);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var t=e.after,r=e.afterHeader,h=e.afterHidden,P=e.afterWidth,w=e.afterWidthOverride,_=e.appendBreadcrumbs,O=e.before,k=e.beforeWidth,S=e.breadcrumbs,I=e.children,E=e.contained,T=e.errors,M=e.headerMenuItems,A=e.headerOffset,D=e.hideAfterCompletely,R=e.mainContainerHeader,N=e.navigationItems,B=e.setAfterHidden,H=e.setErrors,L=e.subheaderChildren,V=e.subheaderNoPadding,F=e.title,U=e.uuid,G=(0,C.i)().width,q="dashboard_after_width_".concat(U),W="dashboard_before_width_".concat(U),z=(0,i.useRef)(null),Y=(0,i.useState)(w?P:(0,Z.U2)(q,P)),K=Y[0],Q=Y[1],X=(0,i.useState)(!1),J=X[0],$=X[1],ee=(0,i.useState)(O?Math.max((0,Z.U2)(W,k),13*j.iI):null),ne=ee[0],te=ee[1],re=(0,i.useState)(!1),oe=re[0],ie=re[1],ce=(0,i.useState)(null)[1],le=(0,b.Z)().project,ue=[];S&&ue.push.apply(ue,(0,o.Z)(S)),null!==S&&void 0!==S&&S.length&&!_||!le||null!==S&&void 0!==S&&S.length||ue.unshift({bold:!_,label:function(){return F}}),(0,i.useEffect)((function(){null===z||void 0===z||!z.current||J||oe||null===ce||void 0===ce||ce(z.current.getBoundingClientRect().width)}),[J,K,oe,ne,z,ce,G]),(0,i.useEffect)((function(){J||(0,Z.t8)(q,K)}),[h,J,K,q]),(0,i.useEffect)((function(){oe||(0,Z.t8)(W,ne)}),[oe,ne,W]);var se=(0,g.Z)(P);return(0,i.useEffect)((function(){w&&se!==P&&Q(P)}),[w,P,se]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{title:F}),(0,f.jsx)(a.Z,{breadcrumbs:ue,menuItems:M}),(0,f.jsxs)(d.Nk,{ref:n,children:[0!==(null===N||void 0===N?void 0:N.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(p.Z,{navigationItems:N,showMore:!0})}),(0,f.jsx)(u.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(v.Z,{after:t,afterHeader:r,afterHeightOffset:x.Mz,afterHidden:h,afterMousedownActive:J,afterWidth:K,before:O,beforeHeightOffset:x.Mz,beforeMousedownActive:oe,beforeWidth:d.k1+(O?ne:0),contained:E,headerOffset:A,hideAfterCompletely:!B||D,leftOffset:O?d.k1:null,mainContainerHeader:R,mainContainerRef:z,setAfterHidden:B,setAfterMousedownActive:$,setAfterWidth:Q,setBeforeMousedownActive:ie,setBeforeWidth:te,children:[L&&(0,f.jsx)(m,{noPadding:V,children:L}),I]})})]}),T&&(0,f.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===H||void 0===H?void 0:H(null)},children:(0,f.jsx)(l.Z,y(y({},T),{},{onClose:function(){return null===H||void 0===H?void 0:H(null)}}))})]})}var _=i.forwardRef(w)},26419:function(e,n,t){"use strict";t.d(n,{a:function(){return r}});var r={compact:!0,highlightOnHoverAlt:!0,noBorder:!0,padding:"4px 12px"}},85385:function(e,n,t){"use strict";t.d(n,{Qq:function(){return m},Z7:function(){return v},cH:function(){return o},du:function(){return f},fp:function(){return d},j5:function(){return h},uM:function(){return a}});var r,o,i=t(82394),c=t(57653),l=t(82359),u=t(72473),s=t(86735),a="sideview",d=90;!function(e){e.ADDON_BLOCKS="addon_blocks",e.BLOCK_SETTINGS="block_settings",e.CALLBACKS="callbacks",e.CHARTS="charts",e.DATA="data",e.EXTENSIONS="power_ups",e.FILES="files",e.FILE_VERSIONS="file_versions",e.GRAPHS="graphs",e.INTERACTIONS="interactions",e.REPORTS="reports",e.SECRETS="secrets",e.SETTINGS="settings",e.TERMINAL="terminal",e.TREE="tree",e.VARIABLES="variables"}(o||(o={}));o.BLOCK_SETTINGS,o.CALLBACKS,o.CHARTS,o.DATA,o.EXTENSIONS,o.TREE;var f=[o.DATA];function h(e){var n,t,r,i=[{key:o.TREE,label:"Tree"},{buildLabel:function(e){var n=(e.pipeline||{}).widgets,t=void 0===n?[]:n;return(null===t||void 0===t?void 0:t.length)>=1?"Charts (".concat(t.length,")"):"Charts"},key:o.CHARTS},{buildLabel:function(e){var n=e.variables;return(null===n||void 0===n?void 0:n.length)>=1?"Variables (".concat(n.length,")"):"Variables"},key:o.VARIABLES},{buildLabel:function(e){var n=e.secrets;return(null===n||void 0===n?void 0:n.length)>=1?"Secrets (".concat(n.length,")"):"Secrets"},key:o.SECRETS}];return c.qL.PYSPARK!==(null===e||void 0===e||null===(n=e.pipeline)||void 0===n?void 0:n.type)&&i.push.apply(i,[{buildLabel:function(e){e.pipeline;return"Add-on blocks"},key:o.ADDON_BLOCKS},{buildLabel:function(e){var n=(e.pipeline||{}).extensions,t=void 0===n?{}:n,r=0;return Object.values(t).forEach((function(e){var n=e.blocks;r+=(null===n||void 0===n?void 0:n.length)||0})),r>=1?"Power ups (".concat(r,")"):"Power ups"},key:o.EXTENSIONS}]),i.push.apply(i,[{key:o.DATA,label:"Data"},{key:o.TERMINAL,label:"Terminal"},{key:o.BLOCK_SETTINGS,label:"Block settings"}]),null!==e&&void 0!==e&&null!==(t=e.project)&&void 0!==t&&null!==(r=t.features)&&void 0!==r&&r[l.d.INTERACTIONS]&&i.push({key:o.INTERACTIONS,label:"Interactions"}),i}function m(e){return(0,s.HK)(h(e),(function(e){return e.key}))}var v=(r={},(0,i.Z)(r,o.ADDON_BLOCKS,u.EJ),(0,i.Z)(r,o.BLOCK_SETTINGS,u.JG),(0,i.Z)(r,o.CALLBACKS,u.AQ),(0,i.Z)(r,o.CHARTS,u.GQ),(0,i.Z)(r,o.DATA,u.iA),(0,i.Z)(r,o.EXTENSIONS,u.Bf),(0,i.Z)(r,o.INTERACTIONS,u.yd),(0,i.Z)(r,o.SECRETS,u.Yo),(0,i.Z)(r,o.SETTINGS,u.Zr),(0,i.Z)(r,o.TERMINAL,u.oI),(0,i.Z)(r,o.TREE,u.mp),(0,i.Z)(r,o.VARIABLES,u.LO),r)},93808:function(e,n,t){"use strict";t.d(n,{Z:function(){return O}});var r=t(77837),o=t(26304),i=t(62243),c=t(29385),l=t(80022),u=t(13692),s=t(93189),a=t(15544),d=t(82394),f=t(38860),h=t.n(f),m=t(82684),v=t(56663),p=t.n(v),g=t(40761),b=t(34661),x=t(36105),j=t(50178),Z=t(69419),C=t(28598),P=["auth"];function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,a.Z)(e);if(n){var o=(0,a.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,s.Z)(this,t)}}function O(e){return function(n){(0,u.Z)(s,n);var t=_(s);function s(){var e;(0,i.Z)(this,s);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,d.Z)((0,l.Z)(e),"state",{auth:new g.Z(e.props.token)}),e}return(0,c.Z)(s,[{key:"componentDidMount",value:function(){this.setState({auth:new g.Z(this.props.token)})}},{key:"render",value:function(){var n=this.props,t=(n.auth,(0,o.Z)(n,P));return(0,C.jsx)(e,w({auth:this.state.auth},t))}}],[{key:"getInitialProps",value:function(){var n=(0,r.Z)(h().mark((function n(t){var r,o,i,c,l,u,s,a,d;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=p()(t),o=(0,j.ex)(t),i=o.id,c=r[b.Mv],l=r[x.qt],u=new g.Z(c),s=w(w({},t),{},{auth:u,currentGroupId:i,theme:l}),(0,j.YB)(t)&&u.isExpired&&(console.log("OAuth token has expired."),a=w(w({},t.query),{},{redirect_url:t.asPath}),(0,Z.nL)("/sign-in?".concat((0,Z.uM)(a)),t.res)),!e.getInitialProps){n.next=12;break}return n.next=10,e.getInitialProps(s);case 10:return d=n.sent,n.abrupt("return",w(w({},d),{},{auth:u,currentGroupId:i,theme:l}));case 12:return n.abrupt("return",s);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}]),s}(m.Component)}},89706:function(e,n,t){"use strict";t.d(n,{BB:function(){return f},JD:function(){return Z},Lu:function(){return l},PF:function(){return b},aZ:function(){return c},d2:function(){return g},dT:function(){return u},n6:function(){return h},nB:function(){return j},oy:function(){return x},tE:function(){return m},xF:function(){return p}});var r,o,i,c,l,u,s,a=t(82394),d=t(44425);!function(e){e.DBT="dbt"}(c||(c={})),function(e){e.CSV="csv",e.JSON="json",e.MD="md",e.PY="py",e.R="r",e.SH="sh",e.SQL="sql",e.TXT="txt",e.YAML="yaml",e.YML="yml"}(l||(l={})),function(e){e.INIT_PY="__init__.py",e.METADATA_YAML="metadata.yaml",e.REQS_TXT="requirements.txt"}(u||(u={})),function(e){e.EXCLUDE_DIR_PATTERN="exclude_dir_pattern",e.EXCLUDE_PATTERN="exclude_pattern",e.PATTERN="pattern"}(s||(s={}));var f=(r={},(0,a.Z)(r,s.EXCLUDE_PATTERN,"a^"),(0,a.Z)(r,s.EXCLUDE_DIR_PATTERN,"a^"),r),h=[l.PY,l.SQL],m=[l.MD,l.PY,l.R,l.SQL,l.YAML],v=[l.JSON,l.MD,l.PY,l.R,l.SH,l.SQL,l.TXT,l.YAML,l.YML],p=new RegExp(v.map((function(e){return".".concat(e,"$")})).join("|")),g=new RegExp([l.CSV,l.JSON,l.MD,l.PY,l.R,l.SH,l.SQL,l.TXT,l.YAML,l.YML].map((function(e){return".".concat(e,"$")})).join("|")),b="charts",x="pipelines",j=(o={},(0,a.Z)(o,l.MD,d.t6.MARKDOWN),(0,a.Z)(o,l.JSON,l.JSON),(0,a.Z)(o,l.PY,d.t6.PYTHON),(0,a.Z)(o,l.R,d.t6.R),(0,a.Z)(o,l.SQL,d.t6.SQL),(0,a.Z)(o,l.TXT,"text"),(0,a.Z)(o,l.YAML,d.t6.YAML),(0,a.Z)(o,l.YML,d.t6.YAML),o),Z=(i={},(0,a.Z)(i,d.t6.MARKDOWN,l.MD),(0,a.Z)(i,d.t6.PYTHON,l.PY),(0,a.Z)(i,d.t6.R,l.R),(0,a.Z)(i,d.t6.SQL,l.SQL),(0,a.Z)(i,d.t6.YAML,l.YAML),(0,a.Z)(i,"text",l.TXT),i)},40109:function(e,n,t){"use strict";t.d(n,{f:function(){return g},h:function(){return v}});var r=t(82394),o=t(82684),i=t(34376),c=t(93369),l=t(72473),u=t(70515),s=t(69419),a=t(53808),d=t(28598);var f=function(e){var n=e.oauthResponse,t=(0,i.useRouter)(),r=(0,o.useMemo)((function(){return n||{}}),[n]),f=r.url,h=r.redirect_query_params,m=void 0===h?{}:h;return(0,d.jsx)(d.Fragment,{children:f&&(0,d.jsx)(c.ZP,{beforeElement:(0,d.jsx)(l._8,{size:2*u.iI}),bold:!0,inline:!0,onClick:function(){var e=(0,s.iV)(f).state;(0,a.t8)(e,m),t.push(f)},uuid:"SignForm/google",children:"Sign in with Google"})})};var h=function(e){var n=e.oauthResponse,t=(0,i.useRouter)(),r=(0,o.useMemo)((function(){return n||{}}),[n]),f=r.url,h=r.redirect_query_params,m=void 0===h?{}:h;return(0,d.jsx)(d.Fragment,{children:f&&(0,d.jsx)(c.ZP,{beforeElement:(0,d.jsx)(l.Dg,{size:2*u.iI}),bold:!0,inline:!0,onClick:function(){var e=(0,s.iV)(f).state;m&&(0,a.t8)(e,m),t.push(f)},uuid:"SignForm/active_directory",children:"Sign in with Microsoft"})})};var m,v,p=function(e){var n=e.oauthResponse,t=(0,i.useRouter)(),r=(0,o.useMemo)((function(){return n||{}}),[n]),l=r.url,u=r.redirect_query_params,f=void 0===u?{}:u;return(0,d.jsx)(d.Fragment,{children:l&&(0,d.jsx)(c.ZP,{bold:!0,inline:!0,onClick:function(){var e=(0,s.iV)(l).state;(0,a.t8)(e,f),t.push(l)},uuid:"SignForm/okta",children:"Sign in with Okta"})})};!function(e){e.ACTIVE_DIRECTORY="active_directory",e.BITBUCKET="bitbucket",e.GITHUB="github",e.GOOGLE="google",e.OKTA="okta"}(v||(v={}));var g=(m={},(0,r.Z)(m,v.ACTIVE_DIRECTORY,h),(0,r.Z)(m,v.GOOGLE,f),(0,r.Z)(m,v.OKTA,p),m)},65956:function(e,n,t){"use strict";var r=t(38626),o=t(55485),i=t(38276),c=t(30160),l=t(44897),u=t(42631),s=t(47041),a=t(70515),d=t(28598),f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*a.iI,1.5*a.iI,1.5*a.iI),h=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],u.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||l.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||l.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||l.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||l.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||l.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),m=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],u.n_,u.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||l.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||l.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),v=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*a.iI,s.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*a.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),p=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],u.M8,u.YF,1.75*a.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,l=e.contentContainerRef,u=e.dark,s=e.footer,a=e.fullHeight,f=void 0===a||a,g=e.fullWidth,b=void 0===g||g,x=e.header,j=e.headerHeight,Z=e.headerIcon,C=e.headerPaddingVertical,P=e.headerTitle,y=e.maxHeight,w=e.maxWidth,_=e.minWidth,O=e.noPadding,k=e.overflowVisible,S=e.subtitle,I=e.success;return(0,d.jsxs)(h,{borderless:n,dark:u,fullHeight:f,fullWidth:b,maxHeight:y,maxWidth:w,minWidth:_,overflowVisible:k,ref:r,success:I,children:[(x||P)&&(0,d.jsxs)(m,{headerPaddingVertical:C,height:j,children:[x&&x,P&&(0,d.jsx)(o.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(o.ZP,{alignItems:"center",children:[Z&&Z,(0,d.jsx)(i.Z,{ml:Z?1:0,children:(0,d.jsx)(c.ZP,{bold:!0,default:!0,children:P})})]})})]}),(0,d.jsxs)(v,{maxHeight:y,noPadding:O,overflowVisible:k,ref:l,children:[S&&"string"===typeof S&&(0,d.jsx)(i.Z,{mb:2,children:(0,d.jsx)(c.ZP,{default:!0,children:S})}),S&&"string"!==typeof S&&S,t]}),s&&(0,d.jsx)(p,{children:s})]})}},35185:function(e,n,t){"use strict";var r=t(82394),o=t(91835),i=(t(82684),t(38626)),c=t(44897),l=t(42631),u=t(70515),s=t(28598);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=i.default.div.withConfig({displayName:"ProgressBar__ProgressBarContainerStyle",componentId:"sc-10x9ojc-0"})(["border-radius:","px;height:","px;overflow:hidden;position:relative;width:100%;",""],l.BG,.75*u.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||c.Z.monotone).grey200,";\n  ")})),h=i.default.div.withConfig({displayName:"ProgressBar__ProgressBarStyle",componentId:"sc-10x9ojc-1"})(["height:inherit;position:absolute;"," "," "," ",""],(function(e){return!e.danger&&"\n    background-color: ".concat((e.theme.progress||c.Z.progress).positive,";\n  ")}),(function(e){return e.progress&&"\n    width: ".concat(e.progress,"%;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.progress||c.Z.progress).negative,";\n  ")}),(function(e){return e.animateProgress&&"\n    animation: animate-progress ".concat(e.animateProgress.duration,"ms linear forwards;\n\n    @keyframes animate-progress {\n      0% {\n        width: ").concat(e.animateProgress.start,"%;\n      }\n\n      100% {\n        width: ").concat(e.animateProgress.end,"%;\n      }\n    }\n  ")}));n.Z=function(e){var n=(0,o.Z)({},e);return(0,s.jsx)(f,d(d({},n),{},{children:(0,s.jsx)(h,d({},n))}))}},90299:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var r=t(82394),o=t(82684),i=t(71180),c=t(55485),l=t(64888),u=t(38276),s=t(30160),a=t(8059),d=t(38626),f=t(44897),h=t(70515),m=t(47041),v=d.default.div.withConfig({displayName:"indexstyle__TabsContainerStyle",componentId:"sc-segf7l-0"})([""," padding-left:","px;padding-right:","px;"," "," ",""],(0,m.y$)(),h.cd*h.iI,h.cd*h.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.allowScroll&&"\n    overflow: auto;\n  "}),m.w5),p=d.default.div.withConfig({displayName:"indexstyle__SelectedUnderlineStyle",componentId:"sc-segf7l-1"})(["border-radius:6px;height:","px;"," "," ",""],2,(function(e){return!e.selected&&"\n    background-color: transparent;\n  "}),(function(e){return e.selected&&!e.backgroundColor&&"\n    background-color: ".concat((e.theme||f.Z).accent.blue,";\n  ")}),(function(e){return e.selected&&e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")})),g=t(95924),b=t(28598);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Z(e,n){var t=e.allowScroll,r=e.compact,d=e.contained,f=e.large,m=(e.multiSelection,e.noPadding),x=e.onClickTab,Z=e.regularSizeText,C=e.selectedTabUUID,P=e.selectedTabUUIDs,y=e.small,w=e.tabs,_=e.underlineColor,O=e.underlineStyle,k=e.uppercase,S=void 0===k||k,I=(0,o.useMemo)((function(){var e=w.length,n=[];return w.forEach((function(t,d){var m,v=t.Icon,w=t.IconSelected,k=t.icon,I=t.label,E=t.uuid,T=P?E in P:E===C;if(k)m=o.cloneElement(k,j(j({},k.props),{},{size:2*h.iI}));else{var M=T&&w||v;M&&(m=(0,b.jsx)(M,{default:!T,size:2*h.iI}))}var A=I?I():E,D=(0,b.jsxs)(c.ZP,{alignItems:"center",children:[m&&(0,b.jsxs)(b.Fragment,{children:[m,(0,b.jsx)(u.Z,{mr:1})]}),(0,b.jsx)(s.ZP,{bold:!0,default:!T,noWrapping:!0,small:!Z&&!f,uppercase:S,children:A})]});d>=1&&e>=2&&n.push((0,b.jsx)("div",{style:{marginLeft:(Z||f?2:1.5)*h.iI}},"spacing-".concat(E))),T&&!O?n.push((0,b.jsx)(l.Z,{backgroundGradient:a.yr,backgroundPanel:!0,borderLess:!0,borderWidth:2,compact:r||y,onClick:function(e){(0,g.j)(e),x(t)},paddingUnitsHorizontal:1.75,paddingUnitsVertical:1.25,small:y,children:D},E)):n.push((0,b.jsxs)(c.ZP,{flexDirection:"column",style:{paddingLeft:2,paddingRight:2,paddingBottom:O?0:2,paddingTop:O?0:2},children:[(0,b.jsxs)(i.ZP,{borderLess:!0,compact:r||y,default:!0,noBackground:O,noPadding:O,onClick:function(e){(0,g.j)(e),x(t)},outline:!O,small:y,children:[!O&&D,O&&(0,b.jsx)("div",{style:{paddingBottom:(r||y?h.iI/2:h.iI)+2,paddingTop:(r||y?h.iI/2:h.iI)+2+2},children:D})]}),O&&(0,b.jsx)(p,{backgroundColor:_,selected:T})]},"button-tab-".concat(E)))})),n}),[r,x,C,y,w,O]),E=(0,b.jsx)(c.ZP,{alignItems:"center",children:I});return d?E:(0,b.jsx)(v,{allowScroll:t,noPadding:m,ref:n,children:E})}var C=o.forwardRef(Z)},13507:function(e,n,t){"use strict";var r=t(28598);n.Z=function(e){var n=e.fill,t=void 0===n?"white":n,o=e.size;return(0,r.jsxs)("svg",{fill:"none",height:o,viewBox:"0 0 20 20",width:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_11802_82850)",children:[(0,r.jsx)("path",{d:"M15.6276 1.73378C15.97 1.96689 16.022 2.44136 15.7638 2.76532C15.5057 3.08929 15.0355 3.13958 14.69 2.91102C13.3636 2.0334 11.8126 1.54269 10.2126 1.50266C8.36175 1.45636 6.54643 2.01561 5.04253 3.09541C3.53863 4.1752 2.4284 5.71649 1.8806 7.48498C1.40702 9.01387 1.37618 10.6403 1.7837 12.1777C1.88982 12.5781 1.69185 13.0076 1.30237 13.1486C0.912892 13.2896 0.479935 13.0887 0.368517 12.6897C-0.147093 10.8435 -0.122519 8.88224 0.447763 7.04116C1.09223 4.96057 2.39838 3.14729 4.16768 1.87695C5.93697 0.606601 8.07265 -0.0513415 10.2501 0.00312922C12.1769 0.0513296 14.0431 0.655033 15.6276 1.73378Z",fill:t}),(0,r.jsx)("path",{d:"M13.2714 5.89383C13.5295 5.56986 13.4781 5.09341 13.1245 4.87771C12.2306 4.33247 11.2055 4.02828 10.15 4.00188C8.84359 3.9692 7.56218 4.36396 6.50061 5.12617C5.43903 5.88838 4.65534 6.97634 4.26866 8.22469C3.95628 9.23316 3.91679 10.3017 4.14767 11.323C4.23901 11.727 4.67403 11.928 5.06351 11.787C5.45299 11.6461 5.64766 11.216 5.57323 10.8086C5.44361 10.0989 5.48588 9.36461 5.70149 8.66852C5.9915 7.73226 6.57927 6.91628 7.37545 6.34463C8.17164 5.77297 9.13269 5.4769 10.1125 5.50141C10.841 5.51963 11.5503 5.71432 12.1813 6.06401C12.5436 6.26478 13.0133 6.2178 13.2714 5.89383Z",fill:t}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5ZM9 10C9 10.5523 9.44772 11 10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10Z",fill:t,fillRule:"evenodd"}),(0,r.jsx)("path",{d:"M6.87554 15.1223C6.52192 14.9066 6.47052 14.4301 6.72863 14.1062C6.98673 13.7822 7.45642 13.7352 7.81872 13.936C8.44971 14.2857 9.15897 14.4804 9.88746 14.4986C10.8673 14.5231 11.8284 14.227 12.6245 13.6554C13.4207 13.0837 14.0085 12.2677 14.2985 11.3315C14.5141 10.6354 14.5564 9.90111 14.4268 9.19144C14.3523 8.78397 14.547 8.35395 14.9365 8.21295C15.326 8.07196 15.761 8.27297 15.8523 8.67699C16.0832 9.69826 16.0437 10.7668 15.7313 11.7753C15.3447 13.0237 14.561 14.1116 13.4994 14.8738C12.4378 15.636 11.1564 16.0308 9.84995 15.9981C8.79455 15.9717 7.76942 15.6675 6.87554 15.1223Z",fill:t}),(0,r.jsx)("path",{d:"M4.23615 17.2347C3.97805 17.5586 4.03001 18.0331 4.37241 18.2662C5.95691 19.345 7.82314 19.9487 9.74992 19.9969C11.9274 20.0513 14.063 19.3934 15.8323 18.1231C17.6016 16.8527 18.9078 15.0394 19.5522 12.9588C20.1225 11.1178 20.1471 9.15647 19.6315 7.31026C19.5201 6.91131 19.0871 6.7104 18.6976 6.85139C18.3082 6.99238 18.1102 7.42188 18.2163 7.82227C18.6238 9.35971 18.593 10.9861 18.1194 12.515C17.5716 14.2835 16.4614 15.8248 14.9575 16.9046C13.4536 17.9844 11.6382 18.5436 9.78743 18.4973C8.18738 18.4573 6.63645 17.9666 5.30996 17.089C4.96451 16.8604 4.49426 16.9107 4.23615 17.2347Z",fill:t})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_11802_82850",children:(0,r.jsx)("rect",{fill:t,height:"20",width:"20"})})})]})}},7828:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return De}});var r=t(77837),o=t(38860),i=t.n(o),c=t(93808),l=t(82394),u=t(75582),s=t(54407),a=t.n(s),d=t(82684),f=t(69864),h=t(71180),m=t(15338),v=t(55485),p=t(85854),g=t(44085),b=t(38276),x=t(4190),j=t(30160),Z=t(35576),C=t(17488),P=t(12468),y=t(35686),w=t(72473),_="clone",O="delete",k="fetch",S="merge",I="pull",E="push",T="rebase",M="git_remote_name",A="git_repository_name",D={uuid:"Branches"},R={uuid:"Files"},N={uuid:"Push"},B={uuid:"Setup"},H=[B,D,R,N],L=t(70515),V=t(81728),F=t(72619),U=t(28598);var G=function(e){var n=e.actionRemoteName,t=e.branch,r=e.branches,o=e.fetchBranch,i=e.fetchBranches,c=e.remotes,s=e.setActionRemoteName,a=e.showError,_=(0,d.useState)(""),k=_[0],I=_[1],E=(0,d.useState)(null),M=E[0],A=E[1],D=(0,d.useState)(null),N=D[0],H=D[1],G=(0,d.useState)(null),q=G[0],W=G[1],z=(0,d.useState)(""),Y=z[0],K=z[1],Q=(0,d.useMemo)((function(){return null===c||void 0===c?void 0:c.find((function(e){return e.name===n}))}),[n,c]),X=(0,d.useMemo)((function(){return(null===r||void 0===r?void 0:r.concat((null===Q||void 0===Q?void 0:Q.refs)||[]))||[]}),[r,Q]),J=(0,f.Db)(y.ZP.git_custom_branches.useCreate(),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){o(),i(),K("")},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),$=(0,u.Z)(J,2),ee=$[0],ne=$[1].isLoading,te=(0,f.Db)(y.ZP.git_custom_branches.useCreate(),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){o()},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),re=(0,u.Z)(te,2),oe=re[0],ie=re[1].isLoading,ce=(0,f.Db)(y.ZP.git_custom_branches.useUpdate(null===t||void 0===t?void 0:t.name),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(e){var n=e.git_custom_branch.progress;o(),I(""),A(""),H(n),W("")},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),le=(0,u.Z)(ce,2),ue=le[0],se=le[1].isLoading;return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsxs)(p.Z,{children:["Branches",r?" (".concat(null===r||void 0===r?void 0:r.length,")"):""]}),(0,U.jsx)(b.Z,{mt:L.Mq,children:(0,U.jsxs)(v.ZP,{children:[(0,U.jsxs)("div",{children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Remote"})}),(0,U.jsx)(g.Z,{beforeIcon:(0,U.jsx)(w.VW,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return s(e.target.value)},placeholder:"Choose a remote",value:n||"",children:null===c||void 0===c?void 0:c.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))})]}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsxs)("div",{children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Current branch"})}),(0,U.jsxs)(v.ZP,{alignItems:"center",children:[(0,U.jsx)(P.Z,{fullSize:!0,label:"Choose a different branch to switch branches",widthFitContent:!0,children:(0,U.jsx)(g.Z,{beforeIcon:(0,U.jsx)(w.I0,{muted:!1}),beforeIconSize:2*L.iI,monospace:!0,onChange:function(e){return oe({git_custom_branch:{name:e.target.value}})},value:null===t||void 0===t?void 0:t.name,children:(null===t||void 0===t?void 0:t.name)&&(null===r||void 0===r?void 0:r.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)})))})}),(0,U.jsx)(b.Z,{mr:L.cd}),ie&&(0,U.jsx)(x.Z,{inverted:!0})]})]})]})}),(0,U.jsx)(b.Z,{mt:L.Mq,children:(0,U.jsxs)(v.ZP,{alignItems:"center",children:[(0,U.jsx)(C.Z,{label:"New branch name",monospace:!0,onChange:function(e){var n;return K(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)},value:Y||""}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsx)(h.ZP,{beforeIcon:(0,U.jsx)(w.mm,{size:2*L.iI}),disabled:!Y,loading:ne,onClick:function(){ee({git_custom_branch:{name:Y}})},primary:!0,children:"Create new branch"})]})})]}),(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(p.Z,{children:"Actions"}),(0,U.jsxs)(b.Z,{mt:L.Mq,children:[(0,U.jsxs)(b.Z,{mb:L.Mq,children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Compare branch"})}),(null===t||void 0===t?void 0:t.name)&&(0,U.jsx)(j.ZP,{monospace:!0,children:null===t||void 0===t?void 0:t.name})]}),(0,U.jsxs)(v.ZP,{alignItems:"center",children:[(0,U.jsxs)("div",{children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Base branch"})}),(0,U.jsx)(g.Z,{beforeIcon:(0,U.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return W(e.target.value)},placeholder:"Choose a branch",value:q,children:null===X||void 0===X?void 0:X.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))})]}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsxs)("div",{children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Action"})}),(0,U.jsxs)(g.Z,{onChange:function(e){return A(e.target.value)},placeholder:"Choose action",value:M||"",children:[(0,U.jsx)("option",{value:S,children:(0,V.vg)(S)}),(0,U.jsx)("option",{value:T,children:(0,V.vg)(T)}),(0,U.jsx)("option",{value:O,children:(0,V.vg)(O)})]})]})]}),M&&[S,T].includes(M)&&(0,U.jsxs)(b.Z,{mt:L.cd,children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsxs)(j.ZP,{bold:!0,muted:!0,children:["Message for ",M]})}),(0,U.jsx)(Z.Z,{monospace:!0,onChange:function(e){return I(e.target.value)},value:k||""})]}),(0,U.jsxs)(b.Z,{mt:L.cd,children:[(0,U.jsx)(h.ZP,{beforeIcon:(0,U.jsx)(w.Bf,{size:2*L.iI}),disabled:!M||!q,loading:se,onClick:function(){(O!==M||"undefined"!==typeof location&&window.confirm("Are you sure you want to delete branch ".concat(q,"?")))&&ue({git_custom_branch:(0,l.Z)({action_type:M,message:k},M,{base_branch:q})})},primary:!0,children:M?(0,V.vg)(M):"Execute action"}),N&&(0,U.jsx)(b.Z,{mt:L.cd,children:(0,U.jsx)(j.ZP,{default:!0,monospace:!0,preWrap:!0,children:N})})]})]})]}),(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(b.Z,{mb:L.HN,children:(0,U.jsx)(m.Z,{light:!0})}),(0,U.jsxs)(v.ZP,{children:[(0,U.jsx)(h.ZP,{beforeIcon:(0,U.jsx)(w.Hd,{}),linkProps:{href:"/version-control?tab=".concat(B.uuid)},noBackground:!0,noHoverUnderline:!0,sameColorAsText:!0,children:B.uuid}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsxs)(h.ZP,{afterIcon:(0,U.jsx)(w.Kw,{}),linkProps:{href:"/version-control?tab=".concat(R.uuid)},noHoverUnderline:!0,sameColorAsText:!0,secondary:!0,children:["Next: ",R.uuid]})]})]})]})},q=t(90299),W=t(32013),z=t(98777),Y=t(48670),K=t(75499);function Q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var J={base_branch:null,body:null,compare_branch:null,repository:null,title:null};var $=function(e){var n=e.actionRemoteName,t=e.branch,r=e.branches,o=e.fetchBranch,i=e.loading,c=e.remotes,s=e.repositories,a=e.repositoryName,P=e.setActionRemoteName,_=e.setRepositoryName,O=e.showError,k=(0,d.useState)((null===t||void 0===t?void 0:t.name)||""),S=k[0],I=k[1],T=(0,d.useState)(null),M=T[0],A=T[1],D=(0,d.useState)(null),N=D[0],B=D[1],H=(0,d.useState)(J),G=H[0],q=H[1],Q=(0,f.Db)(y.ZP.git_custom_branches.useUpdate(null===t||void 0===t?void 0:t.name),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(e){var n=e.git_custom_branch,t=n.error,r=n.progress;t?(A(t),B(null)):(o(),A(null),B(r))},onErrorCallback:function(e,n){return O({errors:n,response:e})}})}}),$=(0,u.Z)(Q,2),ee=$[0],ne=$[1].isLoading,te=(0,d.useMemo)((function(){var e;return null===s||void 0===s||null===(e=s.find((function(e){return e.name===a})))||void 0===e?void 0:e.url}),[s,a]),re=y.ZP.pull_requests.list({remote_url:te,repository:a},{},{pauseFetch:!a}),oe=re.data,ie=re.mutate,ce=(0,d.useMemo)((function(){return(null===oe||void 0===oe?void 0:oe.pull_requests)||[]}),[oe]),le=(0,d.useMemo)((function(){return(0,U.jsx)(K.Z,{columnFlex:[null,null,null,null],columns:[{uuid:"Title"},{uuid:"Author"},{uuid:"Created"},{uuid:"Last modified"}],onClickRow:function(e){var n,t=null===ce||void 0===ce||null===(n=ce[e])||void 0===n?void 0:n.url;t&&window.open(t,"_blank")},rows:null===ce||void 0===ce?void 0:ce.map((function(e){var n=e.created_at,t=e.last_modified,r=e.title,o=e.url,i=e.user;return[(0,U.jsx)(Y.Z,{default:!0,href:o,monospace:!0,openNewWindow:!0,small:!0,children:r},"title"),(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:i},"user"),(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:n},"createdAt"),(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:t||"-"},"lastModified")]})),uuid:"pull-requests"})}),[ce]),ue=y.ZP.git_custom_branches.list({remote_url:te,repository:a},{},{pauseFetch:!a}).data,se=(0,d.useMemo)((function(){return(null===ue||void 0===ue?void 0:ue.git_custom_branches)||[]}),[ue]);(0,d.useEffect)((function(){null!==G&&void 0!==G&&G.compare_branch||null===se||void 0===se||!se.find((function(e){return e.name===(null===t||void 0===t?void 0:t.name)}))||q((function(e){return X(X({},e),{},{compare_branch:null===t||void 0===t?void 0:t.name})}))}),[t,se,G]);var ae=(0,f.Db)(y.ZP.pull_requests.useCreate(),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){ie(),q(J)},onErrorCallback:function(e,n){return O({errors:n,response:e})}})}}),de=(0,u.Z)(ae,2),fe=de[0],he=de[1].isLoading;return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(p.Z,{children:(0,V.vg)(E)})}),(0,U.jsxs)(b.Z,{mt:L.Mq,children:[(0,U.jsxs)(v.ZP,{children:[(0,U.jsxs)("div",{children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Remote"})}),i&&(0,U.jsx)(x.Z,{inverted:!0}),!i&&(0,U.jsx)(g.Z,{beforeIcon:(0,U.jsx)(w.VW,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return P(e.target.value)},placeholder:"Choose remote",value:n||"",children:null===c||void 0===c?void 0:c.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))})]}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsxs)("div",{children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Branch"})}),(0,U.jsxs)(g.Z,{beforeIcon:(0,U.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return I(e.target.value)},placeholder:"Choose branch",value:S||"",children:[(0,U.jsx)("option",{value:""}),null===r||void 0===r?void 0:r.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))]})]})]}),(0,U.jsx)(b.Z,{mt:L.cd,children:(0,U.jsxs)(h.ZP,{beforeIcon:(0,U.jsx)(w.Bf,{size:2*L.iI}),disabled:!n||!S,loading:ne,onClick:function(){B(null),ee({git_custom_branch:(0,l.Z)({action_type:E},E,{branch:S,remote:n})})},primary:!0,children:[(0,V.vg)(E)," ",n," ",n&&S]})}),(N||M)&&(0,U.jsx)(b.Z,{mt:L.cd,children:(0,U.jsx)(j.ZP,{danger:!!M,default:!!N,monospace:!0,preWrap:!0,children:N||M})})]})]}),(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(p.Z,{children:"Create pull request"})}),(0,U.jsxs)(b.Z,{mt:L.Mq,children:[i&&(0,U.jsx)(x.Z,{inverted:!0}),!i&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(v.ZP,{children:[(0,U.jsxs)("div",{children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Repository"})}),(0,U.jsx)(g.Z,{monospace:!0,onChange:function(e){return _(e.target.value)},placeholder:"Choose repository",value:a||"",children:null===s||void 0===s?void 0:s.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))})]}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsxs)("div",{children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Base branch"})}),a&&!ue&&(0,U.jsx)(x.Z,{inverted:!0}),(!a||ue)&&(0,U.jsx)(g.Z,{beforeIcon:(0,U.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,disabled:!a,monospace:!0,onChange:function(e){return q((function(n){return X(X({},n),{},{base_branch:e.target.value})}))},placeholder:"Choose branch",value:(null===G||void 0===G?void 0:G.base_branch)||"",children:null===se||void 0===se?void 0:se.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))})]}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsxs)("div",{children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Compare branch"})}),a&&!ue&&(0,U.jsx)(x.Z,{inverted:!0}),(!a||ue||(null===G||void 0===G?void 0:G.compare_branch))&&(0,U.jsxs)(g.Z,{beforeIcon:(0,U.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,disabled:!a,monospace:!0,onChange:function(e){return q((function(n){return X(X({},n),{},{compare_branch:e.target.value})}))},placeholder:"Choose branch",value:(null===G||void 0===G?void 0:G.compare_branch)||"",children:[!(null!==se&&void 0!==se&&se.length)&&(null===G||void 0===G?void 0:G.compare_branch)&&(0,U.jsx)("option",{value:null===G||void 0===G?void 0:G.compare_branch,children:null===G||void 0===G?void 0:G.compare_branch}),null===se||void 0===se?void 0:se.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))]})]})]}),(0,U.jsx)(b.Z,{mt:1,children:(0,U.jsx)(C.Z,{label:"Title",monospace:!0,onChange:function(e){return q((function(n){return X(X({},n),{},{title:e.target.value})}))},value:(null===G||void 0===G?void 0:G.title)||""})}),(0,U.jsx)(b.Z,{mt:1,children:(0,U.jsx)(Z.Z,{label:"Description",monospace:!0,onChange:function(e){return q((function(n){return X(X({},n),{},{body:e.target.value})}))},value:(null===G||void 0===G?void 0:G.body)||""})}),(0,U.jsx)(b.Z,{mt:L.cd,children:(0,U.jsx)(h.ZP,{beforeIcon:(0,U.jsx)(w.Bf,{size:2*L.iI}),disabled:!a||!(null!==G&&void 0!==G&&G.title)||!(null!==G&&void 0!==G&&G.base_branch)||!(null!==G&&void 0!==G&&G.compare_branch),loading:he,onClick:function(){fe({pull_request:X(X({},G),{},{remote_url:te,repository:a})})},primary:!0,children:"Create new pull request"})})]})]}),(0,U.jsx)(b.Z,{mt:L.Mq,children:(0,U.jsx)(W.Z,{visibleMapping:{0:!a},children:(0,U.jsxs)(z.Z,{noPaddingContent:!0,title:oe?"Pull requests (".concat(null===ce||void 0===ce?void 0:ce.length,")"):"Pull requests",children:[!a&&(0,U.jsx)(b.Z,{p:L.cd,children:(0,U.jsx)(j.ZP,{muted:!0,children:"Please select a repository to view open pull requests."})}),a&&(0,U.jsxs)(U.Fragment,{children:[!oe&&(0,U.jsx)(b.Z,{p:L.cd,children:(0,U.jsx)(x.Z,{inverted:!0})}),oe&&le]})]})})})]}),(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(b.Z,{mb:L.HN,children:(0,U.jsx)(m.Z,{light:!0})}),(0,U.jsx)(v.ZP,{children:(0,U.jsx)(h.ZP,{beforeIcon:(0,U.jsx)(w.Hd,{}),linkProps:{href:"/version-control?tab=".concat(R.uuid)},noBackground:!0,noHoverUnderline:!0,sameColorAsText:!0,children:R.uuid})})]})]})},ee=t(94629),ne=t(29269),te=t(70652),re=t(97618),oe=t(38626),ie=oe.default.div.withConfig({displayName:"indexstyle__SpacingStyle",componentId:"sc-el09vr-0"})(["margin-top:","px;"],.5*L.iI),ce=t(42122);function le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?le(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var se,ae=function(e){var n=e.branch,t=e.fetchBranch,r=e.modifiedFiles,o=e.setSelectedFilePath,i=e.showError,c=e.stagedFiles,l=e.untrackedFiles,s=(0,d.useRef)(null),a=(0,d.useState)(""),g=a[0],C=a[1],P=(0,d.useState)({}),_=P[0],O=P[1],k=(0,d.useState)({}),S=k[0],I=k[1],E=(0,d.useMemo)((function(){return Object.keys(r).concat(Object.keys(l)).sort()}),[r,l]),T=(0,d.useMemo)((function(){return Object.keys(c||{})}),[c]),M=(0,d.useMemo)((function(){return T.length}),[T]),A=(0,d.useMemo)((function(){return Object.keys(_).length===(null===E||void 0===E?void 0:E.length)}),[_,E]),R=(0,d.useMemo)((function(){return Object.keys(S).length===(null===T||void 0===T?void 0:T.length)}),[S,T]),B=(0,d.useMemo)((function(){return{onErrorCallback:function(e,n){return i({errors:n,response:e})}}}),[i]),H=(0,d.useMemo)((function(){return{onSuccess:function(e){return(0,F.wD)(e,ue({callback:function(){t(),O({})}},B))}}}),[t,B]),G=(0,d.useMemo)((function(){return y.ZP.git_custom_branches.useUpdate(null===n||void 0===n?void 0:n.name)}),[n]),q=(0,f.Db)(G,H),Q=(0,u.Z)(q,2),X=Q[0],J=Q[1].isLoading,$=(0,f.Db)(G,H),ee=(0,u.Z)($,2),ne=ee[0],oe=ee[1].isLoading,le=(0,f.Db)(G,{onSuccess:function(e){return(0,F.wD)(e,ue({callback:function(){t(),I({})}},B))}}),se=(0,u.Z)(le,2),ae=se[0],de=se[1].isLoading,fe=(0,d.useCallback)((function(e,n,t,r,o){var i=(null===e||void 0===e?void 0:e.length)>=1;return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Y.Z,{block:!0,noHoverUnderline:!0,onClick:function(){t(o?{}:r)},preventDefault:!0,children:(0,U.jsxs)(v.ZP,{alignItems:"center",flexDirection:"row",children:[(0,U.jsx)(te.Z,{checked:i&&o,disabled:!i}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsx)(j.ZP,{bold:!0,children:i&&o?"Unselect all":"Select all"})]})}),e.map((function(e){return(0,U.jsx)(ie,{children:(0,U.jsx)(Y.Z,{block:!0,noHoverUnderline:!0,onClick:function(){return t((function(n){var t=ue({},n);return!(null!==t&&void 0!==t&&t[e])?t[e]=!0:delete t[e],t}))},preventDefault:!0,children:(0,U.jsxs)(v.ZP,{alignItems:"center",flexDirection:"row",children:[(0,U.jsx)(te.Z,{checked:!(null===n||void 0===n||!n[e])}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsx)(j.ZP,{default:!0,monospace:!0,children:e})]})})},e)}))]})}),[]),he=(0,d.useMemo)((function(){return(0,ce.Qr)(_)}),[_]),me=y.ZP.git_custom_branches.detail("with_logs",{_format:"with_logs"}),ve=me.data,pe=me.mutate,ge=(0,d.useMemo)((function(){var e;return(null===ve||void 0===ve||null===(e=ve.git_custom_branch)||void 0===e?void 0:e.logs)||[]}),[ve]),be=(0,f.Db)(y.ZP.git_custom_branches.useUpdate(null===n||void 0===n?void 0:n.name),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){pe(),t(),C("")},onErrorCallback:function(e,n){return i({errors:n,response:e})}})}}),xe=(0,u.Z)(be,2),je=xe[0],Ze=xe[1].isLoading,Ce=(0,d.useMemo)((function(){return(0,U.jsx)(K.Z,{columnFlex:[1,1,1],columns:[{uuid:"Author"},{uuid:"Date"},{uuid:"Message"}],rows:ge.map((function(e){var n=e.author,t=e.date,r=e.message;return[(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:null===n||void 0===n?void 0:n.name},"author"),(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:t},"date"),(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:r},"message")]})),uuid:"git-branch-logs"})}),[ge]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(b.Z,{mb:L.HN,children:(0,U.jsxs)(v.ZP,{children:[(0,U.jsxs)(re.Z,{flex:1,flexDirection:"column",children:[(0,U.jsxs)(p.Z,{children:["Not staged ",(null===E||void 0===E?void 0:E.length)>=1&&"(".concat(null===E||void 0===E?void 0:E.length,")")]}),(0,U.jsx)(b.Z,{my:L.cd,children:(0,U.jsx)(m.Z,{light:!0})}),(0,U.jsx)(b.Z,{mb:L.cd,children:(0,U.jsxs)(v.ZP,{flexDirection:"row",children:[(0,U.jsx)(h.ZP,{compact:!0,disabled:he||de||oe,loading:J,onClick:function(){X({git_custom_branch:{action_type:"add",files:Object.keys(_)}}).then((function(e){var n,t=e.data;null!==t&&void 0!==t&&t.git_custom_branch&&(null===s||void 0===s||null===(n=s.current)||void 0===n||n.focus())}))},primary:!0,children:"Add files"}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsx)(h.ZP,{compact:!0,disabled:he||J||de,loading:oe,noBackground:!0,onClick:function(){"undefined"!==typeof location&&window.confirm("Are you sure you want to undo all changes in the selected files?")&&ne({git_custom_branch:{action_type:"checkout",files:Object.keys(_)}})},children:"Checkout files"})]})}),fe(E,_,O,ue(ue({},r),l),A)]}),(0,U.jsx)(b.Z,{mr:L.cd}),(0,U.jsxs)(re.Z,{flex:1,flexDirection:"column",children:[(0,U.jsxs)(p.Z,{children:["Staged files ",(null===T||void 0===T?void 0:T.length)>=1&&"(".concat(null===T||void 0===T?void 0:T.length,")")]}),(0,U.jsx)(b.Z,{my:L.cd,children:(0,U.jsx)(m.Z,{light:!0})}),(0,U.jsx)(b.Z,{mb:L.cd,children:(0,U.jsx)(v.ZP,{flexDirection:"row",children:(0,U.jsx)(h.ZP,{compact:!0,disabled:(0,ce.Qr)(S)||J||oe,loading:de,onClick:function(){ae({git_custom_branch:{action_type:"reset",files:Object.keys(S)}})},secondary:!0,children:"Reset files"})})}),fe(T,S,I,c,R)]})]})}),(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(p.Z,{children:"Commit"})}),(0,U.jsx)(b.Z,{mb:L.cd,children:(0,U.jsx)(W.Z,{children:(0,U.jsx)(z.Z,{noPaddingContent:!0,title:M>=1?"Staged files (".concat(M,")"):"No staged files",children:null===T||void 0===T?void 0:T.map((function(e){return(0,U.jsx)(b.Z,{my:1,px:L.cd,children:(0,U.jsxs)(v.ZP,{justifyContent:"space-between",children:[(0,U.jsx)(Y.Z,{default:!0,monospace:!0,onClick:function(){return o((function(n){return n===e?null:e}))},warning:null===r||void 0===r?void 0:r[e],children:e}),(0,U.jsx)(b.Z,{mr:1}),(null===r||void 0===r?void 0:r[e])&&(0,U.jsx)(j.ZP,{warning:!0,children:"Modified after staging"})]})},e)}))})})}),(0,U.jsx)(Z.Z,{label:"Commit message",monospace:!0,onChange:function(e){return C(e.target.value)},ref:s,value:g||""}),(0,U.jsx)(b.Z,{mt:L.cd,children:(0,U.jsxs)(v.ZP,{alignItems:"center",children:[(0,U.jsxs)(h.ZP,{disabled:0===M||!((null===g||void 0===g?void 0:g.length)>=1),loading:Ze,onClick:function(){je({git_custom_branch:{action_type:"commit",message:g}})},primary:!0,children:["Commit ",(0,V._6)("file",M,!0)," with message"]}),0===M&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(b.Z,{mr:1}),(0,U.jsx)(j.ZP,{danger:!0,small:!0,children:"Please stage at least 1 file before committing."})]})]})})]}),(0,U.jsx)(b.Z,{mb:L.HN,children:(0,U.jsx)(W.Z,{children:(0,U.jsxs)(z.Z,{noPaddingContent:!0,title:"Logs",children:[!ve&&(0,U.jsx)(b.Z,{p:L.cd,children:(0,U.jsx)(x.Z,{inverted:!0})}),ve&&Ce]})})}),(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(b.Z,{mb:L.HN,children:(0,U.jsx)(m.Z,{light:!0})}),(0,U.jsxs)(v.ZP,{children:[(0,U.jsx)(h.ZP,{beforeIcon:(0,U.jsx)(w.Hd,{}),linkProps:{href:"/version-control?tab=".concat(D.uuid)},noBackground:!0,noHoverUnderline:!0,sameColorAsText:!0,children:D.uuid}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsxs)(h.ZP,{afterIcon:(0,U.jsx)(w.Kw,{}),linkProps:he?{href:"/version-control?tab=".concat(N.uuid)}:null,noHoverUnderline:!0,primary:he,sameColorAsText:!0,secondary:!he,children:["Next: ",N.uuid]})]})]})]})},de=t(12691),fe=t.n(de),he=t(34376),me=t(63403),ve=oe.default.svg.withConfig({displayName:"BitbucketWithText__SVGStyle",componentId:"sc-wdje9z-0"})([""]),pe=function(e){var n=e.fill,t=e.opacity,r=e.size,o=void 0===r?me.C:r,i=e.style,c=e.viewBox,l=void 0===c?"0 0 299 42":c;return(0,U.jsxs)(ve,{fill:n,height:o,opacity:t,style:i,viewBox:l,width:o,children:[(0,U.jsx)("path",{d:"M63.3372 2.9978H79.5353C87.4335 2.9978 91.2488 6.77741 91.2488 12.8379C91.2488 17.3994 89.1068 20.2016 84.756 21.179C90.4455 22.0914 93.3237 25.1542 93.3237 30.4978C93.3237 36.4931 89.1737 40.6637 80.4724 40.6637H63.3372V2.9978ZM68.625 19.0939H78.799C83.8191 19.0939 85.894 16.8782 85.894 13.2289C85.894 9.57954 83.6852 7.82008 78.799 7.82008H68.625V19.0939ZM68.625 23.7206V35.4504H80.673C85.7601 35.4504 88.036 33.6909 88.036 29.9113C88.036 25.871 85.827 23.7206 80.5393 23.7206H68.625Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M101.958 0.977783C104.033 0.977783 105.506 2.21592 105.506 4.43157C105.506 6.58205 104.033 7.88536 101.958 7.88536C99.8833 7.88536 98.4106 6.6472 98.4106 4.43157C98.4106 2.21592 99.8833 0.977783 101.958 0.977783ZM99.3478 11.9907H104.435V40.6638H99.3478V11.9907Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M123.779 36.0376C124.984 36.0376 126.055 35.7769 126.992 35.6466V40.4037C126.121 40.6643 125.117 40.8599 123.578 40.8599C117.286 40.8599 114.207 37.2756 114.207 31.9321V16.5529H109.455V11.9912H114.207V5.93091H119.16V11.9912H126.992V16.5529H119.16V31.7367C119.093 34.2781 120.633 36.0376 123.779 36.0376Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M138.504 35.5806V40.5982H133.417V0H138.504V17.1386C140.378 13.359 143.926 11.4039 148.477 11.4039C156.309 11.4039 160.258 17.8554 160.258 26.3271C160.258 34.4076 156.108 41.25 147.875 41.25C143.524 41.25 140.244 39.3602 138.504 35.5806ZM147.072 16.0309C142.52 16.0309 138.504 18.8329 138.504 25.2191V27.5001C138.504 33.8863 142.186 36.6883 146.536 36.6883C152.226 36.6883 155.171 33.0392 155.171 26.3921C155.171 19.4194 152.36 16.0309 147.072 16.0309Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M165.546 11.991H170.633V29.3252C170.633 34.4733 172.775 36.7541 177.594 36.7541C182.279 36.7541 185.559 33.6913 185.559 27.8915V11.991H190.647V40.664H185.559V35.972C183.685 39.3607 180.204 41.2505 176.255 41.2505C169.495 41.2505 165.613 36.6888 165.613 28.8039V11.991H165.546Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M219.027 39.8814C217.287 40.7938 214.542 41.1847 211.864 41.1847C201.355 41.1847 196.469 34.9941 196.469 26.1967C196.469 17.5296 201.355 11.3389 211.864 11.3389C214.542 11.3389 216.55 11.6647 218.892 12.7072V17.2689C217.019 16.4218 215.011 15.9006 212.266 15.9006C204.636 15.9006 201.49 20.5924 201.49 26.1967C201.49 31.8009 204.702 36.4929 212.401 36.4929C215.412 36.4929 217.287 36.1018 219.092 35.4502V39.8814H219.027Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M224.783 40.6635V0H229.87V25.4147L242.52 11.9904H249.147L235.29 26.0664L249.681 40.6635H242.789L229.802 27.2392V40.6635H224.783Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M266.483 41.2506C255.437 41.2506 250.619 35.0599 250.619 26.2624C250.619 17.5954 255.572 11.4045 264.541 11.4045C273.644 11.4045 277.259 17.5302 277.259 26.2624V28.4781H255.773C256.51 33.3655 259.722 36.4935 266.684 36.4935C270.096 36.4935 272.974 35.8418 275.652 34.9296V39.4911C273.175 40.7944 269.494 41.2506 266.483 41.2506ZM255.706 24.2423H272.172C271.904 18.8987 269.427 15.9012 264.34 15.9012C258.919 15.9012 256.242 19.2897 255.706 24.2423Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M294.929 36.0376C296.134 36.0376 297.205 35.7769 298.142 35.6466V40.4037C297.272 40.6643 296.267 40.8599 294.728 40.8599C288.437 40.8599 285.359 37.2756 285.359 31.9321V16.5529H280.606V11.9912H285.359V5.93091H290.311V11.9912H298.142V16.5529H290.311V31.7367C290.245 34.2781 291.784 36.0376 294.929 36.0376Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M1.36497 4.1062C0.556341 4.1062 -0.117513 4.82301 0.0172582 5.605L5.74501 39.1654C5.87979 40.0127 6.62103 40.6642 7.56442 40.6642H34.9903C35.6641 40.6642 36.2032 40.208 36.338 39.5565L42.0658 5.605C42.2006 4.82301 41.594 4.1062 40.718 4.1062H1.36497ZM25.4889 28.3479H16.7288L14.3704 16.3573H27.6453L25.4889 28.3479Z",fill:n||"white"}),(0,U.jsx)("path",{d:"M40.2462 16.3572H27.5775L25.4886 28.3478H16.7286L6.3512 40.2079C6.3512 40.2079 6.82289 40.6641 7.56413 40.6641H34.99C35.6639 40.6641 36.2029 40.2079 36.3377 39.5562L40.2462 16.3572Z",fill:"url(#paint0_linear_13549_1163)"}),(0,U.jsx)("defs",{children:(0,U.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_13549_1163",x1:"43.1513",x2:"22.7826",y1:"19.7256",y2:"36.1667",children:[(0,U.jsx)("stop",{offset:"0.176",stopColor:"#0052CC"}),(0,U.jsx)("stop",{offset:"1",stopColor:"#2684FF"})]})})]})},ge=t(40109),be=t(69419),xe=t(53808),je=(se={},(0,l.Z)(se,ge.h.GITHUB,w.Je),(0,l.Z)(se,ge.h.BITBUCKET,pe),se);function Ze(e){var n=e.isLoadingCreateOauth,t=e.oauth,r=e.provider,o=e.showError,i=(0,he.useRouter)(),c=(0,f.Db)(y.ZP.oauths.useUpdate(r),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){return window.location.href=window.location.href.split("?")[0]},onErrorCallback:function(e,n){return o({errors:n,response:e})}})}}),l=(0,u.Z)(c,2),s=l[0],a=l[1].isLoading,d=je[r];return(0,U.jsxs)(v.ZP,{justifyContent:"space-between",children:[(0,U.jsx)(re.Z,{children:(0,U.jsx)(d,{size:12*L.iI})}),(0,U.jsx)(re.Z,{alignItems:"center",children:null!==t&&void 0!==t&&t.authenticated?(0,U.jsx)(h.ZP,{loading:a,onClick:function(){return s({oauth:{action_type:"reset"}})},warning:!0,children:"Reset"}):(0,U.jsx)(h.ZP,{loading:n,onClick:function(){var e=null===t||void 0===t?void 0:t.url,n=(0,be.iV)(e).state;(0,xe.t8)(n,(null===t||void 0===t?void 0:t.redirect_query_params)||{}),i.push(e)},primary:!0,children:"Authenticate"})})]})}var Ce=function(e){var n=e.branch,t=e.isLoadingCreateOauth,r=e.showError,o=y.ZP.oauths.list({type:"git",redirect_uri:encodeURIComponent(window.location.href)}),i=o.data,c=(o.mutate,y.ZP.oauths.detail(ge.h.GITHUB,{redirect_uri:encodeURIComponent(window.location.href)})),l=c.data,s=(c.mutate,(0,d.useMemo)((function(){return(null===l||void 0===l?void 0:l.oauth)||{}}),[l])),a=(0,d.useMemo)((function(){return null===n||void 0===n?void 0:n.access_token_exists}),[n]),f=(0,d.useMemo)((function(){var e,n=(null===i||void 0===i||null===(e=i.oauths)||void 0===e?void 0:e.reduce((function(e,n){return e[n.provider]=n,e}),{}))||{};return n[ge.h.GITHUB]=s,n}),[i,s]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(p.Z,{children:"Authentication"}),(0,U.jsxs)(b.Z,{mt:L.Mq,children:[a&&(0,U.jsxs)(b.Z,{mb:2,children:[(0,U.jsx)(h.ZP,{disabled:!0,children:"Using access token from Git Settings"}),(0,U.jsx)(b.Z,{mt:1,children:(0,U.jsx)(j.ZP,{muted:!0,children:"Some features may not work unless you authenticate with a Git client."})})]}),(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(b.Z,{mb:L.Mq,children:(0,U.jsx)(j.ZP,{muted:!0,children:"Authenticating with the apps below will allow you to easily pull, push, and create pull requests."})}),(0,U.jsxs)(b.Z,{mb:L.Mq,style:{maxWidth:"600px"},children:[(0,U.jsx)(m.Z,{muted:!0}),Object.entries(f||{}).map((function(e){var n=(0,u.Z)(e,2),o=n[0],i=n[1];return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Ze,{isLoadingCreateOauth:t,oauth:i,provider:o,showError:r},o),(0,U.jsx)(m.Z,{muted:!0})]})}))]})]})]})]})};var Pe=function(e){var n=e.actionRemoteName,t=e.branch,r=e.fetchBranch,o=e.loading,i=e.remotes,c=e.setActionRemoteName,s=e.showError,a=(0,he.useRouter)(),Z=(0,d.useRef)(null),P=(0,d.useState)(null),O=P[0],S=P[1],E=(0,d.useState)(null),T=E[0],M=E[1],A=(0,d.useState)(null),R=A[0],N=A[1],B=(0,d.useState)(null),H=B[0],G=B[1],q=(0,d.useState)(!1),Q=q[0],X=q[1],J=(0,d.useState)(null),$=J[0],ee=J[1],ne=(0,d.useState)(""),te=ne[0],oe=ne[1],ie=(0,d.useState)(""),ce=ie[0],le=ie[1],ue=(0,d.useState)(null),se=ue[0],ae=ue[1],de=(0,d.useMemo)((function(){return!(null===t||void 0===t||!t.name)}),[t]);(0,d.useMemo)((function(){return null===t||void 0===t?void 0:t.access_token_exists}),[t]),(0,d.useEffect)((function(){var e,n;null!==t&&void 0!==t&&null!==(e=t.sync_config)&&void 0!==e&&e.repo_path&&null===se&&ae(null===t||void 0===t||null===(n=t.sync_config)||void 0===n?void 0:n.repo_path)}),[t,se]);var me=(0,d.useMemo)((function(){var e,t;return null===i||void 0===i||null===(e=i.find((function(e){return e.name===n})))||void 0===e||null===(t=e.refs)||void 0===t?void 0:t.map((function(e){var n=e.name.split("/");return{name:n[n.length-1]}}))}),[n,i]),ve=(0,f.Db)(y.ZP.syncs.useCreate(),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){r(),X(!1)},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}}),pe=(0,u.Z)(ve,2),xe=pe[0],je=pe[1].isLoading,Ze=(0,f.Db)(y.ZP.oauths.useUpdate("github"),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){return window.location.href=window.location.href.split("?")[0]},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}}),Pe=(0,u.Z)(Ze,2),ye=(Pe[0],Pe[1].isLoading,(0,f.Db)(y.ZP.git_custom_branches.useUpdate(null===t||void 0===t?void 0:t.name),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(e){var n=e.git_custom_branch,t=n.error,o=n.progress;t?(M(t),G(null)):(r(),S(null),M(null),N(null),G(o))},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}})),we=(0,u.Z)(ye,2),_e=we[0],Oe=we[1].isLoading,ke=(0,f.Db)(y.ZP.git_custom_branches.useUpdate(null===t||void 0===t?void 0:t.name),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){r(),oe(""),le("")},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}}),Se=(0,u.Z)(ke,2),Ie=Se[0],Ee=Se[1].isLoading,Te=(0,f.Db)(y.ZP.git_custom_branches.useUpdate(null===t||void 0===t?void 0:t.name),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){r(),ee(null)},onErrorCallback:function(e,n){ee(null),s({errors:n,response:e})}})}}),Me=(0,u.Z)(Te,2),Ae=Me[0],De=Me[1].isLoading,Re=(0,f.Db)(y.ZP.oauths.useCreate(),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){return window.location.href="".concat(a.basePath,"/version-control")},onErrorCallback:function(e,n){s({errors:n,response:e})}})}}),Ne=(0,u.Z)(Re,2),Be=Ne[0],He=Ne[1].isLoading,Le=(0,be.iV)()||{},Ve=Le.access_token,Fe=Le.provider;(0,d.useEffect)((function(){Ve&&Be({oauth:{provider:Fe||ge.h.GITHUB,token:Ve}})}),[Ve,Be,Fe]);var Ue=(0,d.useMemo)((function(){return null===i||void 0===i?void 0:i.map((function(e){var t=e.name,r=e.refs,o=e.urls;return(0,U.jsxs)(b.Z,{mt:L.Mq,children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsxs)(v.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,U.jsxs)(re.Z,{alignItems:"center",children:[(0,U.jsx)(j.ZP,{bold:!0,children:t}),(0,U.jsx)(b.Z,{mx:1,children:(0,U.jsx)(w._Q,{muted:!0})}),null===o||void 0===o?void 0:o.map((function(e){return(0,U.jsx)(b.Z,{mr:1,children:(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:e})},e)}))]}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsx)(h.ZP,{compact:!0,disabled:De&&$!==t,iconOnly:!0,loading:De&&$===t,noBackground:!0,onClick:function(){"undefined"!==typeof location&&window.confirm("Are you sure you want to remove remote ".concat(t,"?"))&&(ee(t),Ae({git_custom_branch:{action_type:"remove_remote",remote:{name:t}}}).then((function(){n===t&&c(null)})))},small:!0,title:"Remote remote ".concat(t),children:(0,U.jsx)(w.rF,{})})]})}),(0,U.jsx)(W.Z,{children:(0,U.jsxs)(z.Z,{noPaddingContent:!0,smallTitle:!0,title:"Refs (".concat(null===r||void 0===r?void 0:r.length,")"),children:[0===(null===r||void 0===r?void 0:r.length)&&(0,U.jsx)(b.Z,{p:L.cd,children:(0,U.jsx)(j.ZP,{muted:!0,children:"This remote has no refs."})}),(null===r||void 0===r?void 0:r.length)>=1&&(0,U.jsx)(K.Z,{columnFlex:[1,1,1],columns:[{uuid:"Ref"},{uuid:"Author"},{uuid:"Date"},{uuid:"Message"}],rows:r.map((function(e){var n,t=e.commit,r=e.name;return[(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:r},"ref-name"),(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:null===t||void 0===t||null===(n=t.author)||void 0===n?void 0:n.name},"author"),(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:null===t||void 0===t?void 0:t.date},"date"),(0,U.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:null===t||void 0===t?void 0:t.message},"message")]})),uuid:"git-branch-remotes-refs"})]})}),(0,U.jsx)(b.Z,{mt:L.Mq,children:(0,U.jsx)(m.Z,{light:!0})})]},t)}))}),[De,$,i,Ae]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(p.Z,{children:"Setup"}),(0,U.jsxs)(b.Z,{mt:L.Mq,children:[(0,U.jsxs)(b.Z,{mb:1,children:[(0,U.jsx)(j.ZP,{bold:!0,large:!0,children:de?"Git init directory":"Initialize Git directory"}),!de&&(0,U.jsxs)(j.ZP,{muted:!0,children:["Enter the directory you want to initialize git in. For example, ",(0,U.jsx)(j.ZP,{bold:!0,inline:!0,monospace:!0,muted:!0,children:"/home/src/default_repo"}),"."]}),de&&(0,U.jsxs)(j.ZP,{muted:!0,children:["If the directory below is blank, then the current working directory will be used to initialize git.",(0,U.jsx)("br",{}),"If git hasn\u2019t been initialized in the directory below, Mage will automatically run git init for you."]})]}),(0,U.jsxs)(v.ZP,{alignItems:"center",children:[(0,U.jsx)(C.Z,{disabled:de&&!Q,fullWidth:!0,label:"Git directory",maxWidth:400,monospace:!0,onChange:function(e){return ae(e.target.value)},ref:Z,value:se||""}),(0,U.jsx)(b.Z,{mr:1}),(!de||Q)&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(h.ZP,{compact:!0,disabled:!de&&!se,loading:je,onClick:function(){xe({sync:{repo_path:se}})},primary:!0,small:!0,children:"Save"}),de&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(b.Z,{mr:1}),(0,U.jsx)(Y.Z,{onClick:function(){return X(!1)},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Cancel"})]})]}),de&&!Q&&(0,U.jsx)(Y.Z,{onClick:function(){X(!0),setTimeout((function(){var e;return null===Z||void 0===Z||null===(e=Z.current)||void 0===e?void 0:e.focus()}),1)},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Edit"})]})]})]}),(0,U.jsx)(b.Z,{mb:L.HN,children:(0,U.jsx)(Ce,{branch:t,isLoadingCreateOauth:He,showError:s})}),de&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsxs)(p.Z,{children:["Remotes",!o&&i?" (".concat(null===i||void 0===i?void 0:i.length,")"):""]}),o&&(0,U.jsx)(b.Z,{mt:L.Mq,children:(0,U.jsx)(x.Z,{inverted:!0})}),!o&&Ue,(0,U.jsx)(b.Z,{mt:L.Mq,children:(0,U.jsxs)(v.ZP,{alignItems:"flex-start",children:[(0,U.jsx)(C.Z,{label:"New remote name",monospace:!0,onChange:function(e){var n;return oe(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)},value:te||""}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsxs)(v.ZP,{flexDirection:"column",children:[(0,U.jsx)(C.Z,{label:"Remote URL",monospace:!0,onChange:function(e){var n;return le(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)},value:ce||""}),(0,U.jsx)(b.Z,{mt:1,children:(0,U.jsxs)(j.ZP,{muted:!0,small:!0,children:["Use the https URL if you",(0,U.jsx)("br",{}),"authenticated with GitHub above."]})})]}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsx)(h.ZP,{beforeIcon:(0,U.jsx)(w.mm,{size:2*L.iI}),disabled:!te||!ce,loading:Ee,onClick:function(){Ie({git_custom_branch:{action_type:"add_remote",remote:{name:te,url:ce}}})},primary:!0,children:"Create new remote"})]})})]}),(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(p.Z,{children:"Actions"}),(0,U.jsxs)(b.Z,{mt:L.Mq,children:[(0,U.jsxs)(b.Z,{mb:L.Mq,children:[(0,U.jsx)(b.Z,{mb:1,children:(0,U.jsx)(j.ZP,{bold:!0,muted:!0,children:"Current branch"})}),(null===t||void 0===t?void 0:t.name)&&(0,U.jsxs)(v.ZP,{alignItems:"center",children:[(0,U.jsx)(j.ZP,{monospace:!0,children:null===t||void 0===t?void 0:t.name}),(0,U.jsx)(b.Z,{mr:L.cd}),(0,U.jsx)(fe(),{href:"/version-control?tab=".concat(D.uuid),passHref:!0,children:(0,U.jsx)(Y.Z,{small:!0,children:"Switch branch"})})]})]}),(0,U.jsxs)(v.ZP,{children:[(0,U.jsxs)(g.Z,{onChange:function(e){return N(e.target.value)},placeholder:"Action",value:R||"",children:[(0,U.jsx)("option",{value:k,children:(0,V.vg)(k)}),(0,U.jsx)("option",{value:I,children:(0,V.vg)(I)}),(0,U.jsx)("option",{value:"reset",children:(0,V.vg)("reset --hard")}),(0,U.jsx)("option",{value:_,children:(0,V.vg)(_)})]}),(0,U.jsx)(b.Z,{mr:1}),(0,U.jsx)(g.Z,{beforeIcon:(0,U.jsx)(w.VW,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return c(e.target.value)},placeholder:"Remote",value:n||"",children:null===i||void 0===i?void 0:i.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))}),![k,_].includes(R)&&(0,U.jsx)(b.Z,{ml:1,children:(0,U.jsxs)(g.Z,{beforeIcon:(0,U.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return S(e.target.value)},value:O||"",children:[(0,U.jsx)("option",{value:"",children:"All branches"}),null===me||void 0===me?void 0:me.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))]})})]}),(0,U.jsxs)(b.Z,{mt:L.cd,children:[(0,U.jsx)(h.ZP,{beforeIcon:(0,U.jsx)(w.Bf,{size:2*L.iI}),disabled:!R||!n,loading:Oe,onClick:function(){G(null),(R!==_||"undefined"!==typeof location&&window.confirm("Are you sure you want to clone remote ".concat(n,"? This will ")+"overwrite all your local changes and may reset any settings you may have configured for your local Git repo. This action cannot be undone."))&&_e({git_custom_branch:(0,l.Z)({action_type:R},R,{branch:O,remote:n})})},primary:!0,children:R?(0,V.vg)(R):"Execute action"}),(H||T)&&(0,U.jsx)(b.Z,{mt:L.cd,children:(0,U.jsx)(j.ZP,{danger:!!T,default:!!H,monospace:!0,preWrap:!0,children:H||T})})]})]})]}),(0,U.jsxs)(b.Z,{mb:L.HN,children:[(0,U.jsx)(b.Z,{mb:L.HN,children:(0,U.jsx)(m.Z,{light:!0})}),(0,U.jsx)(v.ZP,{children:(0,U.jsxs)(h.ZP,{afterIcon:(0,U.jsx)(w.Kw,{}),linkProps:{href:"/version-control?tab=".concat(D.uuid)},noHoverUnderline:!0,sameColorAsText:!0,secondary:!0,children:["Next: ",D.uuid]})})]})]})]})},ye=t(95363),we=oe.default.div.withConfig({displayName:"indexstyle__DiffContainerStyle",componentId:"sc-1fo4nus-0"})(["pre{font-family:",";}"],ye.Vp),_e={codeFoldGutter:{},content:{},contentText:{},diffAdded:{},diffContainer:{},diffRemoved:{},emptyGutter:{},emptyLine:{},gutter:{},highlightedGutter:{},highlightedLine:{},line:{},lineNumber:{},marker:{},splitView:{},titleBlock:{},variables:{dark:{addedBackground:"#044B53",addedColor:"white",addedGutterBackground:"#034148",addedGutterColor:"#8c8c8c",codeFoldBackground:"#262831",codeFoldContentColor:"#555a7b",codeFoldGutterBackground:"#21232b",diffViewerBackground:"#2e303c",diffViewerColor:"#FFF",diffViewerTitleBackground:"#2f323e",diffViewerTitleBorderColor:"#353846",diffViewerTitleColor:"#555a7b",emptyLineBackground:"#363946",gutterBackground:"#2c2f3a",gutterBackgroundDark:"#262933",gutterColor:"#464c67",highlightBackground:"#2a3967",highlightGutterBackground:"#2d4077",removedBackground:"#632F34",removedColor:"white",removedGutterBackground:"#632b30",removedGutterColor:"#8c8c8c",wordAddedBackground:"#055d67",wordRemovedBackground:"#7d383f"},light:{addedBackground:"#e6ffed",addedColor:"#24292e",addedGutterBackground:"#cdffd8",addedGutterColor:"#212529",codeFoldBackground:"#f1f8ff",codeFoldContentColor:"#212529",codeFoldGutterBackground:"#dbedff",diffViewerBackground:"#fff",diffViewerColor:"212529",diffViewerTitleBackground:"#fafbfc",diffViewerTitleBorderColor:"#eee",diffViewerTitleColor:"#212529",emptyLineBackground:"#fafbfc",gutterBackground:"#f7f7f7",gutterBackgroundDark:"#f3f1f1",gutterColor:"#212529",highlightBackground:"#fffbdd",highlightGutterBackground:"#fff5b1",removedBackground:"#ffeef0",removedColor:"#24292e",removedGutterBackground:"#ffdce0",removedGutterColor:"#212529",wordAddedBackground:"#acf2bd",wordRemovedBackground:"#fdb8c0"}},wordAdded:{},wordDiff:{},wordRemoved:{}},Oe=t(53005),ke=t(15610),Se=t(86735),Ie=t(23780);function Ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ee(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Me=function(){var e=(0,d.useRef)(null),n=(0,d.useRef)(null),t=(0,Ie.VI)(null,{},[],{uuid:"VersionControlPage"}),r=(0,u.Z)(t,1)[0],o=(0,d.useState)(null),i=o[0],c=o[1],f=(0,d.useState)(null),h=f[0],v=f[1],p=(0,d.useState)(H[0]),Z=p[0],C=p[1],w=(0,be.iV)();(0,d.useEffect)((function(){null!==w&&void 0!==w&&w.tab&&C(H.find((function(e){return e.uuid===(null===w||void 0===w?void 0:w.tab)})))}),[w]);var _=y.ZP.git_custom_branches.list({include_remote_branches:1}),O=_.data,k=_.mutate,S=(0,d.useMemo)((function(){return null===O||void 0===O?void 0:O.git_custom_branches}),[O]),I=y.ZP.git_custom_branches.detail("current",{_format:"with_files"}),E=I.data,T=I.mutate,V=(0,d.useMemo)((function(){return(null===E||void 0===E?void 0:E.git_custom_branch)||{}}),[E]),F=(0,d.useMemo)((function(){return(null===V||void 0===V?void 0:V.files)||[]}),[V]),W=y.ZP.git_custom_branches.detail("with_remotes",{_format:"with_remotes"}),z=W.data,Y=W.mutate,K=(0,d.useMemo)((function(){return null===z||void 0===z?void 0:z.git_custom_branch}),[z]),Q=(0,d.useMemo)((function(){return(null===K||void 0===K?void 0:K.remotes)||[]}),[K]),X=(0,d.useState)(null),J=X[0],te=X[1],re=(0,d.useCallback)((function(e){(0,xe.t8)(M,e),te(e)}),[]);(0,d.useEffect)((function(){var e=(0,xe.U2)(M,null);if(z&&e){var n=null===Q||void 0===Q?void 0:Q.find((function(n){return n.name===e}));re(n?null===n||void 0===n?void 0:n.name:null)}}),[z,Q,re]);var oe=(0,d.useState)((0,xe.U2)(A,"")),ie=oe[0],le=oe[1],ue=(0,d.useCallback)((function(e){(0,xe.t8)(A,e),le(e)}),[]),se=(0,d.useMemo)((function(){return(0,Se.Tw)(Q.reduce((function(e,n){var t;return e.concat((null===n||void 0===n||null===(t=n.repository_names)||void 0===t?void 0:t.map((function(e){var t;return{name:e,url:null===n||void 0===n||null===(t=n.urls)||void 0===t?void 0:t[0]}})))||[])}),[]),(function(e){return e.name}))}),[Q]);(0,d.useEffect)((function(){var e=(0,xe.U2)(A,null);if(z&&e){var n=null===se||void 0===se?void 0:se.find((function(n){return n.name===e}));ue(n?null===n||void 0===n?void 0:n.name:null)}}),[z,se,ue]);var de=y.ZP.git_files.detail(h?encodeURIComponent(h):null,{base_branch:i}),fe=de.data,he=de.mutate,me=(0,d.useMemo)((function(){return null===fe||void 0===fe?void 0:fe.git_file}),[fe]);(0,d.useEffect)((function(){i&&he()}),[i,he]),(0,d.useEffect)((function(){null!==fe&&void 0!==fe&&fe.error&&r({errors:null===fe||void 0===fe?void 0:fe.error,response:fe})}),[fe,r]);var ve=(0,d.useMemo)((function(){var e,n,t;return{modifiedFiles:null===V||void 0===V||null===(e=V.modified_files)||void 0===e?void 0:e.reduce((function(e,n){return Te(Te({},e),{},(0,l.Z)({},n,!0))}),{}),stagedFiles:null===V||void 0===V||null===(n=V.staged_files)||void 0===n?void 0:n.reduce((function(e,n){return Te(Te({},e),{},(0,l.Z)({},n,!0))}),{}),untrackedFiles:null===V||void 0===V||null===(t=V.untracked_files)||void 0===t?void 0:t.reduce((function(e,n){return Te(Te({},e),{},(0,l.Z)({},n,!0))}),{})}}),[V]),pe=ve.modifiedFiles,ge=void 0===pe?{}:pe,je=ve.stagedFiles,Ze=void 0===je?{}:je,Ce=ve.untrackedFiles,ye=void 0===Ce?{}:Ce;(0,d.useEffect)((function(){h&&(0,ce.Qr)(ge)&&(0,ce.Qr)(Ze)&&(0,ce.Qr)(ye)&&v(null)}),[ge,h,Ze,ye]);var Ee=(0,d.useMemo)((function(){return(null===F||void 0===F?void 0:F.length)>=1?(0,U.jsx)(ne.Z,{allowEmptyFolders:!0,disableContextMenu:!0,fetchFiles:T,files:F,isFileDisabled:function(){return!1},onClickFile:function(e){v((function(t){if(!t||t!==e){var r;if(!i)null===n||void 0===n||null===(r=n.current)||void 0===r||r.focus();return e}return null}))},ref:e,renderAfterContent:function(e){var n,t,r=e.children,o=(null===r||void 0===r?void 0:r.length)>=1,i=(0,Oe.a9)(e);o&&(i="".concat(i,"/"));var c={};return null!==ge&&void 0!==ge&&ge[i]?(n="M",t="Modified",c.warning=!0):null!==ye&&void 0!==ye&&ye[i]?(n="U",t="Untracked",c.danger=!0):null!==Ze&&void 0!==Ze&&Ze[i]&&(n="S",t="Staged",c.success=!0),o&&!n?null:(0,U.jsx)(b.Z,{mx:1,children:(0,U.jsx)(P.Z,{appearBefore:!0,label:t,widthFitContent:!0,children:(0,U.jsx)(j.ZP,Te(Te({},c),{},{monospace:!0,rightAligned:!0,small:!0,children:n}))})})},useRootFolder:!0}):(0,U.jsx)(b.Z,{p:L.cd,children:(0,U.jsx)(j.ZP,{monospace:!0,muted:!0,children:"No files modified"})})}),[i,T,e,F,ge,n,v,Ze,ye]),Me=(0,d.useMemo)((function(){return!fe||!me||h&&(null===me||void 0===me?void 0:me.filename)!==h}),[fe,me,h]),Ae=(0,d.useMemo)((function(){if(!h)return null;var e=me||{},n=e.content,t=e.content_from_base;return(0,U.jsxs)(we,{children:[!i&&(0,U.jsx)(b.Z,{p:L.cd,children:(0,U.jsx)(j.ZP,{muted:!0,children:"Please select a base branch to see the file diffs."})}),(null===me||void 0===me?void 0:me.error)&&(0,U.jsx)(b.Z,{p:L.cd,children:(0,U.jsx)(j.ZP,{danger:!0,monospace:!0,preWrap:!0,children:null===me||void 0===me?void 0:me.error})}),i&&!(null!==me&&void 0!==me&&me.error)&&(0,U.jsxs)(U.Fragment,{children:[Me&&(0,U.jsx)(b.Z,{p:L.cd,children:(0,U.jsx)(x.Z,{inverted:!0})}),!Me&&(0,U.jsx)(a(),{compareMethod:s.DiffMethod.WORDS,newValue:n||"",oldValue:t||"",renderContent:function(e){return(0,U.jsx)(j.ZP,{monospace:!0,children:e})},splitView:!0,styles:_e,useDarkTheme:!0})]})]})}),[i,me,Me,h]),De=(0,d.useMemo)((function(){return E&&null!==V&&void 0!==V&&V.name?H:H.slice(0,1)}),[V,E]),Re=(0,d.useMemo)((function(){return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:{marginBottom:.5*L.iI,marginTop:.5*L.iI},children:(0,U.jsx)(q.Z,{compact:!0,onClickTab:function(e){var n=e.uuid;(0,ke.u)({tab:n})},selectedTabUUID:null===Z||void 0===Z?void 0:Z.uuid,tabs:De})}),(0,U.jsx)(m.Z,{light:!0})]})}),[Z,De]),Ne=(0,d.useMemo)((function(){return(0,U.jsx)(Pe,{actionRemoteName:J,branch:V,fetchBranch:function(){T(),Y()},loading:!z,remotes:Q,setActionRemoteName:re,showError:r})}),[J,V,z,T,Y,Q,re,r]),Be=(0,d.useMemo)((function(){return(0,U.jsx)(G,{actionRemoteName:J,branch:V,branches:S,fetchBranch:T,fetchBranches:k,remotes:Q,setActionRemoteName:re,showError:r})}),[J,V,S,T,k,Q,re,r]),He=(0,d.useMemo)((function(){return(0,U.jsx)(ae,{branch:V,fetchBranch:T,modifiedFiles:ge,setSelectedFilePath:v,showError:r,stagedFiles:Ze,untrackedFiles:ye})}),[V,T,ge,v,r,Ze,ye]),Le=(0,d.useMemo)((function(){return(0,U.jsx)($,{actionRemoteName:J,branch:V,branches:S,fetchBranch:T,loading:!z,modifiedFiles:ge,remotes:Q,repositories:se,repositoryName:ie,setActionRemoteName:re,setRepositoryName:ue,showError:r,stagedFiles:Ze})}),[J,V,S,z,T,ge,Q,se,ie,re,ue,r,Ze]);return(0,U.jsx)(ee.Z,{after:Ae,afterHidden:!h,afterWidth:40*L.iI,before:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(b.Z,{p:1,children:(0,U.jsx)(g.Z,{compact:!0,label:"Base branch",onChange:function(e){return c(e.target.value)},ref:n,small:!0,value:i||"",children:null===S||void 0===S?void 0:S.map((function(e){var n=e.name;return(0,U.jsx)("option",{value:n,children:n},n)}))})}),Ee]}),mainContainerHeader:Re,title:"Version control",uuid:"Version control/index",children:(0,U.jsxs)(b.Z,{p:L.cd,children:[!E&&(0,U.jsx)(x.Z,{inverted:!0}),E&&(0,U.jsxs)(U.Fragment,{children:[B.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&Ne,D.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&Be,R.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&He,N.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&Le]})]})})};function Ae(){return(0,U.jsx)(Me,{})}Ae.getInitialProps=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var De=(0,c.Z)(Ae)},19698:function(e,n,t){"use strict";var r=t(82684),o=t(35686);n.Z=function(){var e=o.ZP.statuses.list().data;return{status:(0,r.useMemo)((function(){var n;return null===e||void 0===e||null===(n=e.statuses)||void 0===n?void 0:n[0]}),[e])}}},75302:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/version-control",function(){return t(7828)}])}},function(e){e.O(0,[2678,1154,844,7011,6965,3494,1557,2512,7858,5499,5283,9269,9774,2888,179],(function(){return n=75302,e(e.s=n);var n}));var n=e.O();_N_E=n}]);