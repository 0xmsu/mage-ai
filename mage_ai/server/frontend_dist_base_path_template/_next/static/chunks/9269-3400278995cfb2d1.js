"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9269],{29120:function(e,n,t){t.d(n,{Z:function(){return b}});var o,i,r=t(82684),l=t(39867),u=t(89706),c=t(44425),d=t(32929),a=t(72473),s=t(82394),f=(o={},(0,s.Z)(o,u.Lu.CSV,a.iA),(0,s.Z)(o,u.Lu.JSON,a.EK),(0,s.Z)(o,u.Lu.MD,a.$B),(0,s.Z)(o,u.Lu.PY,a.Bf),(0,s.Z)(o,u.Lu.R,a.u$),(0,s.Z)(o,u.Lu.SH,a.oI),(0,s.Z)(o,u.Lu.SQL,a.vo),(0,s.Z)(o,u.Lu.TXT,a.KJ),(0,s.Z)(o,u.Lu.YAML,a.aV),(0,s.Z)(o,u.Lu.YML,a.aV),o),v=(i={},(0,s.Z)(i,u.Lu.CSV,"#C7CDDA"),(0,s.Z)(i,u.Lu.JSON,"#6B50D7"),(0,s.Z)(i,u.Lu.MD,"#9B6CA7"),(0,s.Z)(i,u.Lu.PY,"#FFE873"),(0,s.Z)(i,u.Lu.R,"#FF144D"),(0,s.Z)(i,u.Lu.SH,"#CBFE00"),(0,s.Z)(i,u.Lu.SQL,"#00758F"),(0,s.Z)(i,u.Lu.TXT,"#C7CDDA"),(0,s.Z)(i,u.Lu.YAML,"#95ECE2"),(0,s.Z)(i,u.Lu.YML,"#95ECE2"),i),p=t(55283),h=t(53005),m=t(81728);function b(e){var n=e.allowEmptyFolders,t=e.children,o=e.disabled,i=e.file,s=e.filePath,b=e.isInPipelinesFolder,g=e.isFileDisabled,j=e.isNotFolder,C=e.level,y=e.name,w=e.theme,x=e.useRootFolder,k=e.uuid,F=(0,r.useMemo)((function(){return s||(x?(0,h.a9)(i):(0,h.jN)(i))}),[i,s,x,,]),Z=(0,r.useMemo)((function(){return!!t&&!j}),[t,j]),O=(0,r.useMemo)((function(){var e,n,t;return null===k||void 0===k||null===(e=k.split)||void 0===e||null===(n=e.call(k,"/"))||void 0===n||null===(t=n.find)||void 0===t?void 0:t.call(n,(function(e){return(0,m.C5)(e)in c.GJ}))}),[k]),D=(0,r.useMemo)((function(){return O?(0,m.C5)(O):null}),[O]),E=(0,r.useMemo)((function(){return Z&&O&&O===y}),[O,Z,y]),P=(0,r.useMemo)((function(){return O&&!Z&&(0,h.y)(y)&&(0,h.o$)(y,D)}),[D,O,Z,y]),_=(0,r.useMemo)((function(){return O?(0,p.qn)(D,{theme:w}).accent:null}),[D,O]),I=y===u.oy,L=(0,r.useMemo)((function(){return g?g(F,t):o||b&&"__init__.py"===y||O&&"__init__.py"===y}),[t,o,,F,O,g,b,y]),S=(0,r.useMemo)((function(){var e,t=a.iU;if(!Z&&j)t=a.mH;else if(I)t=a.vd;else if(y===u.PF)t=a.GQ;else if(Z)t=E&&(null===d.iK||void 0===d.iK?void 0:d.iK[D])||a.Bu;else if(!y&&n)t=a.mH;else if(b&&!Z&&"metadata.yaml"===y)t=a.B_;else if(null!==y&&void 0!==y&&y.includes(".log"))t=a.UL;else if(!Z){var o=(0,h.mD)(y);o&&o in f&&(t=f[o],e=v[o])}return{Icon:t,iconColor:e}}),[n,D,E,Z,b,j,C,y]),R=S.Icon,M=S.iconColor;return{BlockIcon:(0,r.useMemo)((function(){var e=l.Z;return c.tf.CHART===D&&(e=a.GQ),e}),[D]),Icon:R,blockType:D,color:_,disabled:L,filePathToUse:F,folderNameForBlock:O,iconColor:M,isBlockFile:P,isFirstParentFolderForBlock:E,isFolder:Z,isPipelineFolder:I}}},46978:function(e,n,t){t.d(n,{Cl:function(){return u},Nk:function(){return c},ZG:function(){return l}});var o=t(38626),i=t(44897),r=t(70515),l=1.5*r.iI,u=1*l+r.iI/2,c=o.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-uvd91-0"})([".row:hover{","}"],(function(e){return"\n      background-color: ".concat((e.theme.interactive||i.Z.interactive).hoverBackground,";\n    ")}))},29269:function(e,n,t){t.d(n,{Z:function(){return Ze}});var o=t(82394),i=t(75582),r=t(82684),l=t(38626),u=t(69864),c=t(44425),d=t(71180),a=t(50724),s=t(55485),f=t(70374),v=t(38276),p=t(30160),h=t(44897),m=t(42631),b=t(70515),g=l.default.div.withConfig({displayName:"indexstyle__FileHeaderMenuContainerStyle",componentId:"sc-1lru5j9-0"})(["height:100%;width:100%;position:relative;padding:","px;",""],b.iI/2,(function(e){return"\n    border-bottom: ".concat(m.YF,"px ").concat(m.M8," ").concat((e.theme||h.Z).borders.medium,";\n  ")})),j=t(72473),C=t(26419),y=t(28598);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k=function(e){var n=e.setShowHiddenFiles,t=e.showHiddenFiles,o=(0,r.useState)(null),i=o[0],l=o[1],u=(0,r.useRef)(null),c=(0,r.useMemo)((function(){return[{label:function(){return(0,y.jsxs)(s.ZP,{alignItems:"center",children:[t?(0,y.jsx)(j.Db,{success:!0}):(0,y.jsx)(j.YM,{muted:!0}),(0,y.jsx)(v.Z,{mr:1}),(0,y.jsx)(p.ZP,{noWrapping:!0,children:"Hidden files"})]})},onClick:function(){n((function(e){return!e}))},uuid:"Hidden files"}]}),[n,t]);return(0,y.jsx)(g,{children:(0,y.jsx)(a.Z,{onClickOutside:function(){return l(null)},open:!0,style:{width:"fit-content"},children:(0,y.jsx)(s.ZP,{alignItems:"center",fullHeight:!0,children:(0,y.jsxs)("div",{style:{position:"relative"},children:[(0,y.jsx)(d.ZP,x(x({},C.a),{},{noBackground:0!==i,onClick:function(){return l((function(e){return 0===e?null:0}))},onMouseEnter:function(){return l((function(e){return null!==e?0:null}))},ref:u,children:(0,y.jsx)(p.ZP,{default:!0,children:"View"})})),(0,y.jsx)(f.Z,{alternateBackground:!0,items:c,onClickCallback:function(){return l(null)},open:0===i,parentRef:u,uuid:"FileBrowser/FileHeaderMenu/view"})]})})})})},F=t(78050),Z=t(89706),O=t(97618),D=t(29120),E="CUSTOM_EVENT_NAME_FOLDER_EXPAND",P=t(46978),_=t(85385),I=t(53808),L=t(53005),S=t(86735);function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var N="default_repo",T=l.default.div.withConfig({displayName:"Folder__ChildrenStyle",componentId:"sc-1gsjts-0"})([".expanded_children{display:block;}.collapsed_children{display:none;}"]),B=l.default.div.withConfig({displayName:"Folder__ChevronStyle",componentId:"sc-1gsjts-1"})([".expanded{.down{display:block;position:relative;}.right{display:none;position:absolute;}}.collapsed{.down{display:none;position:absolute;}.right{display:block;position:relative;}}"]);function A(e){var n=e.children,t=e.idleTimeout,o=(0,r.useState)(!1),i=o[0],l=o[1];return(0,r.useEffect)((function(){i&&l(!1);var e=requestIdleCallback((function(){return l(!0)}),{timeout:t});return function(){return cancelIdleCallback(e)}}),[t]),i?n:null}var U=function e(n){var t=n.allowEmptyFolders,i=n.allowSelectingFolders,l=n.containerRef,u=n.disableContextMenu,c=n.file,d=n.isFileDisabled,a=n.isInPipelinesFolder,s=n.isNotFolder,f=n.level,v=n.onClickFile,h=n.onClickFolder,m=n.onSelectBlockFile,g=n.onlyShowChildren,C=n.openFile,w=n.openSidekickView,x=n.reloadCount,k=n.renderAfterContent,R=n.selectFile,U=n.setContextItem,H=n.setCoordinates,Y=n.setDraggingFile,Q=n.setSelectedFile,V=n.theme,z=n.timeout,G=n.useRootFolder,$=n.uuidCombined,q=n.uuidContainer,W=(0,r.useRef)(null),X=c.children,K=c.disabled,J=c.name,ee=c.parent,ne=(0,r.useMemo)((function(){return X?(0,S.YC)(X,(function(e){return e.children?0:1})):X}),[X]),te=(0,r.useMemo)((function(){return[].concat($||[]).concat(J||N)}),[J,$,,]),oe=(0,r.useMemo)((function(){return null===te||void 0===te?void 0:te.join("/")}),[te]),ie=(0,I.U2)(I.lQ,{}),re=(0,r.useRef)(null),le=(0,r.useRef)(null),ue=(0,r.useRef)(oe in ie?ie[oe]:0===f),ce=(0,r.useRef)(0),de=ue.current;J||t||(c.name=N);var ae=(0,D.Z)({allowEmptyFolders:t,children:ne,disabled:K,file:c,isInPipelinesFolder:a,isFileDisabled:d,isNotFolder:s,level:f,name:J,theme:V,useRootFolder:G,uuid:oe}),se=ae.BlockIcon,fe=ae.Icon,ve=(ae.blockType,ae.color),pe=ae.disabled,he=ae.filePathToUse,me=ae.folderNameForBlock,be=ae.iconColor,ge=ae.isBlockFile,je=ae.isFirstParentFolderForBlock,Ce=ae.isFolder,ye=ae.isPipelineFolder,we=(0,r.useCallback)((function(n){return null===n||void 0===n?void 0:n.map((function(n){return(0,y.jsx)(e,{allowEmptyFolders:t,allowSelectingFolders:i,containerRef:l,disableContextMenu:u,file:M(M({},n),{},{parent:c}),isFileDisabled:d,isNotFolder:null===n||void 0===n?void 0:n.isNotFolder,isInPipelinesFolder:a||ye,level:g?f:f+1,onClickFile:v,onClickFolder:h,onSelectBlockFile:m,openFile:C,openSidekickView:w,reloadCount:x,renderAfterContent:k,selectFile:R,setContextItem:U,setCoordinates:H,setDraggingFile:Y,setSelectedFile:Q,theme:V,timeout:z,useRootFolder:G,uuidCombined:te,uuidContainer:q},"".concat(oe,"/").concat((null===n||void 0===n?void 0:n.name)||N,"-").concat(x))}))}),[t,i,ne,u,c,d,a,ye,f,v,h,m,g,C,w,x,k,R,U,H,Y,Q,G,oe,te,q]),xe=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(ue.current="undefined"===typeof e||null===e?!ue.current:e,re.current.className=ue.current?"expanded_children":"collapsed_children",le.current.className=ue.current?"expanded":"collapsed",0===ce.current){var t;if(null===W||void 0===W||!W.current){var i=document.getElementById(re.current.id);W.current=(0,F.createRoot)(i)}null===W||void 0===W||null===(t=W.current)||void 0===t||t.render((null===ne||void 0===ne?void 0:ne.length)>=1?(0,y.jsx)(A,{idleTimeout:n||1,children:we(ne)}):Ce?we(ke):(0,y.jsx)("div",{}))}(0,I.rQ)(I.lQ,(0,o.Z)({},oe,ue.current)),ce.current+=1}),[ne,Ce,oe]);(0,r.useEffect)((function(){var e=function(e){var n=e.detail,t=n.expand,i=(n.file,n.folder);Ce&&i&&null!==oe&&void 0!==oe&&oe.startsWith(null===i||void 0===i?void 0:i.uuid)&&((0,I.rQ)(I.lQ,(0,o.Z)({},oe,t)),xe(t,100*f))};return window.addEventListener(E,e),function(){window.removeEventListener(E,e)}}),[Ce,f,xe,oe]);var ke=(0,r.useMemo)((function(){return[{disabled:!0,name:"Empty",parent:c,isNotFolder:!0,uuid:te}]}),[c,te]),Fe=(0,r.useMemo)((function(){var e=[];return(0,S.w6)(f).forEach((function(n,t){var o,i=P.Cl-1;e.push((0,y.jsx)("div",{style:{borderLeft:"1px solid ".concat(null===V||void 0===V||null===(o=V.content)||void 0===o?void 0:o.disabled),height:22,marginLeft:i/2-2,paddingLeft:i/2+2}},"line-".concat(oe,"-").concat(t)))})),e}),[f,V,oe]);return(0,r.useEffect)((function(){setTimeout((function(){var e;if(de&&0===(null===ce||void 0===ce?void 0:ce.current)&&null!==re&&void 0!==re&&null!==(e=re.current)&&void 0!==e&&e.id){ce.current=1;try{var n;if(null===W||void 0===W||!W.current){var t,o=document.getElementById(null===re||void 0===re||null===(t=re.current)||void 0===t?void 0:t.id);W.current=(0,F.createRoot)(o)}null===W||void 0===W||null===(n=W.current)||void 0===n||n.render((null===ne||void 0===ne?void 0:ne.length)>=1?(0,y.jsx)(A,{idleTimeout:100*f,children:we(ne)}):null!==ne&&void 0!==ne&&ne.length?null:Ce?we(ke):(0,y.jsx)("div",{}))}catch(i){console.log(i)}}}),1)}),[]),(0,y.jsxs)(y.Fragment,{children:[!g&&(0,y.jsxs)("div",{className:"row",onClick:function(e){if(e.preventDefault(),!pe){if((null===ee||void 0===ee?void 0:ee.name)===Z.PF){null===w||void 0===w||w(_.cH.CHARTS);var n=(0,L.lr)(c);n&&(null===m||void 0===m||m(n.uuid,n.type,(0,L.jN)(c)))}var t=(0,L.V3)(c);if(ne)i?R(he):xe(),null===h||void 0===h||h(he);else if(v)v(he);else if(t)null===m||void 0===m||m(t.uuid,t.type,(0,L.jN)(c),{file:c,path:he});else if(J.match(Z.xF))null===C||void 0===C||C(he);else{var o=(0,L.lr)(c);o&&(null===m||void 0===m||m(o.uuid,o.type,(0,L.jN)(c)))}}},onContextMenu:function(e){var n;clearTimeout(z.current),null!==l&&void 0!==l&&null!==(n=l.current)&&void 0!==n&&n.contains(e.target)&&!u&&(e.preventDefault(),H({x:e.pageX,y:e.pageY}),Y(null),Q(M(M({},c),{},{uuid:oe})))},onMouseDown:function(e){var n,t=c?(0,L.lr)(c,null,!0):null;null===l||void 0===l||null===(n=l.current)||void 0===n||!n.contains(e.target)||!t||(null===ne||void 0===ne?void 0:ne.length)>=1||u||pe||a||(e.preventDefault(),clearTimeout(z.current),z.current=setTimeout((function(){H({x:e.pageX,y:e.pageY}),Y(c),Q(null)}),300))},style:{alignItems:"center",cursor:"default",display:"flex",minWidth:f*P.Cl+c.name.length*b.Fo+2*b.iI,paddingRight:b.iI/4},children:[(0,y.jsxs)(O.Z,{alignItems:"center",flex:1,children:[Fe,(0,y.jsxs)(B,{children:[ne&&(0,y.jsxs)("div",{className:de?"expanded":"collapsed",ref:le,children:[(0,y.jsx)("div",{className:"down",children:(0,y.jsx)(j._M,{muted:!0,size:P.ZG})}),(0,y.jsx)("div",{className:"right",children:(0,y.jsx)(j._Q,{muted:!0,size:P.ZG})})]}),!ne&&(0,y.jsx)("div",{style:{width:P.ZG}})]}),(0,y.jsx)("div",{style:{marginLeft:b.iI/2,marginRight:b.iI/2},children:me&&!Ce&&ge?(0,y.jsx)(se,{color:ve,size:me&&!Ce?.7*P.ZG:P.ZG,square:!0}):(0,y.jsx)(fe,{fill:be||(je?ve:null),disabled:pe,size:P.ZG})}),(0,y.jsx)(p.ZP,{default:!pe,disabled:pe,monospace:!0,small:!0,children:J})]}),k&&k(c)]}),(0,y.jsx)(T,{children:(0,y.jsx)("div",{className:de?"expanded_children":"collapsed_children",id:"".concat(q,"-").concat(oe),ref:re})})]})},H=t(65186),Y=t(93369),Q=t(65956),V=t(17488),z=t(35686),G=t(42122),$=t(72619);var q=function(e){var n=e.fetchFileTree,t=e.file,o=e.moveFile,l=e.onCancel,c=e.onCreateFile,a=e.selectedFolder,f=e.showError,p=(0,r.useRef)(null),h=(0,G.Qr)(t)?null:t,m=(0,r.useState)(h?(0,L.jN)(h,null,!0):""),g=m[0],j=m[1],C=(0,r.useState)(h?null===h||void 0===h?void 0:h.name:""),w=C[0],x=C[1];(0,r.useEffect)((function(){var e;null===p||void 0===p||null===(e=p.current)||void 0===e||e.focus()}),[]),(0,r.useEffect)((function(){a&&j((0,L.eV)(null===a||void 0===a?void 0:a.uuid))}),[a]);var k=(0,u.Db)(z.ZP.files.useCreate(),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(e){var t=e.file;null===n||void 0===n||n(),l(),null===c||void 0===c||c(t)},onErrorCallback:function(e,n){return f({errors:n,response:e})}})}}),F=(0,i.Z)(k,1)[0],Z=(0,u.Db)(z.ZP.files.useUpdate(h&&encodeURIComponent((0,L.jN)(h))),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){null===n||void 0===n||n(),l()},onErrorCallback:function(e,n){return f({errors:n,response:e})}})}}),O=(0,i.Z)(Z,1)[0];return(0,y.jsxs)(Q.Z,{footer:(0,y.jsxs)(s.ZP,{children:[(0,y.jsxs)(Y.ZP,{bold:!0,disabled:!w,inline:!0,onClick:function(){return h?O({file:{dir_path:g,name:w},file_json_only:!0}):F({file:{dir_path:g,name:w,overwrite:!1},file_json_only:!0})},primary:!0,tabIndex:0,uuid:"NewFile/create_file",children:[h?o?"Move":"Rename":"Create"," file"]}),(0,y.jsx)(v.Z,{ml:1,children:(0,y.jsx)(d.ZP,{onClick:function(){return l()},tabIndex:0,children:"Cancel"})})]}),headerTitle:h?o?"Move file":"Rename file":"New file",minWidth:50*b.iI,children:[(0,y.jsx)(V.Z,{disabled:!!h&&!o,label:"Directory",monospace:!0,onChange:function(e){return j(e.target.value)},setContentOnMount:!0,value:g}),(0,y.jsx)(v.Z,{mt:2,children:(0,y.jsx)(V.Z,{disabled:!!o,label:"Filename",monospace:!0,onChange:function(e){return x(e.target.value)},ref:p,required:!0,value:w})})]})},W=t(82359);var X=function(e){var n=e.fetchFileTree,t=e.file,o=e.moveFile,l=e.onCancel,c=e.onCreateFile,a=e.projectType,f=e.selectedFolder,p=e.setErrors,h=e.showError,m=(0,r.useRef)(null),g=(0,G.Qr)(t)?null:t,j=(0,r.useState)(g?(0,L.jN)(g,null,!0):""),C=j[0],w=j[1],x=(0,r.useState)(g?null===g||void 0===g?void 0:g.name:""),k=x[0],F=x[1];(0,r.useEffect)((function(){var e;null===m||void 0===m||null===(e=m.current)||void 0===e||e.focus()}),[]),(0,r.useEffect)((function(){f&&w((0,L.eV)(null===f||void 0===f?void 0:f.uuid))}),[f]);var Z=(0,u.Db)(z.ZP.folders.useCreate(),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(e){var t=e.file;null===n||void 0===n||n(),l(),null===c||void 0===c||c(t)},onErrorCallback:function(e,n){return p?p({errors:n,response:e}):h({errors:n,response:e})}})}}),O=(0,i.Z)(Z,1)[0],D=(0,u.Db)(z.ZP.folders.useUpdate(g&&encodeURIComponent((0,L.jN)(g))),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){null===n||void 0===n||n(),l()},onErrorCallback:function(e,n){return p?p({errors:n,response:e}):h({errors:n,response:e})}})}}),E=(0,i.Z)(D,1)[0],P=(0,u.Db)(z.ZP.projects.useCreate(),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){null===n||void 0===n||n(),l()},onErrorCallback:function(e,n){return p?p({errors:n,response:e}):h({errors:n,response:e})}})}}),_=(0,i.Z)(P,2),I=_[0],S=_[1].isLoading;return(0,y.jsxs)(Q.Z,{footer:(0,y.jsxs)(s.ZP,{children:[(0,y.jsxs)(Y.ZP,{bold:!0,disabled:!k,inline:!0,loading:S,onClick:function(){return g?E({folder:{name:k,path:C}}):a?I({project:{repo_path:C,type:a,uuid:k}}):O({folder:{name:k,overwrite:!1,path:C}})},primary:!0,tabIndex:0,uuid:"NewFolder/create_folder",children:[a&&"Create project",!a&&(0,y.jsxs)(y.Fragment,{children:[g?o?"Move":"Rename":"Create"," folder"]})]}),(0,y.jsx)(v.Z,{ml:1,children:(0,y.jsx)(d.ZP,{onClick:function(){return l()},tabIndex:0,children:"Cancel"})})]}),headerTitle:g?o?"Move folder":"Rename folder":a?W.k.STANDALONE===a?"New Mage project":W.k.DBT===a?"New dbt project":"New project":"New folder",minWidth:50*b.iI,children:[(0,y.jsx)(V.Z,{disabled:!!g&&!o,label:a?"Project directory":"Directory",monospace:!0,onChange:function(e){return w(e.target.value)},setContentOnMount:!0,value:C}),(0,y.jsx)(v.Z,{mt:2,children:(0,y.jsx)(V.Z,{disabled:!!o,label:a?"Project name":"Folder name",monospace:!0,onChange:function(e){return F(e.target.value)},ref:m,required:!0,value:k})})]})},K=t(57653),J=t(89515),ee=t(17717),ne=t(77011);function te(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?te(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):te(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ie=l.default.div.withConfig({displayName:"MultiFileInput__DropzoneStyle",componentId:"sc-1l6yd2y-0"})(["&:hover{cursor:pointer;}"]);var re=function(e){var n=e.children,t=e.inputOnChange,o=e.inputProps,i=e.onDragActiveChange,l=e.setFiles,u=(0,r.useCallback)((function(e){l(e)}),[l]),c=(0,ne.uI)({onDrop:u}),d=c.getInputProps,a=c.getRootProps,s=c.isDragActive,f=d(),v=f.accept,p=f.autoComplete,h=f.multiple,m=f.onChange,b=f.onClick,g=f.ref,j=f.style,C=f.tabIndex,w=f.type,x=oe(oe({},o),{},{accept:v,autoComplete:p,multiple:h,onChange:function(e){null===t||void 0===t||t(e),null===o||void 0===o||o.onChange(e),m(e)},onClick:b,ref:g,style:j,tabIndex:C,type:w});return(0,r.useEffect)((function(){null===i||void 0===i||i(s)}),[s,i]),(0,y.jsxs)(ie,oe(oe({},a()),{},{children:[(0,y.jsx)("input",oe(oe({},x),{},{directory:"",webkitdirectory:""})),n]}))};function le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?le(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ce=function(e){var n=e.children,t=e.directoryPath,l=e.onDragActiveChange,c=e.setFileUploadProgress,d=e.setUploadedFiles,a=(0,u.Db)(z.ZP.files.useCreate({onUploadProgress:function(e,n){var t,i=n.body,r=[null===i||void 0===i?void 0:i.dir_path,null===i||void 0===i||null===(t=i.file)||void 0===t?void 0:t.name].filter((function(e){return(null===e||void 0===e?void 0:e.length)>=1})).join(ee.sep);null===c||void 0===c||c((function(n){return ue(ue({},n),{},(0,o.Z)({},r,e.loaded/e.total))}))}})),s=(0,i.Z)(a,1)[0],f=(0,r.useCallback)((function(e){e.forEach((function(e){var n=e.name,i=e.path,r=[t],l=i.split(ee.sep).filter((function(e){return e&&e!==n})).join(ee.sep);l&&r.push(l);var u=[],a=r.join(ee.sep);(null===a||void 0===a?void 0:a.length)>=1&&r.push(a),u.push(n);var f=u.join(ee.sep);s({dir_path:a,file:e,overwrite:!1}).then((function(e){var n=e.data,t=n.error,i=n.file;d((function(e){return ue(ue({},e),{},(0,o.Z)({},f,i||t))}))})),c((function(e){return ue(ue({},e),{},(0,o.Z)({},f,0))}))}))}),[s,t,c,d]);return(0,y.jsx)(re,{onDragActiveChange:l,setFiles:f,children:n})},de=t(35185),ae=t(75499),se=(b.iI,l.default.div.withConfig({displayName:"indexstyle__DropZoneStyle",componentId:"sc-1g3zz7z-0"})(["border-radius:","px;padding:","px;max-width:","px;min-width:","px;",""],m.n_,8*b.iI,100*b.iI,55*b.iI,(function(e){return"\n    border: 1px dashed ".concat((e.theme.borders||h.Z.borders).contrast,";\n  ")}))),fe=l.default.div.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1g3zz7z-1"})(["max-width:","px;min-width:","px;"],100*b.iI,55*b.iI);var ve=function(e){var n=e.fetchFileTree,t=e.onCancel,o=e.selectedFolder,l=(0,r.useState)(!1),u=l[0],c=l[1],a=(0,r.useState)({}),f=a[0],h=a[1],m=(0,r.useState)({}),b=m[0],g=m[1],j=!(0,G.Qr)(f),C=(0,r.useMemo)((function(){var e=[];return(0,S.YC)(Object.entries(f),(function(e){var n=(0,i.Z)(e,2),t=n[0];n[1];return t})).forEach((function(n){var t=(0,i.Z)(n,2),o=t[0],r=t[1],l=b[o],u=null===l||void 0===l?void 0:l.message;e.push([(0,y.jsxs)("div",{children:[(0,y.jsx)(p.ZP,{overflowWrap:!0,preWrap:!0,children:o}),u&&(0,y.jsx)(v.Z,{mt:1,children:(0,y.jsx)(p.ZP,{danger:!0,small:!0,children:u})})]},"name-".concat(o)),(0,y.jsx)(de.Z,{danger:!!u,progress:100*r},"progress-".concat(o))])})),(0,y.jsx)(ae.Z,{columnFlex:[1,4],columns:[{uuid:"Filename"},{uuid:"Upload progress"}],rows:e,uuid:"block-runs"})}),[f,b]);return(0,y.jsxs)(Q.Z,{footer:(0,y.jsxs)(s.ZP,{fullWidth:!0,children:[(0,y.jsx)(d.ZP,{onClick:function(){return t()},children:"Close"}),j&&(0,y.jsx)(v.Z,{ml:1,children:(0,y.jsx)(d.ZP,{onClick:function(){h({}),g({})},children:"Clear files and retry"})})]}),headerTitle:"Upload files",children:[j&&(0,y.jsx)(fe,{children:C}),!j&&(0,y.jsx)(ce,{directoryPath:o?(0,L.jN)(o):"",onDragActiveChange:c,setFileUploadProgress:h,setUploadedFiles:function(e){g(e),null===n||void 0===n||n()},children:(0,y.jsx)(se,{children:(0,y.jsxs)(p.ZP,{center:!0,children:[u&&"Drop to upload",!u&&"Click or drop files and folders to upload"]})})})]})},pe=t(77417),he=t(19698),me=t(31353),be=t(80330),ge=t(85202),je=t(44952),Ce=t(89538);function ye(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function we(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ye(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ye(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xe,ke=20*b.iI;function Fe(e,n){var t=e.addNewBlock,o=(e.blocks,e.deleteWidget),d=e.disableContextMenu,a=(e.fetchAutocompleteItems,e.fetchFiles),s=e.fetchPipeline,v=e.files,h=e.onClickFile,m=e.onClickFolder,g=e.onSelectBlockFile,C=e.openFile,w=(e.openSidekickView,e.pipeline),x=e.showError,F=e.setSelectedBlock,Z=e.setShowHiddenFiles,O=e.showHiddenFiles,D=e.showHiddenFilesSetting,_=e.uuid,I=(e.widgets,(0,r.useRef)(null)),R=((0,r.useRef)(null),(0,r.useContext)(l.ThemeContext)),M=(0,r.useState)(null),N=M[0],T=M[1],B=(0,r.useState)(null),A=B[0],Y=B[1],Q=(0,r.useState)(null),V=Q[0],G=Q[1],ee=(0,r.useState)(0),ne=ee[0],te=ee[1],oe=(0,r.useState)(null);oe[0],oe[1];(0,r.useEffect)((function(){te((function(e){return e+1}))}),[v]);var ie=(0,r.useMemo)((function(){return V&&"undefined"!==typeof(null===V||void 0===V?void 0:V.children)&&V}),[V]),re=(0,pe.Z)(),le=re.featureEnabled,ue=re.featureUUIDs,ce=re.project,de=(0,he.Z)().status,ae=(0,u.Db)((function(e){return z.ZP.downloads.files.useCreate(e)()}),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){var n=e.data.download.token;(0,je.K)(n)},onErrorCallback:function(e,n){return x({errors:n,response:e})}})}}),se=(0,i.Z)(ae,1)[0],fe=(0,u.Db)((function(e){return z.ZP.files.useDelete(e)()}),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){null===a||void 0===a||a()},onErrorCallback:function(e,n){return x({errors:n,response:e})}})}}),ye=(0,i.Z)(fe,1)[0],xe=(0,u.Db)((function(e){return z.ZP.folders.useDelete(e)()}),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){null===a||void 0===a||a()},onErrorCallback:function(e,n){return x({errors:n,response:e})}})}}),Fe=(0,i.Z)(xe,1)[0],Ze=(0,u.Db)((function(e){var n=e.block,t=(n.language,n.type,n.uuid),o=e.file,i=e.force,r=void 0!==i&&i;return z.ZP.blocks.useDelete(encodeURIComponent(t),{file_path:o?encodeURIComponent((0,L.jN)(o)):null,force:r})()}),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){null===a||void 0===a||a()},onErrorCallback:function(e,n){var t=e.error,o=t.exception;if(!t.message.includes("raise HasDownstreamDependencies"))return x({errors:n,response:e});Pe({block:Ne,file:V,exception:o})}})}}),Oe=(0,i.Z)(Ze,1)[0],De=(0,Ce.dd)((function(e){var n=e.block,t=e.file;return(0,y.jsx)(J.Z,{centerOnScreen:!0,danger:!0,onCancel:_e,onClick:function(){return Oe({block:n,file:t,force:!0}).then((function(){return _e()}))},subtitle:"Deleting this block file is dangerous. This block may have dependencies in active pipelines. Press confirm to delete this block anyway and remove it as a dependency from downstream blocks.",title:"Delete ".concat(n.uuid," anyway?"),width:34*b.iI})})),Ee=(0,i.Z)(De,2),Pe=Ee[0],_e=Ee[1],Ie=(0,S.sE)(null===w||void 0===w?void 0:w.blocks,(function(e){var n=e.type;return c.tf.DATA_EXPORTER===n})),Le=(0,u.Db)(z.ZP.blocks.pipelines.useUpdate(encodeURIComponent(null===w||void 0===w?void 0:w.uuid),encodeURIComponent(null===Ie||void 0===Ie?void 0:Ie.uuid)),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){null===s||void 0===s||s()},onErrorCallback:function(e,n){return x({errors:n,response:e})}})}}),Se=(0,i.Z)(Le,1)[0],Re=(0,r.useCallback)((function(){return G(null)}),[G]);(0,r.useEffect)((function(){var e,o,i,r=function(e){if(clearTimeout(I.current),Y(null),A&&w&&t){var o,i,r=(null===n||void 0===n||null===(o=n.current)||void 0===o||null===(i=o.getBoundingClientRect)||void 0===i?void 0:i.call(o))||{},l=r.width,u=r.x;if(e.pageX>u+l){var c=(null===w||void 0===w?void 0:w.type)===K.qL.INTEGRATION,d=(0,be.TU)(we(we({},A),{},{path:(0,L.jN)(A)}),de.repo_path,w);null===t||void 0===t||t(we(we({},d),{},{require_unique_name:!1}),(function(e){c&&Ie&&Se({block:we(we({},Ie),{},{upstream_blocks:[e.uuid]})}),null===F||void 0===F||F(e)}),{disableFetchingFiles:!0})}}},l=function(e){A&&T({x:e.pageX,y:e.pageY})};return null===(e=document)||void 0===e||e.addEventListener("click",Re),null===(o=document)||void 0===o||o.addEventListener("mousemove",l),null===(i=document)||void 0===i||i.addEventListener("mouseup",r),function(){var e,n,t;null===(e=document)||void 0===e||e.removeEventListener("click",Re),null===(n=document)||void 0===n||n.removeEventListener("mousemove",l),null===(t=document)||void 0===t||t.removeEventListener("mouseup",r)}}),[t,Ie,A,Re,w,n,F,de,I,Se]);var Me=(0,r.useMemo)((function(){return null===v||void 0===v?void 0:v.map((function(e){return(0,y.jsx)(U,{containerRef:n,disableContextMenu:d,file:e,level:0,onClickFile:h,onClickFolder:m,onSelectBlockFile:g,openFile:C,reloadCount:ne,setCoordinates:T,setDraggingFile:Y,setSelectedFile:G,theme:R,timeout:I,uuidContainer:_},"".concat(e.name,"-").concat(ne))}))}),[d,v,h,m,C,g,ne,_]),Ne=(0,r.useMemo)((function(){return V&&(0,L.lr)(V)}),[V]),Te=(0,r.useMemo)((function(){return A&&(0,L.lr)(A)}),[A]),Be=(0,Ce.dd)((function(){return(0,y.jsx)(ve,{fetchFileTree:a,onCancel:He,selectedFolder:ie})}),{},[a,ie],{background:!0,uuid:"upload_files"}),Ae=(0,i.Z)(Be,2),Ue=Ae[0],He=Ae[1],Ye=(0,Ce.dd)((function(e){return(0,y.jsx)(q,{fetchFileTree:a,file:null===e||void 0===e?void 0:e.file,moveFile:null===e||void 0===e?void 0:e.moveFile,onCancel:ze,selectedFolder:ie,showError:x})}),{},[a,ie,x],{background:!0,disableClickOutside:!0,uuid:"new_file"}),Qe=(0,i.Z)(Ye,2),Ve=Qe[0],ze=Qe[1],Ge=(0,Ce.dd)((function(e){return(0,y.jsx)(X,{fetchFileTree:a,file:null===e||void 0===e?void 0:e.file,moveFile:null===e||void 0===e?void 0:e.moveFile,onCancel:We,projectType:null===e||void 0===e?void 0:e.projectType,selectedFolder:ie,showError:x})}),{},[a,ie,x,x],{background:!0,disableClickOutside:!0,uuid:"new_folder"}),$e=(0,i.Z)(Ge,2),qe=$e[0],We=$e[1],Xe=(0,r.useMemo)((function(){var e;if(!Ne&&!V&&!ie)return(0,y.jsx)("div",{});var t=(null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect())||{},i=t.x,r=t.width,l=N||{},u=l.x,d=void 0===u?0:u,a=l.y,s=void 0===a?0:a,v=d+b.iI;d+ke>=i+r&&(v=i+r-(ke+b.iI)),v<0&&(v=0);var p=[];ie?(p.push.apply(p,[{label:function(){return"New folder"},onClick:function(){qe()},uuid:"new_folder"},{label:function(){return"Rename folder"},onClick:function(){qe({file:ie})},uuid:"rename_folder"},{label:function(){return"Move folder"},onClick:function(){qe({file:ie,moveFile:!0})},uuid:"Move_folder"},{label:function(){return"Delete folder"},onClick:function(){var e=(0,L.jN)(ie);window.confirm("Are you sure you want to delete folder ".concat(e," and all its subfolders and files?"))&&Fe(encodeURIComponent(e))},uuid:"Delete_folder"},{label:function(){return"New file"},onClick:function(){Ve({file:{}})},uuid:"new_file"},{label:function(){return"Upload files"},onClick:function(){Ue()},uuid:"upload_files"},{label:function(){return"Expand all subfolders"},onClick:function(){var e=new CustomEvent(E,{detail:{expand:!0,file:V,folder:ie}});window.dispatchEvent(e)},uuid:"Expand all subfolders"},{label:function(){return"Collapse all subfolders"},onClick:function(){var e=new CustomEvent(E,{detail:{expand:!1,file:V,folder:ie}});window.dispatchEvent(e)},uuid:"Collapse all subfolders"}]),null!==le&&void 0!==le&&le(null===ue||void 0===ue?void 0:ue.PROJECT_PLATFORM)&&p.push({beforeIcon:(0,y.jsx)(H.Z,{width:1.5*b.iI}),onClick:function(){qe({projectType:W.k.STANDALONE})},uuid:"New Mage project"}),null!==le&&void 0!==le&&le(null===ue||void 0===ue?void 0:ue.DBT_V2)&&p.push({beforeIcon:(0,y.jsx)(j.xE,{}),onClick:function(){qe({projectType:W.k.DBT})},uuid:"New dbt project"})):V&&(p.push.apply(p,[{label:function(){return"Rename file"},onClick:function(){Ve({file:V})},uuid:"rename_file"},{label:function(){return"Move file"},onClick:function(){Ve({file:V,moveFile:!0})},uuid:"move_file"},{label:function(){return"Download file"},onClick:function(){var e=(0,L.jN)(V);se(encodeURIComponent(e))},uuid:"download_file"}]),Ne?p.push({label:function(){return"Delete file"},onClick:function(){Ne.type===c.tf.CHART?window.confirm("Are you sure you want to delete widget ".concat(Ne.uuid,"?"))&&o(Ne):window.confirm("Are you sure you want to delete block ".concat(Ne.uuid,"?"))&&Oe({block:Ne,file:V})},uuid:"delete_block_file"}):p.push({label:function(){return"Delete file"},onClick:function(){var e=(0,L.jN)(V);window.confirm("Are you sure you want to delete file ".concat(e,"?"))&&ye(encodeURIComponent(e))},uuid:"delete_file"}));var h=s+b.iI/2,m=36*p.length;return s+m>=window.innerHeight&&(h=s-m),(0,ge.createPortal)((0,y.jsx)("div",{style:{left:v,position:"fixed",top:h,zIndex:me.bf+100},children:(0,y.jsx)(f.Z,{items:p,open:!0,parentRef:void 0,uuid:"FileBrowser/ContextMenu",width:ke})}),document.body)}),[N,Oe,ye,Fe,o,se,le,ue,ce,n,Ue,Ve,qe,Ne,V,ie]);return(0,y.jsxs)(P.Nk,{ref:n,children:[D&&Z&&"undefined"!==typeof O&&(0,y.jsx)(k,{setShowHiddenFiles:Z,showHiddenFiles:O}),Me,(Ne||V||ie)&&Xe,Te&&(0,y.jsx)("div",{style:{left:(null===N||void 0===N?void 0:N.x)-b.iI,position:"fixed",top:(null===N||void 0===N?void 0:N.y)-b.iI,zIndex:me.bf+100},children:(0,y.jsx)(p.ZP,{cursor:"grabbing",monospace:!0,children:null===Te||void 0===Te?void 0:Te.uuid})})]})}!function(e){e.BLOCK_FILE="block_file",e.DISABLED="disabled",e.FILE="file",e.FOLDER="folder",e.PIPELINE="pipeline"}(xe||(xe={}));var Ze=r.forwardRef(Fe)},53005:function(e,n,t){t.d(n,{IO:function(){return m},V3:function(){return h},a9:function(){return c},eV:function(){return d},jN:function(){return a},lr:function(){return p},mD:function(){return s},o$:function(){return v},u$:function(){return b},y:function(){return f}});var o=t(17717),i=t(44425),r=t(89706),l=t(81728),u=t(80330);function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n||(t?null:null===e||void 0===e?void 0:e.name);if(null!==e&&void 0!==e&&e.parent){var r=[e.parent.name];return(null===i||void 0===i?void 0:i.length)>=1&&r.push(i),c(e.parent,r.join(o.sep))}return i}function d(e){return null===e||void 0===e?void 0:e.split(o.sep).slice(1).join(o.sep)}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=c(e,n,t);return d(o)}function s(e){var n=null===e||void 0===e?void 0:e.match(r.d2);return(null===n||void 0===n?void 0:n.length)>=1?n[0].replace(".",""):null}function f(e){var n=["\\.".concat(r.Lu.PY),"\\.".concat(r.Lu.R),"\\.".concat(r.Lu.SQL),"\\.".concat(r.Lu.YAML),"\\.".concat(r.Lu.YML)].join("|"),t=new RegExp("".concat(n,"$")),o=e.match(t);return(null===o||void 0===o?void 0:o.length)>=1?o[0].replace(".",""):null}function v(e,n){var t=f(e);return!["__init__.py"].includes(e)&&(i.tf.DBT!==n||![r.Lu.YAML,r.Lu.YML].includes(t))}function p(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=c(e,n).split(o.sep);if(!l)return null;var d=(0,u.ck)(l);if(!l)return null;var a="";a=l.length>=3?l.slice(2,l.length).join(o.sep):l[l.length-1];var s=t?i.Q3:i.$W;if(s.concat(i.tf.DBT).includes(d)&&f(a)){var v=a.lastIndexOf("."),p=a.slice(v+1);return{language:r.nB[p],type:d,uuid:a.slice(0,v)}}}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=c(e,n).split(o.sep);if(t[1]){var u=(0,l.C5)(t[n?0:1]);t[1]===i.tf.DBT&&(u=i.tf.DBT);var d=t[t.length-1],a=new RegExp(".".concat(r.Lu.YAML,"$")),s=new RegExp(".".concat(r.Lu.R,"$")),f=new RegExp(".".concat(r.Lu.SQL,"$")),v=new RegExp(".".concat(r.Lu.MD,"$"));if(d.match(a)&&i.VZ.includes(u))return{type:u,uuid:d.replace(a,"")};if(d.match(s)&&i.J8.includes(u))return{type:u,uuid:d.replace(s,"")};if(d.match(f)&&i.HX.includes(u)){var p=d.replace(/[.]/g,"_"),h=u===i.tf.DBT?t.slice(2,-1).join("_").concat("_".concat(p)):d.replace(f,"");return{type:u,uuid:h}}return d.match(v)&&u===i.tf.MARKDOWN?{type:u,uuid:d.replace(v,"")}:void 0}}function m(e,n){var t=e.split("."),i=t[t.length-1];r.n6.includes(i)&&t.pop();var l=t.join("").split(o.sep),u=l.slice(1,l.length).join("");return n.find((function(e){return e.uuid===u}))}function b(e){var n=e||{},t=n.language,o=n.name,u=n.type;if(o&&t&&u){var c=u===i.tf.CUSTOM?u:"".concat(u,"s"),d=r.JD[t],a=(0,l.kE)(o);return"".concat(c,"/").concat(a,".").concat(d)}}},80330:function(e,n,t){t.d(n,{TU:function(){return p},lU:function(){return v},ck:function(){return f}});var o=t(21831),i=t(17717),r=t(44425),l=t(57653),u=t(89706),c=t(86735);function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=n||(t?null:null===e||void 0===e?void 0:e.name);if(null!==e&&void 0!==e&&e.parent){var r=[e.parent.name];return(null===o||void 0===o?void 0:o.length)>=1&&r.push(o),d(e.parent,r.join(i.sep))}return null!==e&&void 0!==e&&e.path?null===e||void 0===e?void 0:e.path:o}var a=t(81728),s=t(42122),f=function(e){var n;if(null===e||void 0===e||e.forEach((function(e){if((null===e||void 0===e?void 0:e.length)>=1){var t=null===e||void 0===e?void 0:e.toLowerCase();(t in r.qC||(t=(0,a.C5)(t))in r.GJ)&&(n=t)}})),!n){var t=["\\.".concat(u.Lu.SQL),"\\.".concat(u.Lu.YAML),"\\.".concat(u.Lu.YML)].join("|"),o=new RegExp("".concat(t,"$"));if(e.join(i.sep).match(o))return r.tf.DBT}return n};function v(){return new RegExp(Object.keys(u.nB).map((function(e){return".(".concat(e,")$")})).join("|"))}function p(e,n,t){var p,h,m=null===e||void 0===e||null===(p=e.path.match(v())[0])||void 0===p?void 0:p.split(".")[1],b=t.type===l.qL.INTEGRATION,g=(0,c.sE)(null===t||void 0===t?void 0:t.blocks,(function(e){var n=e.type;return r.tf.DATA_EXPORTER===n})),j=e.path.replace(n,"").split(i.sep),C=f(e.path.split(i.sep)),y=r.tf.DBT===C,w=(h=j)[0]===r.tf.DBT?h.slice(1).join(i.sep):function(e){return e.at(-1)}(h).split(".")[0];if(j.length>=3&&!y){var x=j.slice(1,j.length-1).join(i.sep);w="".concat(x,"/").concat(w)}var k=u.nB[m],F={configuration:(0,s.hB)({file_path:y&&r.t6.SQL===k?w:null,file_source:{path:d(e)}}),language:k,name:(0,a.wE)(w),type:C};if(C===r.tf.CUSTOM&&(F.color=r.Lq.TEAL),b){var Z=(0,c.sE)(t.blocks,(function(e){var n=e.type;return r.tf.DATA_LOADER===n})),O=(0,c.sE)(t.blocks,(function(e){var n=e.type;return r.tf.TRANSFORMER===n})),D=[];O?D.push(O.uuid):null!==g&&void 0!==g&&g.upstream_blocks?D.push.apply(D,(0,o.Z)(g.upstream_blocks)):Z&&D.push(Z.uuid),F.upstream_blocks=D}return F}},26419:function(e,n,t){t.d(n,{a:function(){return o}});var o={compact:!0,highlightOnHoverAlt:!0,noBorder:!0,padding:"4px 12px"}},44952:function(e,n,t){t.d(n,{K:function(){return i}});var o=t(4383);function i(e){var n=(0,o.ZP)("downloads",e),t=document.createElement("a");t.href=n,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(n),document.body.removeChild(t)}},19698:function(e,n,t){var o=t(82684),i=t(35686);n.Z=function(){var e=i.ZP.statuses.list().data;return{status:(0,o.useMemo)((function(){var n;return null===e||void 0===e||null===(n=e.statuses)||void 0===n?void 0:n[0]}),[e])}}}}]);