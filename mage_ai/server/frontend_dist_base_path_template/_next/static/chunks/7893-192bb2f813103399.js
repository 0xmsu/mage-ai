"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7893],{52749:function(e,n,t){var r=t(82394),i=t(82684),o=t(71180),l=t(55485),c=t(68562),u=t(7267),d=t(38276),s=t(30160),a=t(35576),p=t(17488),f=t(72473),h=t(4015),v=t(70515),m=t(81728),j=t(28598);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n,t,r,g,x=e.createPipeline,y=e.isLoading,O=e.onClose,w=(0,i.useRef)(null),Z=(0,i.useState)(!1),P=Z[0],C=Z[1],k=(0,i.useState)({name:(0,m.Y6)()}),I=k[0],_=k[1];return(0,i.useEffect)((function(){var e;null==w||null===(e=w.current)||void 0===e||e.focus()}),[]),(0,j.jsxs)(h.Nk,{children:[(0,j.jsx)(h.I5,{children:(0,j.jsx)(l.ZP,{alignItems:"center",justifyContent:"center",children:(0,j.jsx)(f.AISparkle,{size:5*v.iI,warning:!0})})}),(0,j.jsx)(h.gI,{children:(0,j.jsxs)(d.Z,{py:1,children:[(0,j.jsx)(d.Z,{mb:1,children:(0,j.jsx)(s.ZP,{default:!0,children:"New pipeline"})}),(0,j.jsx)(s.ZP,{textOverflow:!0,children:"Using AI"})]})}),(0,j.jsxs)(h.gI,{children:[(0,j.jsx)(s.ZP,{default:!0,children:"Name"}),(0,j.jsx)(p.Z,{alignRight:!0,noBackground:!0,noBorder:!0,onChange:function(e){return _((function(n){return b(b({},n),{},{name:e.target.value})}))},paddingVertical:v.iI,placeholder:"Enter pipeline name...",value:(null==I?void 0:I.name)||""})]}),(0,j.jsx)(h.gI,{children:(0,j.jsxs)(l.ZP,{flexDirection:"column",fullWidth:!0,children:[(0,j.jsx)(d.Z,{mb:2,pt:1,children:(0,j.jsx)(s.ZP,{default:!0,children:"Describe what the pipeline should do"})}),(0,j.jsxs)(d.Z,{pb:1,pr:v.cd,children:[(0,j.jsx)(a.Z,{fullWidth:!0,onChange:function(e){return _((function(n){return b(b({},n),{},{llm:{request:{pipeline_description:e.target.value},use_case:u.z.GENERATE_PIPELINE_WITH_DESCRIPTION}})}))},placeholder:"Type the pipeline purpose...",ref:w,rows:8,value:(null==I||null===(n=I.llm)||void 0===n||null===(t=n.request)||void 0===t?void 0:t.pipeline_description)||""}),(y||P)&&(0,j.jsx)(d.Z,{mt:1,children:(0,j.jsx)(s.ZP,{warning:!0,children:"Pipeline is being generated using AI based on your description above..."})})]})]})}),(0,j.jsx)(h.$b,{children:(0,j.jsxs)(l.ZP,{fullWidth:!0,children:[(0,j.jsx)(c.ZP,{bold:!0,centerText:!0,disabled:!(null!=I&&I.name&&null!=I&&null!==(r=I.llm)&&void 0!==r&&null!==(g=r.request)&&void 0!==g&&g.pipeline_description),loading:y||P,onClick:function(){C(!0),x({pipeline:I}).then((function(){return C(!1)}))},primary:!0,tabIndex:0,uuid:"AIControlPanel/CreatePipeline",children:"Create pipeline"}),O&&(0,j.jsx)(d.Z,{ml:1,children:(0,j.jsx)(o.ZP,{onClick:O,tabIndex:0,children:"Cancel"})})]})})]})}},80029:function(e,n,t){var r=t(82394),i=t(82684),o=t(9518),l=t(55485),c=t(30160),u=t(84649),d=t(28598);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.navLinks,t=e.selectedLink,r=e.setSelectedLink,s=(0,i.useContext)(o.ThemeContext);return(0,d.jsx)(d.Fragment,{children:n.map((function(e){var n=e.Icon,i=e.description,o=e.label,p=e.selectedBackgroundColor,f=e.selectedIconProps,h=e.uuid,v=(null==t?void 0:t.uuid)===h,m=a({size:u.ZG},v&&f?f:{});return(0,d.jsx)(u.wj,{onClick:function(){return r(e)},selected:v,children:(0,d.jsxs)(l.ZP,{alignItems:"center",children:[n&&(0,d.jsx)(u.ze,{backgroundColor:v&&p?p(s):null,children:(0,d.jsx)(n,a({},m))}),(0,d.jsxs)(l.ZP,{alignItems:"flex-start",flexDirection:"column",justifyContent:"center",children:[(0,d.jsx)(c.ZP,{bold:!0,large:!0,children:o?o():h}),i&&(0,d.jsx)(c.ZP,{muted:!0,small:!0,children:null==i?void 0:i()})]})]})},h)}))})}},60523:function(e,n,t){var r=t(21831),i=t(82394),o=t(82684),l=t(9518),c=t(34376),u=t(80029),d=t(54750),s=t(71180),a=t(90299),p=t(44898),f=t(55485),h=t(88328),v=t(38276),m=t(4190),j=t(48381),g=t(5755),b=t(30160),x=t(5332),y=t(72473),O=t(84649),w=t(32929),Z=t(15610),P=t(19183),C=t(28598);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n,t=e.contained,i=e.defaultLinkUUID,k=e.defaultTab,_=e.objectType,A=e.onClickCustomTemplate,S=e.pipelineUUID,D=e.showAddingNewTemplates,M=e.showBreadcrumbs,B=e.tabs,E=(0,c.useRouter)(),T=(0,o.useContext)(l.ThemeContext),N=(0,P.i)(),W=N.height,R=N.width,z=(0,o.useMemo)((function(){return B||w.dP}),[B]),L=(0,o.useState)(D||!1),U=L[0],H=L[1],F=(0,o.useState)(i?w.qy.find((function(e){return e.uuid===i})):w.qy[0]),q=F[0],Y=F[1],G=(0,o.useState)(k?z.find((function(e){return e.uuid===(null==k?void 0:k.uuid)})):z[0]),V=G[0],K=G[1],$=(0,o.useState)(null),Q=$[0],X=$[1],J=x.ZP.custom_templates.list({object_type:p.Z},{},{pauseFetch:w.n9.uuid!==(null==V?void 0:V.uuid)}),ee=J.data,ne=J.mutate,te=(0,o.useMemo)((function(){var e=(null==ee?void 0:ee.custom_templates)||[];return null!=q&&q.filterTemplates?null==q?void 0:q.filterTemplates(e):e}),[ee,q]),re=x.ZP.custom_templates.list({object_type:p.R},{},{pauseFetch:w.A2.uuid!==(null==V?void 0:V.uuid)}),ie=re.data,oe=re.mutate,le=(0,o.useMemo)((function(){var e=(null==ie?void 0:ie.custom_templates)||[];return null!=q&&q.filterTemplates?null==q?void 0:q.filterTemplates(e):e}),[ie,q]),ce=(0,o.useMemo)((function(){return w.hS.map((function(e){var n=e.Icon,t=e.label,r=e.selectedBackgroundColor,i=e.selectedIconProps,o=e.uuid,l=(null==q?void 0:q.uuid)===o,c=I({size:O.ZG},l&&i?i:{});return(0,C.jsx)(O.wj,{onClick:function(){return Y(e)},selected:l,children:(0,C.jsxs)(f.ZP,{alignItems:"center",children:[(0,C.jsx)(O.ze,{backgroundColor:l&&r?r(T):null,children:n?(0,C.jsx)(n,I({},c)):(0,C.jsx)(y.BlocksStacked,I({},c))}),(0,C.jsx)(b.ZP,{bold:!0,large:!0,children:t?t():o})]})},o)}))}),[q,T]),ue=(0,o.useMemo)((function(){return null==te?void 0:te.map((function(e){var n=e.description,t=e.name,i=e.tags,o=e.template_uuid,l=e.user,c=[];return null!=i&&i.length?c.push.apply(c,(0,r.Z)(i)):null!=l&&l.username&&c.push(null==l?void 0:l.username),(0,C.jsxs)(O.UE,{onClick:function(){A?A(e):E.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(o)))},children:[(0,C.jsx)(O.Tj,{children:(0,C.jsx)(b.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:t||o})}),(0,C.jsx)(O.SL,{children:(0,C.jsx)(b.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,C.jsx)(O.EN,{children:(null==c?void 0:c.length)>=1&&(0,C.jsx)(j.Z,{tags:null==c?void 0:c.map((function(e){return{uuid:e}}))})})]},o)}))}),[te,A,E]),de=(0,o.useMemo)((function(){return null==le?void 0:le.map((function(e){var n=e.description,t=e.name,i=e.tags,o=e.template_uuid,l=e.user,c=[];return null!=i&&i.length?c.push.apply(c,(0,r.Z)(i)):null!=l&&l.username&&c.push(null==l?void 0:l.username),(0,C.jsxs)(O.UE,{onClick:function(){A?A(e):E.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(o),"?object_type=").concat(p.R))},children:[(0,C.jsx)(O.Tj,{children:(0,C.jsx)(b.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:t||o})}),(0,C.jsx)(O.SL,{children:(0,C.jsx)(b.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,C.jsx)(O.EN,{children:(null==c?void 0:c.length)>=1&&(0,C.jsx)(j.Z,{tags:null==c?void 0:c.map((function(e){return{uuid:e}}))})})]},o)}))}),[le,A,E]),se=(0,o.useMemo)((function(){if(!M)return null;var e=[];return U?e.push.apply(e,[{label:function(){return"Templates"},onClick:function(){H(!1)}},{bold:!0,label:function(){return"New custom template"}}]):e.push({label:function(){return"Templates"}}),(0,C.jsx)(O.FX,{children:(0,C.jsx)(d.Z,{breadcrumbs:e})})}),[U,M]),ae=(0,o.useMemo)((function(){return M?36:0}),[M]),pe=(0,o.useMemo)((function(){return W-ae}),[W,ae]);if(U)return n=p.R===_&&S?(0,C.jsx)(h.Z,{onMutateSuccess:oe,pipelineUUID:S,templateAttributes:q&&(null==q?void 0:q.uuid)!==(null===w.qy||void 0===w.qy?void 0:w.qy[0].uuid)?{pipeline_type:null==q?void 0:q.uuid}:null,templateUUID:null==Q?void 0:Q.template_uuid}):(0,C.jsx)(g.Z,{contained:t,heightOffset:ae,onCreateCustomTemplate:t?function(e){X(e)}:null,onMutateSuccess:ne,templateAttributes:q&&(null==q?void 0:q.uuid)!==(null===w.qy||void 0===w.qy?void 0:w.qy[0].uuid)?{block_type:null==q?void 0:q.uuid}:null,templateUUID:null==Q?void 0:Q.template_uuid}),t?(0,C.jsxs)(C.Fragment,{children:[M&&se,(0,C.jsx)(O.Rd,{height:pe,width:R,children:n})]}):n;var fe=(0,C.jsxs)(O.Nk,{children:[(0,C.jsxs)(O.bC,{height:t?pe:null,children:[(0,C.jsx)(O.Yf,{children:(0,C.jsx)(a.Z,{noPadding:!0,onClickTab:function(e){t?K(e):(0,Z.u)({object_type:w.A2.uuid===e.uuid?p.R:p.Z})},selectedTabUUID:null==V?void 0:V.uuid,tabs:z})}),(0,C.jsxs)(O.wl,{contained:t,heightOffset:ae,children:[w.n9.uuid===(null==V?void 0:V.uuid)&&(0,C.jsx)(u.Z,{navLinks:w.qy,selectedLink:q,setSelectedLink:Y}),w.A2.uuid===(null==V?void 0:V.uuid)&&ce]})]}),(0,C.jsxs)(O.w5,{children:[w.n9.uuid===(null==V?void 0:V.uuid)&&(0,C.jsx)(O.HS,{children:(0,C.jsx)(s.ZP,{beforeIcon:(0,C.jsx)(y.Add,{size:O.ZG}),onClick:function(){H(!0)},primary:!0,children:"New block template"})}),w.n9.uuid===(null==V?void 0:V.uuid)&&(0,C.jsxs)(C.Fragment,{children:[!ee&&(0,C.jsx)(v.Z,{p:2,children:(0,C.jsx)(m.Z,{inverted:!0})}),ee&&!(null!=ue&&ue.length)&&(0,C.jsxs)(v.Z,{p:2,children:[(0,C.jsx)(b.ZP,{children:"There are currently no templates matching your search."}),(0,C.jsx)("br",{}),(0,C.jsx)(b.ZP,{children:"Add a new template by clicking the button above."})]}),(null==ue?void 0:ue.length)>=1&&(0,C.jsx)(O.n8,{children:ue})]}),w.A2.uuid===(null==V?void 0:V.uuid)&&(0,C.jsxs)(C.Fragment,{children:[!ie&&(0,C.jsx)(v.Z,{p:2,children:(0,C.jsx)(m.Z,{inverted:!0})}),ie&&!(null!=de&&de.length)&&(0,C.jsxs)(v.Z,{p:2,children:[(0,C.jsx)(b.ZP,{children:"There are currently no templates matching your search."}),(0,C.jsx)("br",{}),(0,C.jsx)(b.ZP,{children:'Add a new template by right-clicking a pipeline row from the Pipelines page and selecting "Create template".'})]}),(null==de?void 0:de.length)>=1&&(0,C.jsx)(O.n8,{children:de})]})]})]});return t?(0,C.jsxs)(C.Fragment,{children:[M&&se,(0,C.jsx)(O.Rd,{height:pe,width:R,children:fe})]}):fe}},94629:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(82394),i=t(21831),o=t(82684),l=t(50724),c=t(82555),u=t(97618),d=t(70613),s=t(31557),a=t(68899),p=t(28598);function f(e,n){var t=e.children,r=e.noPadding;return(0,p.jsx)(a.HS,{noPadding:r,ref:n,children:t})}var h=o.forwardRef(f),v=t(62547),m=t(82571),j=t(77417),g=t(46684),b=t(75375);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function O(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var t=e.after,r=e.afterHeader,o=e.afterHidden,f=e.afterWidth,x=e.afterWidthOverride,O=e.appendBreadcrumbs,w=e.before,Z=e.beforeHeader,P=e.beforeWidth,C=e.breadcrumbs,k=e.children,I=e.contained,_=e.errors,A=e.headerMenuItems,S=e.headerOffset,D=e.hideAfterCompletely,M=e.mainContainerHeader,B=e.navigationItems,E=e.setAfterHidden,T=e.setAfterWidth,N=e.setBeforeWidth,W=e.setErrors,R=e.subheaderChildren,z=e.subheaderNoPadding,L=e.title,U=e.uuid,H=(0,b.Z)(U,{beforeResizeOffset:b.H,setWidthAfter:T,setWidthBefore:N,widthAfter:f,widthBefore:P,widthOverrideAfter:x}),F=H.mainContainerRef,q=H.mousedownActiveAfter,Y=H.mousedownActiveBefore,G=H.setMousedownActiveAfter,V=H.setMousedownActiveBefore,K=H.setWidthAfter,$=H.setWidthBefore,Q=H.widthAfter,X=H.widthBefore,J=(0,j.Z)().project,ee=[];return C&&ee.push.apply(ee,(0,i.Z)(C)),null!=C&&C.length&&!O||!J||null!=C&&C.length||ee.unshift({bold:!O,label:function(){return L}}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Z,{title:L}),(0,p.jsx)(s.Z,{breadcrumbs:ee,menuItems:A}),(0,p.jsxs)(a.Nk,{ref:n,children:[0!==(null==B?void 0:B.length)&&(0,p.jsx)(a.lm,{showMore:!0,children:(0,p.jsx)(m.Z,{navigationItems:B,showMore:!0})}),(0,p.jsx)(u.Z,{flex:1,flexDirection:"column",children:(0,p.jsxs)(v.Z,{after:t,afterHeader:r,afterHeightOffset:g.Mz,afterHidden:o,afterMousedownActive:q,afterWidth:Q,before:w,beforeHeader:Z,beforeHeightOffset:g.Mz,beforeMousedownActive:Y,beforeWidth:w?X:a.k1,contained:I,headerOffset:S,hideAfterCompletely:!t||D,leftOffset:w?a.k1:null,mainContainerHeader:M,mainContainerRef:F,setAfterHidden:E,setAfterMousedownActive:G,setAfterWidth:K,setBeforeMousedownActive:V,setBeforeWidth:$,children:[R&&(0,p.jsx)(h,{noPadding:z,children:R}),k]})})]}),_&&(0,p.jsx)(l.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null==W?void 0:W(null)},children:(0,p.jsx)(c.Z,y(y({},_),{},{onClose:function(){return null==W?void 0:W(null)}}))})]})}var w=o.forwardRef(O)},65458:function(e,n,t){t.d(n,{d:function(){return d}});var r=t(72473),i=t(57653),o=t(70515),l=t(81728),c=t(28598),u=1.5*o.iI,d=function(e,n){var t=[{beforeIcon:(0,c.jsx)(r.BatchPipeline,{}),label:function(){return"Standard (batch)"},onClick:function(){var t;null!=n&&n.showCreatePipelineModal?null==n||null===(t=n.showCreatePipelineModal)||void 0===t||t.call(n,{pipelineType:i.qL.PYTHON}):e({pipeline:{name:(0,l.Y6)()}})},uuid:"Pipelines/NewPipelineMenu/standard"},{beforeIcon:(0,c.jsx)(r.IntegrationPipeline,{}),label:function(){return"Data integration"},onClick:function(){var t;null!=n&&n.showCreatePipelineModal?null==n||null===(t=n.showCreatePipelineModal)||void 0===t||t.call(n,{pipelineType:i.qL.INTEGRATION}):e({pipeline:{name:(0,l.Y6)(),type:i.qL.INTEGRATION}})},uuid:"Pipelines/NewPipelineMenu/integration"},{beforeIcon:(0,c.jsx)(r.StreamingPipeline,{size:u}),label:function(){return"Streaming"},onClick:function(){var t;null!=n&&n.showCreatePipelineModal?null==n||null===(t=n.showCreatePipelineModal)||void 0===t||t.call(n,{pipelineType:i.qL.STREAMING}):e({pipeline:{name:(0,l.Y6)(),type:i.qL.STREAMING}})},uuid:"Pipelines/NewPipelineMenu/streaming"}];return null!=n&&n.showBrowseTemplates&&t.push({beforeIcon:(0,c.jsx)(r.TemplateShapes,{}),label:function(){return"From a template"},onClick:function(){var e;return null==n||null===(e=n.showBrowseTemplates)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/custom_template"}),null!=n&&n.showImportPipelineModal&&t.push({beforeIcon:(0,c.jsx)(r.Upload,{}),label:function(){return"Import pipeline zip"},onClick:function(){var e;return null==n||null===(e=n.showImportPipelineModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/upload"}),null!=n&&n.showAIModal&&t.push({beforeIcon:(0,c.jsx)(r.AISparkle,{}),label:function(){return"Using AI (beta)"},onClick:function(){var e;return null==n||null===(e=n.showAIModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/AI_modal"}),t}},65327:function(e,n,t){t.d(n,{es:function(){return c},kA:function(){return u}});var r=t(9518),i=t(44897),o=t(42631),l=t(70515),c=(l.iI,r.default.div.withConfig({displayName:"indexstyle__DropZoneStyle",componentId:"sc-1g3zz7z-0"})(["border-radius:","px;padding:","px;max-width:","px;min-width:","px;",""],o.n_,8*l.iI,100*l.iI,55*l.iI,(function(e){return"\n    border: 1px dashed ".concat((e.theme.borders||i.Z.borders).contrast,";\n  ")}))),u=r.default.div.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1g3zz7z-1"})(["max-width:","px;min-width:","px;"],100*l.iI,55*l.iI)},14568:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(82394),i=t(75582),o=t(17717),l=t(82684),c=t(83455),u=t(9518),d=t(50402),s=t(28598);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=u.default.div.withConfig({displayName:"MultiFileInput__DropzoneStyle",componentId:"sc-1l6yd2y-0"})(["&:hover{cursor:pointer;}"]);var h=function(e){var n=e.children,t=e.fileSelectOnly,r=e.inputOnChange,i=e.inputProps,o=e.onDragActiveChange,c=e.setFiles,u=(0,l.useCallback)((function(e){c(e)}),[c]),a=(0,d.uI)({onDrop:u}),h=a.getInputProps,v=a.getRootProps,m=a.isDragActive,j=h(),g=j.accept,b=j.autoComplete,x=j.multiple,y=j.onChange,O=j.onClick,w=j.ref,Z=j.style,P=j.tabIndex,C=j.type,k=p(p({},i),{},{accept:g,autoComplete:b,multiple:x,onChange:function(e){null==r||r(e),null==i||i.onChange(e),y(e)},onClick:O,ref:w,style:Z,tabIndex:P,type:C});return(0,l.useEffect)((function(){null==o||o(m)}),[m,o]),(0,s.jsxs)(f,p(p({},v()),{},{children:[(0,s.jsx)("input",p(p({},k),{},{directory:t?null:"",webkitdirectory:t?null:""})),n]}))},v=t(5332);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=function(e){var n=e.children,t=e.directoryPath,u=e.pipelineZip,d=void 0!==u&&u,a=e.overwrite,p=void 0!==a&&a,f=e.onDragActiveChange,m=e.setFileUploadProgress,g=e.setUploadedFiles,b=(0,c.Db)(v.ZP.files.useCreate({onUploadProgress:function(e,n){var t,i=n.body,l=[null==i?void 0:i.dir_path,null==i||null===(t=i.file)||void 0===t?void 0:t.name,null==i?void 0:i.pipelineZip].filter((function(e){return(null==e?void 0:e.length)>=1})).join(o.sep);null==m||m((function(n){return j(j({},n),{},(0,r.Z)({},l,e.loaded/e.total))}))}})),x=(0,i.Z)(b,1)[0],y=(0,l.useCallback)((function(e){e.forEach((function(e){var n=e.name,i=e.path,l=[t],c=i.split(o.sep).filter((function(e){return e&&e!==n})).join(o.sep);c&&l.push(c);var u=[],s=l.join(o.sep);(null==s?void 0:s.length)>=1&&l.push(s),u.push(n);var a=u.join(o.sep);x({dir_path:s,file:e,pipeline_zip:d,overwrite:p}).then((function(e){var n=e.data,t=n.error,i=n.file;g((function(e){return j(j({},e),{},(0,r.Z)({},a,i||t))}))})),m((function(e){return j(j({},e),{},(0,r.Z)({},a,0))}))}))}),[x,t,p,m,g,d]);return(0,s.jsx)(h,{fileSelectOnly:d,onDragActiveChange:f,setFiles:y,children:n})}},4015:function(e,n,t){t.d(n,{$b:function(){return s},I5:function(){return u},Nk:function(){return c},gI:function(){return d}});var r=t(9518),i=t(44897),o=t(42631),l=t(70515),c=r.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-h093u4-0"})([""," ",""],(function(e){return!e.width&&"\n    width: ".concat(40*l.iI,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")})),u=r.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-h093u4-1"})(["padding:","px;"," ",""],2.5*l.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).dashboard,";\n    border-left: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-top-left-radius: ").concat(o.n_,"px;\n    border-top-right-radius: ").concat(o.n_,"px;\n    border-top: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.lightBackground&&"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,"\n  ")})),d=r.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-h093u4-2"})(["align-items:center;justify-content:space-between;"," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).dashboard,";\n    border-left: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-top: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    display: ").concat((null==e?void 0:e.display)||"flex",";\n    padding-bottom: ").concat(1*l.iI+((null==e?void 0:e.paddingVerticalAddition)||0),"px;\n    padding-left: ").concat(l.cd*l.iI,"px;\n    padding-top: ").concat(1*l.iI+((null==e?void 0:e.paddingVerticalAddition)||0),"px;\n  ")}),(function(e){return e.columnFlex&&"\n    display: flex;\n    flex-direction: column;\n  "}),(function(e){return e.lightBackground&&"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,"\n  ")})),s=r.default.div.withConfig({displayName:"indexstyle__FooterStyle",componentId:"sc-h093u4-3"})(["padding:","px ","px;"," ",""],2.5*l.iI,2*l.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,";\n    border-bottom-left-radius: ").concat(o.n_,"px;\n    border-bottom-right-radius: ").concat(o.n_,"px;\n    border-bottom: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-left: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.topBorder&&"\n    border-top: 1px solid ".concat((e.theme.interactive||i.Z.interactive).defaultBorder,";\n  ")}))},76111:function(e,n,t){var r=t(82394),i=t(82684),o=t(71180),l=t(97618),c=t(55485),u=t(68562),d=t(38276),s=t(30160),a=t(35576),p=t(17488),f=t(44897),h=t(4015),v=t(39643),m=t(57653),j=t(70515),g=t(81728),b=t(28598);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.onClose,t=e.onSave,r=e.pipelineType,x=m.Mj[r],O=(0,i.useRef)(null),w=(0,i.useState)({name:(0,g.Y6)()}),Z=w[0],P=w[1];(0,i.useEffect)((function(){var e;null==O||null===(e=O.current)||void 0===e||e.focus()}),[]);var C=(0,i.useCallback)((function(){var e=null==Z?void 0:Z.tags,r=[];e&&(r=e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}))),t(y(y({},Z),{},{name:(null==Z?void 0:Z.name)||(0,g.Y6)(),tags:r})),null==n||n()}),[Z,n,t]);return(0,i.useEffect)((function(){var e,t=function(e){if(e.stopPropagation(),e.key===v.KW)null==n||n();else if(e.key===v.tt){var t=e.target.innerText;t.startsWith("Create")||"Cancel"===t||C()}};return null===(e=document)||void 0===e||e.addEventListener("keydown",t),function(){var e;null===(e=document)||void 0===e||e.removeEventListener("keydown",t)}}),[C,n]),(0,b.jsxs)(h.Nk,{width:55*j.iI,children:[(0,b.jsx)(h.I5,{lightBackground:!0,children:(0,b.jsxs)(c.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,b.jsx)(s.ZP,{bold:!0,cyan:!0,largeLg:!0,children:"".concat(m.G7[r]," pipeline")}),(0,b.jsx)(x,{fill:f.Z.accent.cyan,size:10*j.iI})]})}),(0,b.jsxs)(h.gI,{lightBackground:!0,children:[(0,b.jsx)(s.ZP,{default:!0,children:"Name"}),(0,b.jsx)(p.Z,{alignRight:!0,fullWidth:!0,noBackground:!0,noBorder:!0,onChange:function(e){P((function(n){return y(y({},n),{},{name:e.target.value})}))},paddingVertical:j.iI,placeholder:"Pipeline name...",ref:O,value:(null==Z?void 0:Z.name)||""})]}),(0,b.jsxs)(h.gI,{lightBackground:!0,children:[(0,b.jsx)(s.ZP,{default:!0,children:"Description"}),(0,b.jsx)(d.Z,{ml:9}),(0,b.jsx)(d.Z,{fullWidth:!0,px:2,py:1,children:(0,b.jsx)(a.Z,{onChange:function(e){P((function(n){return y(y({},n),{},{description:e.target.value})}))},rows:2,value:(null==Z?void 0:Z.description)||""})})]}),(0,b.jsxs)(h.gI,{lightBackground:!0,children:[(0,b.jsx)(s.ZP,{default:!0,children:"Tags"}),(0,b.jsx)(p.Z,{alignRight:!0,fullWidth:!0,noBackground:!0,noBorder:!0,onChange:function(e){var n=e.target.value;P((function(e){return y(y({},e),{},{tags:n})}))},paddingVertical:j.iI,placeholder:"e.g. tag_1, tag_2",value:(null==Z?void 0:Z.tags)||""})]}),(0,b.jsx)(h.$b,{topBorder:!0,children:(0,b.jsxs)(c.ZP,{fullWidth:!0,children:[(0,b.jsx)(l.Z,{flex:"1",children:(0,b.jsx)(o.ZP,{fullWidth:!0,onClick:n,children:"Cancel"})}),(0,b.jsx)(d.Z,{ml:1}),(0,b.jsx)(l.Z,{flex:"1",children:(0,b.jsx)(u.ZP,{bold:!0,centerText:!0,disabled:!(null!=Z&&Z.name),fullWidth:!0,onClick:C,primary:!0,uuid:"ConfigurePipeline/CreatePipeline",children:"Create"})})]})})]})}},70026:function(e,n,t){var r=t(75582),i=t(34376),o=t.n(i),l=t(82684),c=t(71180),u=t(14568),d=t(55485),s=t(65956),a=t(89515),p=t(35185),f=t(38276),h=t(75499),v=t(30160),m=t(69650),j=t(65327),g=t(42122),b=t(86735),x=t(70515),y=t(89538),O=t(28598);n.Z=function(e){var n=e.fetchPipelines,t=e.onCancel,i=(0,l.useState)(!1),w=i[0],Z=i[1],P=(0,l.useState)(!1),C=P[0],k=P[1],I=(0,l.useState)({}),_=I[0],A=I[1],S=(0,l.useState)({}),D=S[0],M=S[1],B=!(0,g.Qr)(_),E=(0,y.dd)((function(){var e=Object.values(D)[0],n=null==e?void 0:e.message,r=!!n;return(0,O.jsx)(a.Z,{cancelText:r?null:"Edit ".concat(null==e?void 0:e.name),centerOnScreen:!0,confirmText:"Close",danger:r,neutral:!r,onCancel:r?void 0:function(){return o().push("/pipelines/[pipeline]/edit","/pipelines/".concat(null==e?void 0:e.name,"/edit"))},onClick:function(){return t()},subtitle:r?n:"Pipeline ".concat(null==e?void 0:e.name," successfully imported!"),title:r?"Error on pipeline import.":"Successful import!",width:50*x.iI})}),{},[D],{background:!0,uuid:"confirm_upload"}),T=(0,r.Z)(E,1)[0],N=(0,l.useMemo)((function(){var e=[];return(0,b.YC)(Object.entries(_),(function(e){var n=(0,r.Z)(e,2),t=n[0];n[1];return t})).forEach((function(n){var t=(0,r.Z)(n,2),i=t[0],o=t[1],l=D[i],c=null==l?void 0:l.message;e.push([(0,O.jsxs)("div",{children:[(0,O.jsx)(v.ZP,{overflowWrap:!0,preWrap:!0,children:i}),c&&(0,O.jsx)(f.Z,{mt:1,children:(0,O.jsx)(v.ZP,{danger:!0,small:!0,children:c})})]},"name-".concat(i)),(0,O.jsx)(p.Z,{danger:!!c,progress:100*o},"progress-".concat(i))])})),(0,O.jsx)(h.Z,{columnFlex:[1,4],columns:[{uuid:"Filename"},{uuid:"Upload progress"}],rows:e,uuid:"block-runs"})}),[_,D]);return(0,O.jsxs)(s.Z,{footer:(0,O.jsxs)(d.ZP,{fullWidth:!0,justifyContent:"space-between",children:[(0,O.jsx)(c.ZP,{onClick:function(){return t()},children:"Close"}),(0,O.jsx)(f.Z,{ml:1,children:(0,O.jsxs)(d.ZP,{alignItems:"center",justifyContent:"flex-end",children:[(0,O.jsx)(v.ZP,{children:"Overwrite pipeline files"}),(0,O.jsx)(f.Z,{ml:1}),(0,O.jsx)(m.Z,{checked:w,onCheck:Z})]})})]}),headerTitle:"Import pipeline from .zip file",children:[B&&(0,O.jsx)(j.kA,{children:N}),!B&&(0,O.jsxs)(u.Z,{directoryPath:null,onDragActiveChange:k,overwrite:w,pipelineZip:!0,setFileUploadProgress:A,setUploadedFiles:function(e){M(e),T(),null==n||n()},children:[(0,O.jsx)(j.es,{children:(0,O.jsxs)(v.ZP,{center:!0,children:[C&&"Drop pipeline zip to import",!C&&"Click or drop pipeline zip to upload"]})}),(0,O.jsx)(f.Z,{mt:2,children:(0,O.jsxs)(v.ZP,{warning:!0,children:["The zip file should include the pipeline’s metadata.yaml file and each",(0,O.jsx)("br",{}),"block’s script file in the root folder."]})})]})]})}},48381:function(e,n,t){var r=t(82684),i=t(31882),o=t(55485),l=t(30160),c=t(86735),u=t(28598);n.Z=function(e){var n=e.onClickTag,t=e.tags,d=void 0===t?[]:t,s=(0,r.useMemo)((function(){return(null==d?void 0:d.length)||0}),[d]),a=(0,r.useMemo)((function(){return(0,c.YC)(d||[],"uuid")}),[d]);return(0,u.jsx)(o.ZP,{alignItems:"center",flexWrap:"wrap",children:null==a?void 0:a.reduce((function(e,t){return e.push((0,u.jsx)("div",{style:{marginBottom:2,marginRight:s>=2?4:0,marginTop:2},children:(0,u.jsx)(i.Z,{onClick:n?function(){return n(t)}:null,small:!0,children:(0,u.jsx)(l.ZP,{children:t.uuid})})},"tag-".concat(t.uuid))),e}),[])})}},75375:function(e,n,t){t.d(n,{H:function(){return f},Z:function(){return v}});var r=t(82394),i=t(82684),o=t(98464),l=t(70515),c=t(53808),u=t(19183);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var a=25*l.iI,p=2*a,f=72;function h(e,n,t){var r=t.disable,l=t.hidden,u=(t.mainContainerWidth,t.refOther),d=t.resizeOffset,f=void 0===d?0:d,h=t.setWidth,v=t.width,m=t.widthOverride,j=t.widthWindow,g=(0,i.useMemo)((function(){return"".concat(e,"_width")}),[e]),b=(0,i.useMemo)((function(){return"".concat(e,"_hidden")}),[e]),x=(0,c.U2)(b),y=(0,c.U2)(g),O=(0,i.useState)([x,l,!1].find((function(e){return null!=e}))),w=O[0],Z=O[1],P=(0,i.useState)(!1),C=P[0],k=P[1],I=(0,i.useState)(void 0!==y?y:void 0!==v?v:a),_=I[0],A=I[1],S=(0,i.useCallback)((function(e){Z(e),(0,c.t8)(b,"function"==typeof e?null==e?void 0:e():e)}),[b]),D=(0,i.useMemo)((function(){var e=void 0!==v&&m?v:_;return void 0!==j&&(e=Math.min(e,j-(p+a))),n.current=s(s({},n.current),{},{widthOverride:m,widthProp:v}),e||a}),[h,m,v,_]),M=(0,i.useCallback)((function(e){if(!r){var t,i,o,l,d,v=Math.max(j-(p+(null!=u&&null!==(t=u.current)&&void 0!==t&&t.disable?0:(null!=u&&null!==(i=u.current)&&void 0!==i&&i.widthOverride?null==u||null===(o=u.current)||void 0===o?void 0:o.widthProp:null==u||null===(l=u.current)||void 0===l?void 0:l.width)||a)),a+p+(null!=u&&null!==(d=u.current)&&void 0!==d&&d.disable?0:a)),m=e+f;m<a?m=a:m>v&&(m=e),e&&(A(m),(0,c.uN)(g,m),h&&h(m)),n.current=s(s({},n.current),{},{disable:r,width:m})}}),[r,g,n,u,f,h,j]),B=(0,o.Z)(j);(0,i.useEffect)((function(){void 0!==j&&void 0!==B&&j!==B&&M(j*(D/B))}),[D,j,B]);var E=(0,o.Z)(v);return(0,i.useEffect)((function(){!r&&m&&E!==v&&M(v)}),[r,M,m,v,E]),{hidden:w,mousedownActive:C,setHidden:S,setMousedownActive:k,setWidth:M,width:D}}function v(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.beforeResizeOffset,r=n.disableAfter,o=n.disableBefore,l=n.hiddenAfter,c=n.hiddenBefore,d=n.mainContainerRef,s=n.setWidthAfter,a=n.setWidthBefore,f=n.widthAfter,v=n.widthBefore,m=n.widthOverrideAfter,j=n.widthOverrideBefore,g=(0,u.i)().width,b=(0,i.useMemo)((function(){return"layout_after_".concat(e)}),[e]),x=(0,i.useMemo)((function(){return"layout_before_".concat(e)}),[e]),y=d||(0,i.useRef)(null),O=(0,i.useState)(null),w=O[0],Z=O[1],P=(0,i.useMemo)((function(){return Math.max(w-p,p)}),[w]),C=(0,i.useRef)({disable:r,widthOverride:m,width:null,widthProp:f}),k=(0,i.useRef)({disable:o,widthOverride:j,width:null,widthProp:v}),I=h(b,C,{disable:r,hidden:l,mainContainerWidth:P,refOther:k,setWidth:s,width:f,widthOverride:m,widthWindow:g}),_=I.hidden,A=I.mousedownActive,S=I.setHidden,D=I.setMousedownActive,M=I.setWidth,B=I.width,E=h(x,k,{disable:o,hidden:c,mainContainerWidth:P,refOther:C,resizeOffset:t,setWidth:a,width:v,widthOverride:j,widthWindow:g}),T=E.hidden,N=E.mousedownActive,W=E.setHidden,R=E.setMousedownActive,z=E.setWidth,L=E.width;return(0,i.useEffect)((function(){k.current={disable:o,width:L,widthOverride:j,widthProp:v}}),[o,L,j]),(0,i.useEffect)((function(){var e,n;null==y||!y.current||A||N||(null==Z||Z(null==y||null===(e=y.current)||void 0===e||null===(n=e.getBoundingClientRect())||void 0===n?void 0:n.width))}),[A,N,Z,B,L,g]),{hiddenAfter:_,hiddenBefore:T,mainContainerRef:y,mousedownActiveAfter:A,mousedownActiveBefore:N,setHiddenAfter:S,setHiddenBefore:W,setMousedownActiveAfter:D,setMousedownActiveBefore:R,setWidthAfter:M,setWidthBefore:z,widthAfter:B,widthBefore:L}}},55729:function(e,n,t){t.d(n,{Z:function(){return W}});var r=t(82394),i=t(75582),o=t(82684),l=t(83455),c=t(71180),u=t(15338),d=t(97618),s=t(55485),a=t(85854),p=t(48670),f=t(65956),h=t(82359),v=t(88543),m=t(38276),j=t(30160),g=t(17488),b=t(69650),x=t(12468),y=t(5332),O=t(77417),w=t(9518),Z=t(44897),P=t(42631),C=t(70515),k=w.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1b0w59t-0"})(["border-radius:","px;padding:","px;",""],P.n_,C.cd*C.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).codeArea,";\n  ")})),I=t(72473),_=t(72191),A=t(70320),S=t(81728),D=t(42122),M=t(72619),B=t(23780),E=t(28598);function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var W=function(e){var n,t,w,Z=e.cancelButtonText,P=e.contained,T=e.header,W=e.onCancel,R=e.onSaveSuccess,z=e.rootProject,L=(0,B.VI)(null,{},[],{uuid:"settings/workspace/preferences"}),U=(0,i.Z)(L,1)[0],H=(0,o.useState)(null),F=H[0],q=H[1],Y=(0,o.useState)(!1),G=Y[0],V=Y[1],K=(0,O.Z)(),$=K.fetchProjects,Q=K.project,X=K.projectPlatformActivated,J=K.rootProject,ee=(0,o.useMemo)((function(){return z?J:Q}),[Q,J,z]),ne=ee||{},te=ne.name,re=ne.openai_api_key,ie=ne.project_uuid,oe=(0,o.useMemo)((function(){return"demo.mage.ai"===window.location.hostname}),[]);(0,o.useEffect)((function(){F||q(ee)}),[ee,F]);var le=(0,l.Db)(y.ZP.projects.useUpdate(te),{onSuccess:function(e){return(0,M.wD)(e,{callback:function(e){var n,t=e.project;$(),q(t),V(!1),(0,A.hY)(null==t||null===(n=t.features)||void 0===n?void 0:n[h.d.LOCAL_TIMEZONE]),R&&(null==R||R(t))},onErrorCallback:function(e,n){return U({errors:n,response:e})}})}}),ce=(0,i.Z)(le,2),ue=ce[0],de=ce[1].isLoading,se=(0,o.useCallback)((function(e){return ue({project:N(N({},e),{},{root_project:z})})}),[z,ue]),ae=(0,E.jsxs)(E.Fragment,{children:[T,(0,E.jsxs)(f.Z,{noPadding:!0,children:[(0,E.jsxs)(m.Z,{p:C.cd,children:[(0,E.jsx)(m.Z,{mb:1,children:(0,E.jsx)(a.Z,{level:5,children:"Project name"})}),(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:te})]}),(0,E.jsx)(u.Z,{light:!0}),(0,E.jsxs)(m.Z,{p:C.cd,children:[(0,E.jsx)(m.Z,{mb:1,children:(0,E.jsx)(a.Z,{level:5,children:"Project UUID"})}),(0,E.jsx)(j.ZP,{default:!!ie,monospace:!0,muted:!ie,children:ie||"Not required"})]}),(0,E.jsx)(u.Z,{light:!0}),(0,E.jsx)(m.Z,{p:C.cd,children:(0,E.jsxs)(s.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,E.jsxs)(d.Z,{flexDirection:"column",children:[(0,E.jsx)(m.Z,{mb:1,children:(0,E.jsx)(a.Z,{level:5,children:"Help improve Mage"})}),(0,E.jsxs)(j.ZP,{default:!0,children:["Please contribute usage statistics to help improve the developer experience for you and everyone in the community. Learn more ",(0,E.jsx)(p.Z,{href:"https://docs.mage.ai/contributing/statistics/overview",openNewWindow:!0,children:"here"}),"."]})]}),(0,E.jsx)(m.Z,{mr:C.cd}),(0,E.jsx)(b.Z,{checked:null==F?void 0:F.help_improve_mage,compact:!0,id:"help_improve_mage_toggle",onCheck:function(){return q((function(e){return N(N({},e),{},{help_improve_mage:!(null!=F&&F.help_improve_mage)})}))}})]})})]}),(0,E.jsx)(m.Z,{mt:C.HN}),(0,E.jsx)(v.Z,{description:"Global settings that are applied to all pipelines in this project.",title:"Pipeline settings",children:(0,E.jsx)(v.S,{description:"Every time a trigger is created or updated in this pipeline, automatically persist it in code.",title:"Save triggers in code automatically",toggleSwitch:{checked:!(null==F||null===(n=F.pipelines)||void 0===n||null===(t=n.settings)||void 0===t||null===(w=t.triggers)||void 0===w||!w.save_in_code_automatically),onCheck:function(e){return q((function(n){var t,r,i,o,l,c;return N(N({},n),{},{pipelines:N(N({},null==n?void 0:n.pipelines),{},{settings:N(N({},null==n||null===(t=n.pipelines)||void 0===t?void 0:t.settings),{},{triggers:N(N({},null==n||null===(r=n.pipelines)||void 0===r||null===(i=r.settings)||void 0===i?void 0:i.triggers),{},{save_in_code_automatically:e(null==n||null===(o=n.pipelines)||void 0===o||null===(l=o.settings)||void 0===l||null===(c=l.triggers)||void 0===c?void 0:c.save_in_code_automatically)})})})})}))}}})}),(0,E.jsx)(m.Z,{mt:C.HN}),(0,E.jsx)(f.Z,{noPadding:!0,overflowVisible:!0,children:(0,E.jsxs)(m.Z,{p:C.cd,children:[(0,E.jsx)(m.Z,{mb:1,children:(0,E.jsxs)(a.Z,{level:5,children:["Features ",(0,E.jsx)(p.Z,{bold:!0,href:"https://docs.mage.ai/development/project/features",largeSm:!0,openNewWindow:!0,children:"(docs)"})]})}),Object.entries((0,D.gR)(null==F?void 0:F.features,[h.d.CODE_BLOCK_V2])||{}).map((function(e,n){var t=(0,i.Z)(e,2),o=t[0],l=t[1],c=X&&!z&&(null==ee?void 0:ee.features_override)&&o in(null==ee?void 0:ee.features_override);return(0,E.jsx)(m.Z,{mt:0===n?0:1,children:(0,E.jsxs)(s.ZP,{alignItems:"center",children:[(0,E.jsxs)(d.Z,{flex:1,children:[(0,E.jsx)(b.Z,{disabled:c,checked:!!l,compact:!0,onCheck:function(){return q((function(e){return N(N({},e),{},{features:N(N({},null==F?void 0:F.features),{},(0,r.Z)({},o,!l))})}))}}),(0,E.jsx)(m.Z,{mr:C.cd}),(0,E.jsxs)(d.Z,{children:[(0,E.jsx)(j.ZP,{default:!l,monospace:!0,children:(0,S.vg)(o)}),o===h.d.LOCAL_TIMEZONE&&(0,E.jsx)(m.Z,{ml:1,children:(0,E.jsx)(x.Z,N({},A.EB))})]})]}),c&&(0,E.jsx)(j.ZP,{monospace:!0,muted:!0,small:!0,children:"overridden"})]})},o)}))]})}),(0,E.jsx)(m.Z,{mt:C.HN}),(0,E.jsx)(f.Z,{noPadding:!0,children:(0,E.jsxs)(m.Z,{p:C.cd,children:[(0,E.jsx)(m.Z,{mb:1,children:(0,E.jsx)(a.Z,{level:5,children:"OpenAI"})}),re&&!G?(0,E.jsxs)(s.ZP,N(N({},s.A0),{},{children:[(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:"API key: ********"}),(0,E.jsx)(c.ZP,{iconOnly:!0,onClick:function(){return V(!0)},secondary:!0,title:"Edit",children:(0,E.jsx)(I.Edit,{size:_.bL})})]})):(0,E.jsx)(g.Z,{disabled:oe,label:oe?"Entering API key is disabled on demo":"API key",monospace:!0,onChange:function(e){return q((function(n){return N(N({},n),{},{openai_api_key:e.target.value})}))},primary:!0,setContentOnMount:!0,value:(null==F?void 0:F.openai_api_key)||""})]})}),(0,E.jsx)(m.Z,{mt:C.HN}),(0,E.jsxs)(s.ZP,{alignItems:"center",children:[(0,E.jsx)(c.ZP,{id:"save-project-settings",loading:de,onClick:function(){var e={features:null==F?void 0:F.features,help_improve_mage:null==F?void 0:F.help_improve_mage,openai_api_key:null==F?void 0:F.openai_api_key,pipelines:null==F?void 0:F.pipelines};!0===(null==ee?void 0:ee.help_improve_mage)&&!1===(null==F?void 0:F.help_improve_mage)&&(e.deny_improve_mage=!0),se(e)},primary:!0,children:"Save project settings"}),W&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.Z,{mr:C.cd}),(0,E.jsx)(c.ZP,{onClick:W,secondary:!0,children:Z||"Cancel"})]})]})]});return P?(0,E.jsx)(k,{children:ae}):ae}},81066:function(e,n,t){t.d(n,{B:function(){return p}});var r=t(82394),i=t(46732),o=t(68562),l=t(72473),c=t(8059),u=t(70515),d=t(28598);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p={bold:!0,greyBorder:!0,paddingBottom:9,paddingTop:9};n.Z=function(e){var n=e.addButtonMenuOpen,t=e.addButtonMenuRef,r=e.isLoading,s=e.label,f=e.menuItems,h=e.onClick,v=e.onClickCallback;return(0,d.jsx)(i.Z,{disableKeyboardShortcuts:!0,items:f,onClickCallback:v,onClickOutside:v,open:n,parentRef:t,roundedStyle:!0,topOffset:1,uuid:"Table/Toolbar/NewItemMenu",children:(0,d.jsx)(o.ZP,a(a({},p),{},{background:c.eW,beforeElement:(0,d.jsx)(l.Add,{size:2.5*u.iI}),loading:r,onClick:function(e){e.preventDefault(),null==h||h()},uuid:"shared/AddButton/index",children:s}))})}}}]);